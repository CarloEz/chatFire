(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u}));var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),u=s[1],a=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(a);u.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),u=n("2fFW"),a=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let u=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(u=Object.create(e),Object(r.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=u.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}__tryOrSetError(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),u=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),a=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(u.add(s?s.call(u,this.source):this.source||a.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),a.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?u.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),u=n("I55L"),a=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function u(...t){let e=Number.POSITIVE_INFINITY,n=null,u=t[t.length-1];return Object(i.a)(u)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof u&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),u=n("Ylt2"),a=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[a.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(t,e,n,s,u=new r.a(t,n,s)){if(!u.closed)return e instanceof o.a?e.subscribe(u):Object(i.a)(e)(u)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),u=n("Cfvw");class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new o.a(this,e,n),s=this.destination;s.add(i);const u=Object(r.a)(this,t,void 0,void 0,i);u!==i&&s.add(u)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}var l=n("SpAZ");function h(t=Number.POSITIVE_INFINITY){return function t(e,n,r=Number.POSITIVE_INFINITY){return"function"==typeof n?i=>i.pipe(t((t,r)=>Object(u.a)(e(t,r)).pipe(Object(s.a)((e,i)=>n(t,e,r,i))),r)):("number"==typeof n&&(r=n),t=>t.lift(new a(e,r)))}(l.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return hu})),n.d(e,"b",(function(){return cu})),n.d(e,"c",(function(){return lu})),n.d(e,"d",(function(){return ra})),n.d(e,"e",(function(){return Qu})),n.d(e,"f",(function(){return cs})),n.d(e,"g",(function(){return bu})),n.d(e,"h",(function(){return ls})),n.d(e,"i",(function(){return yn})),n.d(e,"j",(function(){return uu})),n.d(e,"k",(function(){return X})),n.d(e,"l",(function(){return Q})),n.d(e,"m",(function(){return no})),n.d(e,"n",(function(){return Ss})),n.d(e,"o",(function(){return js})),n.d(e,"p",(function(){return mu})),n.d(e,"q",(function(){return ft})),n.d(e,"r",(function(){return Ju})),n.d(e,"s",(function(){return Nu})),n.d(e,"t",(function(){return m})),n.d(e,"u",(function(){return yu})),n.d(e,"v",(function(){return pu})),n.d(e,"w",(function(){return ps})),n.d(e,"x",(function(){return fs})),n.d(e,"y",(function(){return ds})),n.d(e,"z",(function(){return vs})),n.d(e,"A",(function(){return nr})),n.d(e,"B",(function(){return Ps})),n.d(e,"C",(function(){return Fu})),n.d(e,"D",(function(){return ms})),n.d(e,"E",(function(){return gs})),n.d(e,"F",(function(){return Rs})),n.d(e,"G",(function(){return wt})),n.d(e,"H",(function(){return lo})),n.d(e,"I",(function(){return Wu})),n.d(e,"J",(function(){return Dn})),n.d(e,"K",(function(){return M})),n.d(e,"L",(function(){return kn})),n.d(e,"M",(function(){return ea})),n.d(e,"N",(function(){return qu})),n.d(e,"O",(function(){return gu})),n.d(e,"P",(function(){return qi})),n.d(e,"Q",(function(){return Qs})),n.d(e,"R",(function(){return tr})),n.d(e,"S",(function(){return or})),n.d(e,"T",(function(){return Mn})),n.d(e,"U",(function(){return In})),n.d(e,"V",(function(){return Tn})),n.d(e,"W",(function(){return Sn})),n.d(e,"X",(function(){return An})),n.d(e,"Y",(function(){return Cn})),n.d(e,"Z",(function(){return xn})),n.d(e,"ab",(function(){return Ws})),n.d(e,"bb",(function(){return ta})),n.d(e,"cb",(function(){return $s})),n.d(e,"db",(function(){return Zs})),n.d(e,"eb",(function(){return On})),n.d(e,"fb",(function(){return z})),n.d(e,"gb",(function(){return ho})),n.d(e,"hb",(function(){return Ao})),n.d(e,"ib",(function(){return Co})),n.d(e,"jb",(function(){return co})),n.d(e,"kb",(function(){return Js})),n.d(e,"lb",(function(){return zt})),n.d(e,"mb",(function(){return P})),n.d(e,"nb",(function(){return En})),n.d(e,"ob",(function(){return zo})),n.d(e,"pb",(function(){return Zo})),n.d(e,"qb",(function(){return ss})),n.d(e,"rb",(function(){return Or})),n.d(e,"sb",(function(){return vo})),n.d(e,"tb",(function(){return Vo})),n.d(e,"ub",(function(){return Ot})),n.d(e,"vb",(function(){return Nt})),n.d(e,"wb",(function(){return O})),n.d(e,"xb",(function(){return T})),n.d(e,"yb",(function(){return xt})),n.d(e,"zb",(function(){return kt})),n.d(e,"Ab",(function(){return mo})),n.d(e,"Bb",(function(){return Oo})),n.d(e,"Cb",(function(){return Io})),n.d(e,"Db",(function(){return Eo})),n.d(e,"Eb",(function(){return To})),n.d(e,"Fb",(function(){return hn})),n.d(e,"Gb",(function(){return at})),n.d(e,"Hb",(function(){return bo})),n.d(e,"Ib",(function(){return au})),n.d(e,"Jb",(function(){return xo})),n.d(e,"Kb",(function(){return No})),n.d(e,"Lb",(function(){return wo})),n.d(e,"Mb",(function(){return iu})),n.d(e,"Nb",(function(){return ou})),n.d(e,"Ob",(function(){return ue})),n.d(e,"Pb",(function(){return St})),n.d(e,"Qb",(function(){return go})),n.d(e,"Rb",(function(){return Uo})),n.d(e,"Sb",(function(){return Ho})),n.d(e,"Tb",(function(){return qo}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),u=n("7o/Q");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends u.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return a()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function y(t){return{toString:t}.toString()}function v(t,e,n){return y(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const g=v("Inject",t=>({token:t})),m=v("Optional"),b=v("Self"),w=v("SkipSelf");var _=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function E(t){for(let e in t)if(t[e]===E)return e;throw Error("Could not find renamed property on target object.")}function I(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function T(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function C(t){return A(t,t[S])||A(t,t[k])}function A(t,e){return e&&e.token===t?e:null}function x(t){return t&&(t.hasOwnProperty(j)||t.hasOwnProperty(D))?t[j]:null}const S=E({"\u0275prov":E}),j=E({"\u0275inj":E}),N=E({"\u0275provFallback":E}),k=E({ngInjectableDef:E}),D=E({ngInjectorDef:E});function P(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(P).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function V(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const R=E({__forward_ref__:E});function M(t){return t.__forward_ref__=M,t.toString=function(){return P(this())},t}function L(t){return F(t)?t():t}function F(t){return"function"==typeof t&&t.hasOwnProperty(R)&&t.__forward_ref__===M}const U="undefined"!=typeof globalThis&&globalThis,H="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G="undefined"!=typeof global&&global,z=U||G||H||q,B=E({"\u0275cmp":E}),K=E({"\u0275dir":E}),J=E({"\u0275pipe":E}),W=E({"\u0275mod":E}),$=E({"\u0275loc":E}),Z=E({"\u0275fac":E}),Y=E({__NG_ELEMENT_ID__:E});class Q{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const X=new Q("INJECTOR",-1),tt={},et=/\n/gm,nt=E({provide:String,useValue:E});let rt,it=void 0;function ot(t){const e=it;return it=t,e}function st(t){const e=rt;return rt=t,e}function ut(t,e=_.Default){if(void 0===it)throw new Error("inject() must be called from an injection context");return null===it?ct(t,void 0,e):it.get(t,e&_.Optional?null:void 0,e)}function at(t,e=_.Default){return(rt||ut)(L(t),e)}function ct(t,e,n){const r=C(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&_.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${P(t)}]`)}function lt(t){const e=[];for(let n=0;n<t.length;n++){const r=L(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=_.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof m||"Optional"===i.ngMetadataName||i===m?n|=_.Optional:i instanceof w||"SkipSelf"===i.ngMetadataName||i===w?n|=_.SkipSelf:i instanceof b||"Self"===i.ngMetadataName||i===b?n|=_.Self:t=i instanceof g||i===g?i.token:i}e.push(at(t,n))}else e.push(at(r))}return e}class ht{get(t,e=tt){if(e===tt){const e=new Error(`NullInjectorError: No provider for ${P(t)}!`);throw e.name="NullInjectorError",e}return e}}class ft{}function dt(t,e){t.forEach(t=>Array.isArray(t)?dt(t,e):e(t))}function pt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vt(t,e,n){let r=mt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function gt(t,e){const n=mt(t,e);if(n>=0)return t[1|n]}function mt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const bt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),wt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),_t={},Et=[];let It=0;function Ot(t){return y(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Et,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||wt.Emulated,id:"c",styles:t.styles||Et,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,s=t.features,u=t.pipes;return i.id+=It++,i.inputs=jt(t.inputs,r),i.outputs=jt(t.outputs),s&&s.forEach(t=>t(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Tt):null,i.pipeDefs=u?()=>("function"==typeof u?u():u).map(Ct):null,i})}function Tt(t){return Dt(t)||function(t){return t[K]||null}(t)}function Ct(t){return function(t){return t[J]||null}(t)}const At={};function xt(t){const e={type:t.type,bootstrap:t.bootstrap||Et,declarations:t.declarations||Et,imports:t.imports||Et,exports:t.exports||Et,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&y(()=>{At[t.id]=t.type}),e}function St(t,e){return y(()=>{const n=Vt(t,!0);n.declarations=e.declarations||Et,n.imports=e.imports||Et,n.exports=e.exports||Et})}function jt(t,e){if(null==t)return _t;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Nt=Ot;function kt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Dt(t){return t[B]||null}function Pt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}function Vt(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${P(t)} does not have '\u0275mod' property.`);return n}function Rt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Mt(t){return Array.isArray(t)&&!0===t[1]}function Lt(t){return 0!=(8&t.flags)}function Ft(t){return 2==(2&t.flags)}function Ut(t){return 1==(1&t.flags)}function Ht(t){return null!==t.template}function qt(t){return 0!=(512&t[2])}let Gt=void 0;function zt(t){Gt=t}function Bt(t){return!!t.listen}const Kt={createRenderer:(t,e)=>void 0!==Gt?Gt:"undefined"!=typeof document?document:void 0};function Jt(t){for(;Array.isArray(t);)t=t[0];return t}function Wt(t,e){return Jt(e[t+20])}function $t(t,e){return Jt(e[t.index])}function Zt(t,e){return t.data[e+20]}function Yt(t,e){const n=e[t];return Rt(n)?n:n[0]}function Qt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Xt(t){return 128==(128&t[2])}function te(t,e){return null===t||null==e?null:t[e]}function ee(t){t[18]=0}function ne(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const re={lFrame:_e(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ie(){return re.bindingsEnabled}function oe(){return re.lFrame.lView}function se(){return re.lFrame.tView}function ue(t){re.lFrame.contextLView=t}function ae(){return re.lFrame.previousOrParentTNode}function ce(t,e){re.lFrame.previousOrParentTNode=t,re.lFrame.isParent=e}function le(){return re.lFrame.isParent}function he(){return re.checkNoChangesMode}function fe(t){re.checkNoChangesMode=t}function de(){const t=re.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function pe(){return re.lFrame.bindingIndex++}function ye(t,e){const n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,ve(e)}function ve(t){re.lFrame.currentDirectiveIndex=t}function ge(t){re.lFrame.currentQueryIndex=t}function me(t,e){const n=we();re.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function be(t,e){const n=we(),r=t[1];re.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function we(){const t=re.lFrame,e=null===t?null:t.child;return null===e?_e(t):e}function _e(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ee(){const t=re.lFrame;return re.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const Ie=Ee;function Oe(){const t=Ee();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Te(){return re.lFrame.selectedIndex}function Ce(t){re.lFrame.selectedIndex=t}function Ae(){const t=re.lFrame;return Zt(t.tView,t.selectedIndex)}function xe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function Se(t,e,n){ke(t,e,3,n)}function je(t,e,n,r){(3&t[2])===n&&ke(t,e,n,r)}function Ne(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ke(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(De(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function De(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class Pe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ve(t,e,n){const r=Bt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],u=n[i++],a=n[i++];r?t.setAttribute(e,u,a,s):e.setAttributeNS(s,u,a)}else{const s=o,u=n[++i];Me(s)?r&&t.setProperty(e,s,u):r?t.setAttribute(e,s,u):e.setAttribute(s,u),i++}}return i}function Re(t){return 3===t||4===t||6===t}function Me(t){return 64===t.charCodeAt(0)}function Le(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Fe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Fe(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ue(t){return-1!==t}function He(t){return 32767&t}function qe(t){return t>>16}function Ge(t,e){let n=qe(t),r=e;for(;n>0;)r=r[15],n--;return r}function ze(t){return"string"==typeof t?t:null==t?"":""+t}function Be(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ze(t)}const Ke=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function Je(t){return t instanceof Function?t():t}let We=!0;function $e(t){const e=We;return We=t,e}let Ze=0;function Ye(t,e){const n=Xe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Qe(r.data,t),Qe(e,null),Qe(r.blueprint,null));const i=tn(t,e),o=t.injectorIndex;if(Ue(i)){const t=He(i),n=Ge(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Qe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Xe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function tn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function en(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[Y]:n.charCodeAt(0)||0;null==r&&(r=n[Y]=Ze++);const i=255&r,o=1<<i,s=64&i,u=32&i,a=e.data;128&i?s?u?a[t+7]|=o:a[t+6]|=o:u?a[t+5]|=o:a[t+4]|=o:s?u?a[t+3]|=o:a[t+2]|=o:u?a[t+1]|=o:a[t]|=o}(t,e,n)}function nn(t,e,n,r=_.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Y];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){me(e,t);try{const t=i();if(null!=t||r&_.Optional)return t;throw new Error(`No provider for ${Be(n)}!`)}finally{Ie()}}else if("number"==typeof i){if(-1===i)return new cn(t,e);let o=null,s=Xe(t,e),u=-1,a=r&_.Host?e[16][6]:null;for((-1===s||r&_.SkipSelf)&&(u=-1===s?tn(t,e):e[s+8],an(r,!1)?(o=e[1],s=He(u),e=Ge(u,e)):s=-1);-1!==s;){u=e[s+8];const t=e[1];if(un(i,s,t.data)){const t=on(s,e,n,o,r,a);if(t!==rn)return t}an(r,e[1].data[s+8]===a)&&un(i,s,e)?(o=t,s=He(u),e=Ge(u,e)):s=-1}}}if(r&_.Optional&&void 0===i&&(i=null),0==(r&(_.Self|_.Host))){const t=e[9],o=st(void 0);try{return t?t.get(n,i,r&_.Optional):ct(n,i,r&_.Optional)}finally{st(o)}}if(r&_.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Be(n)}]`)}const rn={};function on(t,e,n,r,i,o){const s=e[1],u=s.data[t+8],a=function(t,e,n,r,i){const o=t.providerIndexes,s=e.data,u=65535&o,a=t.directiveStart,c=o>>16,l=i?u+c:t.directiveEnd;for(let h=r?u:u+c;h<l;h++){const t=s[h];if(h<a&&n===t||h>=a&&t.type===n)return h}if(i){const t=s[a];if(t&&Ht(t)&&t.type===n)return a}return null}(u,s,n,null==r?Ft(u)&&We:r!=s&&3===u.type,i&_.Host&&o===u);return null!==a?sn(e,s,a,u):rn}function sn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Pe){const s=i;if(s.resolving)throw new Error("Circular dep for "+Be(o[n]));const u=$e(s.canSeeViewProviders);let a;s.resolving=!0,s.injectImpl&&(a=st(s.injectImpl)),me(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:o}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&st(a),$e(u),s.resolving=!1,Ie()}}return i}function un(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function an(t,e){return!(t&_.Self||t&_.Host&&e)}class cn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return nn(this._tNode,this._lView,t,void 0,e)}}function ln(t){const e=t;if(F(t))return()=>{const t=ln(L(e));return t?t():null};let n=Pt(e);if(null===n){const t=x(e);n=t&&t.factory}return n||null}function hn(t){return y(()=>{const e=t.prototype.constructor,n=e[Z]||ln(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||ln(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function fn(t){return t.ngDebugContext}function dn(t){return t.ngOriginalError}function pn(t,...e){t.error(...e)}class yn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||pn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?fn(t)?fn(t):this._findContext(dn(t)):null}_findOriginalError(t){let e=dn(t);for(;e&&dn(e);)e=dn(e);return e}}class vn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class gn extends vn{getTypeName(){return"HTML"}}class mn extends vn{getTypeName(){return"Style"}}class bn extends vn{getTypeName(){return"Script"}}class wn extends vn{getTypeName(){return"URL"}}class _n extends vn{getTypeName(){return"ResourceURL"}}function En(t){return t instanceof vn?t.changingThisBreaksApplicationSecurity:t}function In(t,e){const n=On(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function On(t){return t instanceof vn&&t.getTypeName()||null}function Tn(t){return new gn(t)}function Cn(t){return new mn(t)}function An(t){return new bn(t)}function xn(t){return new wn(t)}function Sn(t){return new _n(t)}let jn=!0,Nn=!1;function kn(){return Nn=!0,jn}function Dn(){if(Nn)throw new Error("Cannot enable prod mode after platform setup.");jn=!1}class Pn{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Vn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Rn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Mn(t){return(t=String(t)).match(Vn)||t.match(Rn)?t:(kn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Ln(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Fn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Un=Ln("area,br,col,hr,img,wbr"),Hn=Ln("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qn=Ln("rp,rt"),Gn=Fn(qn,Hn),zn=Fn(Un,Fn(Hn,Ln("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fn(qn,Ln("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gn),Bn=Ln("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kn=Ln("srcset"),Jn=Fn(Bn,Kn,Ln("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ln("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wn=Ln("script,style,template");class $n{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!zn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Wn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Jn.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Bn[o]&&(s=Mn(s)),Kn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Mn(t.trim())).join(", ")),this.buf.push(" ",e,'="',Qn(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();zn.hasOwnProperty(e)&&!Un.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Qn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const Zn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yn=/([^\#-~ |!])/g;function Qn(t){return t.replace(/&/g,"&amp;").replace(Zn,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Yn,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xn;function tr(t,e){let n=null;try{Xn=Xn||new Pn(t);let r=e?String(e):"";n=Xn.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Xn.getInertBodyElement(r)}while(r!==o);const s=new $n,u=s.sanitizeChildren(er(n)||n);return kn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),u}finally{if(n){const t=er(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function er(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const nr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),rr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ir=/^url\(([^)]+)\)$/;function or(t){if(!(t=String(t).trim()))return"";const e=t.match(ir);return e&&Mn(e[1])===e[1]||t.match(rr)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(kn()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function sr(t,e){t.__ngContext__=e}function ur(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function ar(){throw new Error("Cannot mix multi providers and regular providers")}function cr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function lr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==cr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function hr(t){return 0===t.type&&"ng-template"!==t.tagName}function fr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function dr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Re(t[e]))return e;return t.length}(i);let s=!1;for(let u=0;u<e.length;u++){const a=e[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!fr(t,a,n)||""===a&&1===e.length){if(pr(r))return!1;s=!0}}else{const c=8&r?a:e[++u];if(8&r&&null!==t.attrs){if(!lr(t.attrs,c,n)){if(pr(r))return!1;s=!0}continue}const l=yr(8&r?"class":a,i,hr(t),n);if(-1===l){if(pr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==cr(e,c,0)||2&r&&c!==t){if(pr(r))return!1;s=!0}}}}else{if(!s&&!pr(r)&&!pr(a))return!1;if(s&&pr(a))continue;s=!1,r=a|1&r}}return pr(r)||s}function pr(t){return 0==(1&t)}function yr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function vr(t,e,n=!1){for(let r=0;r<e.length;r++)if(dr(t,e[r],n))return!0;return!1}function gr(t,e){return t?":not("+e.trim()+")":e}function mr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||pr(s)||(e+=gr(o,i),i=""),r=s,o=o||!pr(r);n++}return""!==i&&(e+=gr(o,i)),e}const br={};function wr(t){const e=t[3];return Mt(e)?e[3]:e}function _r(t){return Ir(t[13])}function Er(t){return Ir(t[4])}function Ir(t){for(;null!==t&&!Mt(t);)t=t[4];return t}function Or(t){Tr(se(),oe(),Te()+t,he())}function Tr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Se(e,r,n)}else{const r=t.preOrderHooks;null!==r&&je(e,r,0,n)}Ce(n)}function Cr(t,e){return t<<17|e<<2}function Ar(t){return t>>17&32767}function xr(t){return 2|t}function Sr(t){return(131068&t)>>2}function jr(t,e){return-131069&t|e<<2}function Nr(t){return 1|t}function kr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ge(i),n.contentQueries(2,e[o],o)}}}function Dr(t,e,n){return Bt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Pr(t,e,n,r,i,o,s,u,a,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ee(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=u||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Vr(t,e,n,r,i,o){const s=n+20,u=t.data[s]||function(t,e,n,r,i,o){const s=ae(),u=le(),a=u?s:s&&s.parent,c=t.data[n]=zr(0,a&&a!==e?a:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),s&&(!u||null!=s.child||null===c.parent&&2!==s.type?u||(s.next=c):s.child=c),c}(t,e,s,r,i,o);return ce(u,!0),u}function Rr(t,e,n){be(e,e[6]);try{const r=t.viewQuery;null!==r&&hi(1,r,n);const i=t.template;null!==i&&Fr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&kr(t,e),t.staticViewQueries&&hi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)si(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Oe()}}function Mr(t,e,n,r){const i=e[2];if(256==(256&i))return;be(e,e[6]);const o=he();try{ee(e),re.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Fr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Se(e,n,null)}else{const n=t.preOrderHooks;null!==n&&je(e,n,0,null),Ne(e,0)}if(function(t){for(let e=_r(t);null!==e;e=Er(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ne(r,1),n[2]|=1024}}}(e),function(t){for(let e=_r(t);null!==e;e=Er(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Xt(n)&&Mr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&kr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Se(e,n)}else{const n=t.contentHooks;null!==n&&je(e,n,1),Ne(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,Ce(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(ye(r,i),s(2,e[i])),i++)}}}finally{Ce(-1)}}(t,e);const u=t.components;null!==u&&function(t,e){for(let n=0;n<e.length;n++)oi(t,e[n])}(e,u);const a=t.viewQuery;if(null!==a&&hi(2,a,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Se(e,n)}else{const n=t.viewHooks;null!==n&&je(e,n,2),Ne(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ne(e[3],-1))}finally{Oe()}}function Lr(t,e,n,r){const i=e[10],o=!he(),s=4==(4&e[2]);try{o&&!s&&i.begin&&i.begin(),s&&Rr(t,e,r),Mr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Fr(t,e,n,r,i){const o=Te();try{Ce(-1),2&r&&e.length>20&&Tr(t,e,0,he()),n(r,i)}finally{Ce(o)}}function Ur(t,e,n){ie()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ye(n,e),sr(r,e);const s=n.initialInputs;for(let u=i;u<o;u++){const r=t.data[u],o=Ht(r);o&&ei(e,n,r);const a=sn(e,t,u,n);sr(a,e),null!==s&&ni(0,u-i,a,r,0,s),o&&(Yt(n.index,e)[8]=a)}}(t,e,n,$t(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,u=n.index-20,a=re.lFrame.currentDirectiveIndex;try{Ce(u);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ve(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?$r(r,i):s&&o.push(null)}}finally{Ce(-1),ve(a)}}(t,e,n))}function Hr(t,e,n=$t){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],u=-1===s?n(e,t):t[s];t[i++]=u}}}function qr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Gr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Gr(t,e,n,r,i,o,s,u,a,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:br);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:u,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:c,incompleteFirstPass:!1}}function zr(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Br(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Kr(t,e,n,r){let i=!1;if(ie()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];vr(n,s.selectors,!1)&&(i||(i=[]),en(Ye(n,e),t,s.type),Ht(s)?(2&n.flags&&ur(n),Yr(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,Xr(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}Zr(t,n,o.length);let u=!1,a=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Le(n.mergedAttrs,c.hostAttrs),ti(t,e,c),Qr(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!u&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),u=!0),a||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),a=!0),Jr(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,u=null;for(let a=e.directiveStart;a<n;a++){const t=r[a],n=t.inputs,c=null===i||hr(e)?null:ri(n,i);o.push(c),s=Br(n,a,s),u=Br(t.outputs,a,u)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=u}(t,n),Wr(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Le(n.mergedAttrs,n.attrs),i}function Jr(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Wr(t,e,n){for(let r=0;r<n;r++)e.push(br),t.blueprint.push(br),t.data.push(null)}function $r(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Zr(t,e,n){const r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Yr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Qr(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ht(e)&&(n[""]=t)}}function Xr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ti(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Pt(n.type)),i=new Pe(r,Ht(n),null);t.blueprint.push(i),e.push(i)}function ei(t,e,n){const r=$t(e,t),i=qr(n),o=t[10],s=ui(t,Pr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function ni(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],u=s[e++];null!==t?r.setInput(n,u,i,o):n[o]=u}}}function ri(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ii(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function oi(t,e){const n=Yt(e,t);if(Xt(n)){const t=n[1];80&n[2]?Mr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=_r(e);null!==r;r=Er(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Mr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Yt(n[r],e);Xt(i)&&i[5]>0&&t(i)}}(n)}}function si(t,e){const n=Yt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Rr(r,n,n[8])}function ui(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ai(t){for(;t;){t[2]|=64;const e=wr(t);if(qt(t)&&!e)return t;t=e}return null}function ci(t,e,n){const r=e[10];r.begin&&r.begin();try{Mr(t,e,t.template,n)}catch(i){throw pi(e,i),i}finally{r.end&&r.end()}}function li(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Qt(n),i=r[1];Lr(i,r,i.template,n)}}(t[8])}function hi(t,e,n){ge(0),e(t,n)}const fi=(()=>Promise.resolve(null))();function di(t){return t[7]||(t[7]=[])}function pi(t,e){const n=t[9],r=n?n.get(yn,null):null;r&&r.handleError(e)}function yi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],u=n[o++],a=e[s],c=t.data[s];null!==c.setInput?c.setInput(a,i,r,u):a[u]=i}}function vi(t,e){const n=e[3];return-1===t.index?Mt(n)?n:null:n}function gi(t,e){const n=vi(t,e);return n?xi(e[11],n[7]):null}function mi(t,e,n,r,i){if(null!=r){let o,s=!1;Mt(r)?o=r:Rt(r)&&(s=!0,r=r[0]);const u=Jt(r);0===t&&null!==n?null==i?Ci(e,n,u):Ti(e,n,u,i||null):1===t&&null!==n?Ti(e,n,u,i||null):2===t?function(t,e,n){const r=xi(t,e);r&&function(t,e,n,r){Bt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,u,s):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Jt(n)&&mi(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];ki(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function bi(t,e,n,r){const i=gi(t.node,e);i&&ki(t,e,e[11],n?1:2,i,r)}function wi(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&ne(e[3],-1),n.splice(r,1)}function _i(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&wi(i,r),e>0&&(t[n-1][4]=r[4]);const o=yt(t,10+e);bi(r[1],r,!1,null);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Ei(t,e){if(!(256&e[2])){const n=e[11];Bt(n)&&n.destroyNode&&ki(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Oi(t[1],t);for(;e;){let n=null;if(Rt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Rt(e)&&Oi(e[1],e),e=Ii(e,t);null===e&&(e=t),Rt(e)&&Oi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ii(t,e){let n;return Rt(t)&&(n=t[6])&&2===n.type?vi(n,t):t[3]===e?null:t[3]}function Oi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Pe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Jt(e[i]),s=t[n[r+2]],u=n[r+3];"boolean"==typeof u?o.removeEventListener(n[r],s,u):u>=0?t[u]():t[-u].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Bt(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Mt(e[3])){r!==e[3]&&wi(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Ti(t,e,n,r){Bt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ci(t,e,n){Bt(t)?t.appendChild(e,n):e.appendChild(n)}function Ai(t,e,n,r){null!==r?Ti(t,e,n,r):Ci(t,e,n)}function xi(t,e){return Bt(t)?t.parentNode(e):e.parentNode}function Si(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?gi(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return $t(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==wt.ShadowDom&&n!==wt.Native)return null}return $t(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){if(2===t.type){const n=vi(t,e);return null===n?null:ji(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?$t(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Ai(t,i,n[e],o);else Ai(t,i,n,o)}}function ji(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return $t(n,e);if(0===r)return ji(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Mt(t)?ji(-1,t):Jt(t)}}{const r=e[16],i=r[6],o=wr(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[7]}function Ni(t,e,n,r,i,o,s){for(;null!=n;){const u=r[n.index],a=n.type;s&&0===e&&(u&&sr(Jt(u),r),n.flags|=4),64!=(64&n.flags)&&(4===a||5===a?(Ni(t,e,n.child,r,i,o,!1),mi(e,t,i,u,o)):1===a?Di(t,e,r,n,i,o):mi(e,t,i,u,o)),n=s?n.projectionNext:n.next}}function ki(t,e,n,r,i,o){Ni(n,r,t.node.child,e,i,o,!1)}function Di(t,e,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let a=0;a<u.length;a++)mi(e,t,i,u[a],o);else Ni(t,e,u,s[3],i,o,!0)}function Pi(t,e,n){Bt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Vi(t,e,n){Bt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Ri{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Jt(s)),Mt(s))for(let e=10;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const u=r.type;if(4===u||5===u)t(e,n,r.child,i);else if(1===u){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=wr(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ei(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,di(n=this._lView).push(r),e.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(e).push(n[7].length-1,null)}markForCheck(){ai(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ci(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){fe(!0);try{ci(t,e,n)}finally{fe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,ki(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Mi extends Ri{constructor(t){super(t),this._view=t}detectChanges(){li(this._view)}checkNoChanges(){!function(t){fe(!0);try{li(t)}finally{fe(!1)}}(this._view)}get context(){return null}}let Li,Fi,Ui;function Hi(t,e,n){return Li||(Li=class extends t{}),new Li($t(e,n))}const qi=new Q("Set Injector scope."),Gi={},zi={},Bi=[];let Ki=void 0;function Ji(){return void 0===Ki&&(Ki=new ht),Ki}function Wi(t,e=null,n=null,r){return new $i(t,n,e||Ji(),r)}class $i{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&dt(e,n=>this.processProvider(n,t,e)),dt([t],t=>this.processInjectorType(t,[],i)),this.records.set(X,Qi(void 0,this));const o=this.records.get(qi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:P(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=tt,n=_.Default){this.assertNotDestroyed();const r=ot(this);try{if(!(n&_.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Q)&&C(t);e=n&&this.injectableDefInScope(n)?Qi(Zi(t),Gi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&_.Self?Ji():this.parent).get(t,e=n&_.Optional&&e===tt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(P(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=P(e);if(Array.isArray(e))i=e.map(P).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):P(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(et,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{ot(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(P(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=L(t)))return!1;let r=x(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=x(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{dt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];dt(r,t=>this.processProvider(t,n,r||Bi))}}this.injectorDefTypes.add(o),this.records.set(o,Qi(r.factory,Gi));const u=r.providers;if(null!=u&&!s){const e=t;dt(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=to(t=L(t))?t:L(t&&t.provide);const i=function(t,e,n){return Xi(t)?Qi(void 0,t.useValue):Qi(Yi(t,e,n),Gi)}(t,e,n);if(to(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&ar()}else{let e=this.records.get(r);e?void 0===e.multi&&ar():(e=Qi(void 0,Gi,!0),e.factory=()=>lt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===zi?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(P(t)):e.value===Gi&&(e.value=zi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Zi(t){const e=C(t),n=null!==e?e.factory:Pt(t);if(null!==n)return n;const r=x(t);if(null!==r)return r.factory;if(t instanceof Q)throw new Error(`Token ${P(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${P(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[S]||t[k]||t[N]&&t[N]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Yi(t,e,n){let r=void 0;if(to(t)){const e=L(t);return Pt(e)||Zi(e)}if(Xi(t))r=()=>L(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...lt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>at(L(t.useExisting));else{const i=L(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${P(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Pt(i)||Zi(i);r=()=>new i(...lt(t.deps))}var i;return r}function Qi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Xi(t){return null!==t&&"object"==typeof t&&nt in t}function to(t){return"function"==typeof t}const eo=function(t,e,n){return function(t,e=null,n=null,r){const i=Wi(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let no=(()=>{class t{static create(t,e){return Array.isArray(t)?eo(t,e,""):eo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=tt,t.NULL=new ht,t.\u0275prov=O({token:t,providedIn:"any",factory:()=>at(X)}),t.__NG_ELEMENT_ID__=-1,t})(),ro=new Map;const io=new Set;function oo(t){return"string"==typeof t?t:t.text()}function so(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=V(i,t):2==o&&(r=V(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let uo=null;function ao(){if(!uo){const t=z.Symbol;if(t&&t.iterator)uo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(uo=n)}}}return uo}function co(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class lo{constructor(t){this.wrapped=t}static wrap(t){return new lo(t)}static unwrap(t){return lo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof lo}}function ho(t){return!!fo(t)&&(Array.isArray(t)||!(t instanceof Map)&&ao()in t)}function fo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function po(t,e,n){return t[e]=n}function yo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function vo(t,e,n,r){const i=oe();return yo(i,pe(),e)&&(se(),function(t,e,n,r,i,o){const s=$t(t,e),u=e[11];if(null==r)Bt(u)?u.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?ze(r):i(r,t.tagName||"",n);Bt(u)?u.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(Ae(),i,t,e,n,r)),vo}function go(t,e,n,r,i,o,s,u){const a=oe(),c=se(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,u,a){const c=e.consts,l=Vr(e,n[6],t,0,s||null,te(c,u));Kr(e,n,l,te(c,a)),xe(e,l);const h=l.tViews=Gr(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=zr(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,a,e,n,r,i,o,s):c.data[l];ce(h,!1);const f=a[11].createComment("");Si(c,a,f,h),sr(f,a),ui(a,a[l]=ii(f,a,f,h)),Ut(h)&&Ur(c,a,h),null!=s&&Hr(a,h,u)}function mo(t,e=_.Default){const n=oe();return null==n?at(t,e):nn(ae(),n,L(t),e)}function bo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Re(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(ae(),t)}function wo(t,e,n){const r=oe();return yo(r,pe(),e)&&function(t,e,n,r,i,o,s,u){const a=$t(e,n);let c,l=e.inputs;null!=l&&(c=l[r])?(yi(t,n,c,r,i),Ft(e)&&function(t,e){const n=Yt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,Bt(o)?o.setProperty(a,r,i):Me(r)||(a.setProperty?a.setProperty(r,i):a[r]=i))}(se(),Ae(),r,t,e,r[11],n),wo}function _o(t,e,n,r,i){const o=i?"class":"style";yi(t,n,e.inputs[o],o,r)}function Eo(t,e,n,r){const i=oe(),o=se(),s=20+t,u=i[11],a=i[s]=Dr(e,u,re.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const u=e.consts,a=te(u,o),c=Vr(e,n[6],t,3,i,a);return Kr(e,n,c,te(u,s)),null!==c.attrs&&so(c,c.attrs,!1),null!==c.mergedAttrs&&so(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];ce(c,!0);const l=c.mergedAttrs;null!==l&&Ve(u,a,l);const h=c.classes;null!==h&&Vi(u,a,h);const f=c.styles;null!==f&&Pi(u,a,f),Si(o,i,a,c),0===re.lFrame.elementDepthCount&&sr(a,i),re.lFrame.elementDepthCount++,Ut(c)&&(Ur(o,i,c),function(t,e,n){if(Lt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Hr(i,c)}function Io(){let t=ae();le()?re.lFrame.isParent=!1:(t=t.parent,ce(t,!1));const e=t;re.lFrame.elementDepthCount--;const n=se();n.firstCreatePass&&(xe(n,t),Lt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&_o(n,e,oe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&_o(n,e,oe(),e.stylesWithoutHost,!1)}function Oo(t,e,n,r){Eo(t,e,n,r),Io()}function To(){return oe()}function Co(t){return!!t&&"function"==typeof t.then}function Ao(t){return!!t&&"function"==typeof t.subscribe}function xo(t,e,n=!1,r){const i=oe(),o=se(),s=ae();return function(t,e,n,r,i,o,s=!1,u){const a=Ut(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=di(e);let h=!0;if(3===r.type){const f=$t(r,e),d=u?u(f):_t,p=d.target||f,y=l.length,v=u?t=>u(Jt(t[r.index])).target:r.index;if(Bt(n)){let s=null;if(!u&&a&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=jo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,v,y,y+1)}}else o=jo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,v,y,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),xo}function So(t,e,n){try{return!1!==e(n)}catch(r){return pi(t,r),!1}}function jo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Yt(t.index,e):e;0==(32&e[2])&&ai(s);let u=So(e,n,o),a=i.__ngNextListenerFn__;for(;a;)u=So(e,a,o)&&u,a=a.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function No(t=1){return function(t){return(re.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,re.lFrame.contextLView))[8]}(t)}const ko=[];function Do(t,e,n,r,i){const o=t[n+1],s=null===e;let u=r?Ar(o):Sr(o),a=!1;for(;0!==u&&(!1===a||s);){const n=t[u+1];Po(t[u],e)&&(a=!0,t[u+1]=r?Nr(n):xr(n)),u=r?Ar(n):Sr(n)}a&&(t[n+1]=r?xr(o):Nr(o))}function Po(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mt(t,e)>=0}function Vo(t,e){return function(t,e,n,r){const i=oe(),o=se(),s=function(t){const e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();if(o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const r=i[Te()+20],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=re.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Mo(n=Ro(null,t,e,n,!0),e.attrs,!0),o=null);else{const r=e.directiveStylingLast;if(-1===r||t[r]!==i)if(n=Ro(i,t,e,n,!0),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==Sr(r))return t[Ar(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Ro(null,t,e,n[1],!0),n=Mo(n,e.attrs,!0),function(t,e,n,r){t[Ar(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Mo(r,t[o].hostAttrs,!0);return Mo(r,e.attrs,!0)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,r,e),function(t,e,n,r,i,o){let s=e.classBindings,u=Ar(s),a=Sr(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||mt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==a){const e=Ar(t[u+1]);t[r+1]=Cr(e,u),0!==e&&(t[e+1]=jr(t[e+1],r)),t[u+1]=131071&t[u+1]|r<<17}else t[r+1]=Cr(u,0),0!==u&&(t[u+1]=jr(t[u+1],r)),u=r;else t[r+1]=Cr(a,0),0===u?u=r:t[a+1]=jr(t[a+1],r),a=r;l&&(t[r+1]=xr(t[r+1])),Do(t,c,r,!0),Do(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&mt(o,e)>=0&&(n[r+1]=Nr(n[r+1]))}(e,c,t,r),s=Cr(u,a),e.classBindings=s}(i,r,e,n,o)}}(o,t,s),e!==br&&yo(i,s,e)){let r;null==n&&(r=function(){const t=re.lFrame;return null===t?null:t.currentSanitizer}())&&(n=r),function(t,e,n,r,i,o,s,u){if(3!==e.type)return;const a=t.data,c=a[u+1];Fo(1==(1&c)?Lo(a,e,n,i,Sr(c),!0):void 0)||(Fo(o)||function(t){return 2==(2&t)}(c)&&(o=Lo(a,null,n,i,u,!0)),function(t,e,n,r,i){const o=Bt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Wt(Te(),n),i,o))}(o,o.data[Te()+20],i,i[11],t,i[s+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=P(En(t)))),t}(e,n),0,s)}}(t,e,null),Vo}function Ro(t,e,n,r,i){let o=null;const s=n.directiveEnd;let u=n.directiveStylingLast;for(-1===u?u=n.directiveStart:u++;u<s&&(o=e[u],r=Mo(r,o.hostAttrs,i),o!==t);)u++;return null!==t&&(n.directiveStylingLast=u),r}function Mo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vt(t,s,!!n||e[++o]))}return void 0===t?null:t}function Lo(t,e,n,r,i,o){const s=null===e;let u=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),a=o?e[1]:e,c=null===a;let l=n[i+1];l===br&&(l=c?ko:void 0);let h=c?gt(l,r):a===r?l:void 0;if(o&&!Fo(h)&&(h=gt(e,r)),Fo(h)&&(u=h,s))return u;const f=t[i+1];i=s?Ar(f):Sr(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(u=gt(t,r))}return u}function Fo(t){return void 0!==t}function Uo(t,e=""){const n=oe(),r=se(),i=t+20,o=r.firstCreatePass?Vr(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return Bt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Si(r,n,s,o),ce(o,!1)}function Ho(t){return qo("",t,""),Ho}function qo(t,e,n){const r=oe(),i=function(t,e,n,r){return yo(t,pe(),n)?e+ze(n)+r:br}(r,t,e,n);return i!==br&&function(t,e,n){const r=Wt(e,t),i=t[11];Bt(i)?i.setValue(r,n):r.textContent=n}(r,Te(),i),qo}function Go(t,e){const n=Qt(t)[1],r=n.data.length-1;xe(n,{directiveStart:r,directiveEnd:r+1})}function zo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Bo(t.inputs),e.declaredInputs=Bo(t.declaredInputs),e.outputs=Bo(t.outputs);const n=i.hostBindings;n&&Wo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Ko(t,o),s&&Jo(t,s),I(t.inputs,i.inputs),I(t.declaredInputs,i.declaredInputs),I(t.outputs,i.outputs),Ht(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===zo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Le(i.hostAttrs,n=Le(n,i.hostAttrs))}}(r)}function Bo(t){return t===_t?{}:t===Et?[]:t}function Ko(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Jo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Wo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class $o{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Zo(t){t.type.prototype.ngOnChanges&&(t.setInput=Yo,t.onChanges=function(){const t=Qo(this),e=t&&t.current;if(e){const n=t.previous;if(n===_t)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function Yo(t,e,n,r){const i=Qo(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:_t,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],a=s[u];o[u]=new $o(a&&a.currentValue,e,s===_t),t[r]=e}function Qo(t){return t.__ngSimpleChanges__||null}function Xo(t,e,n,r,i){if(t=L(t),Array.isArray(t))for(let o=0;o<t.length;o++)Xo(t[o],e,n,r,i);else{const o=se(),s=oe();let u=to(t)?t:L(t.provide),a=Yi(t);const c=ae(),l=65535&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>16;if(to(t)||!t.multi){const r=new Pe(a,i,mo),d=ns(u,e,i?l:l+f,h);-1===d?(en(Ye(c,s),o,u),ts(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ns(u,e,l+f,h),p=ns(u,e,l,l+f),y=d>=0&&n[d],v=p>=0&&n[p];if(i&&!v||!i&&!y){en(Ye(c,s),o,u);const l=function(t,e,n,r,i){const o=new Pe(t,n,mo);return o.multi=[],o.index=e,o.componentProviders=0,es(o,i,r&&!n),o}(i?is:rs,n.length,i,r,a);!i&&v&&(n[p].providerFactory=l),ts(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(l),s.push(l)}else ts(o,t,d>-1?d:p,es(n[i?p:d],a,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function ts(t,e,n,r){const i=to(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function es(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ns(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function rs(t,e,n,r){return os(this.multi,[])}function is(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=sn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),os(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],os(i,o);return o}function os(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ss(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=se();if(r.firstCreatePass){const i=Ht(t);Xo(n,r.data,r.blueprint,i,!0),Xo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}Zo.ngInherit=!0;class us{}class as{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${P(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let cs=(()=>{class t{}return t.NULL=new as,t})(),ls=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>hs(t),t})();const hs=function(t){return Hi(t,ae(),oe())};class fs{}const ds=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let ps=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ys(),t})();const ys=function(){const t=oe(),e=Yt(ae().index,t);return function(t){const e=t[11];if(Bt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Rt(e)?e:t)};let vs=(()=>{class t{}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>null}),t})();class gs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ms=new gs("9.1.13");class bs{constructor(){}supports(t){return ho(t)}create(t){return new _s(t)}}const ws=(t,e)=>e;class _s{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ws}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ts(n,r,i)?e:n,s=Ts(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=u-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==u&&t(o,s,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ho(t))throw new Error(`Error trying to diff '${P(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&co(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),co(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ao()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&co(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),co(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(co(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(co(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Es(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Os),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Os),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Es{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Is{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&co(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Os{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Is,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ts(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Cs{constructor(){}supports(t){return t instanceof Map||fo(t)}create(){return new As}}class As{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||fo(t)))throw new Error(`Error trying to diff '${P(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new xs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){co(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class xs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ss=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new m]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>new t([new bs])}),t})(),js=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new m]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>new t([new Cs])}),t})();const Ns=[new Cs],ks=new Ss([new bs]),Ds=new js(Ns);let Ps=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Vs(t,ls),t})();const Vs=function(t,e){return function(t,e,n,r){return Fi||(Fi=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Pr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Rr(e,n,t),new Ri(n)}}),0===n.type?new Fi(r,n,Hi(e,n,r)):null}(t,e,ae(),oe())};let Rs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ms(t,ls),t})();const Ms=function(t,e){return function(t,e,n,r){let i;Ui||(Ui=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Hi(e,this._hostTNode,this._hostView)}get injector(){return new cn(this._hostTNode,this._hostView)}get parentInjector(){const t=tn(this._hostTNode,this._hostView),e=Ge(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=qe(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return Ue(t)&&null!=n?new cn(n,e):new cn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ft,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Mt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ui(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],pt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const u=e[19];null!==u&&u.insertView(t),e[2]|=128}(r,n,this._lContainer,i),bi(r,n,!0,ji(i,this._lContainer)),t.attachToViewContainerRef(this),pt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=_i(t,e);n&&Ei(n[1],n)}(this._lContainer,e),yt(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=_i(this._lContainer,e);return n&&null!=yt(this._lContainer[8],e)?new Ri(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Mt(o))i=o;else{let t;if(4===n.type)t=Jt(o);else if(t=r[11].createComment(""),qt(r)){const e=r[11],i=$t(n,r);Ti(e,xi(e,i),t,function(t,e){return Bt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Si(r[1],r,t,n);r[n.index]=i=ii(o,r,t,n),ui(r,i)}return new Ui(i,n,r)}(t,e,ae(),oe())},Ls={};class Fs extends cs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Dt(t);return new qs(e,this.ngModule)}}function Us(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Hs=new Q("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ke});class qs extends us{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(mr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Us(this.componentDef.inputs)}get outputs(){return Us(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ls,i);return o!==Ls||r===Ls?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(fs,Kt),s=i.get(vs,null),u=o.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Bt(t))return t.selectRootElement(e,n===wt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,n,this.componentDef.encapsulation):Dr(a,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(a)),l=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),f={components:[],scheduler:Ke,clean:fi,playerHandler:null,flags:0},d=Gr(0,-1,null,1,0,null,null,null,null,null),p=Pr(null,d,f,l,null,null,o,u,s,i);let y,v;be(p,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const u=Vr(s,null,0,3,null,null),a=u.mergedAttrs=e.hostAttrs;null!==a&&(so(u,a,!0),null!==t&&(Ve(i,t,a),null!==u.classes&&Vi(i,t,u.classes),null!==u.styles&&Pi(i,t,u.styles)));const c=r.createRenderer(t,e),l=Pr(n,qr(e),null,e.onPush?64:16,n[20],u,r,c,void 0);return s.firstCreatePass&&(en(Ye(u,n),s,e.type),Yr(s,u),Xr(u,n.length,1)),ui(n,l),n[20]=l}(c,this.componentDef,p,o,u);if(c)if(n)Ve(u,c,["ng-version",ms.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!pr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ve(u,c,t),e&&e.length>0&&Vi(u,c,e.join(" "))}if(v=Zt(d,0),void 0!==e){const t=v.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}y=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=ae();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Zr(t,r,1),ti(t,e,n));const i=sn(e,t,e.length-1,r);sr(i,e);const o=$t(r,e);return o&&sr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const u=ae();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Ce(u.index-20);const t=n[1];Jr(t,e),Wr(t,n,e.hostVars),$r(e,s)}return s}(t,this.componentDef,p,f,[Go]),Rr(d,p,null)}finally{Oe()}const g=new Gs(this.componentType,y,Hi(ls,v,p),p,v);return n&&!h||(d.node.child=v),g}}class Gs extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Mi(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=zr(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new cn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const zs=void 0;var Bs=["en",[["a","p"],["AM","PM"],zs],[["AM","PM"],zs,zs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zs,"{1} 'at' {0}",zs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ks={};function Js(t,e,n){"string"!=typeof e&&(n=e,e=t[Qs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ks[e]=t,n&&(Ks[e][Qs.ExtraData]=n)}function Ws(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ys(e);if(n)return n;const r=e.split("-")[0];if(n=Ys(r),n)return n;if("en"===r)return Bs;throw new Error(`Missing locale data for the locale "${t}".`)}function $s(t){return Ws(t)[Qs.CurrencyCode]||null}function Zs(t){return Ws(t)[Qs.PluralCase]}function Ys(t){return t in Ks||(Ks[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),Ks[t]}const Qs=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let Xs="en-US";function tu(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Xs=t.toLowerCase().replace(/_/g,"-"))}const eu=new Map;class nu extends ft{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Fs(this);const n=Vt(t),r=t[$]||null;r&&tu(r),this._bootstrapComponents=Je(n.bootstrap),this._r3Injector=Wi(t,e,[{provide:ft,useValue:this},{provide:cs,useValue:this.componentFactoryResolver}],P(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=no.THROW_IF_NOT_FOUND,n=_.Default){return t===no||t===ft||t===X?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ru extends class{}{constructor(t){super(),this.moduleType=t,null!==Vt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${P(e)} vs ${P(e.name)}`)})(t,eu.get(t),e),eu.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new nu(this.moduleType,t)}}function iu(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return yo(t,s,i)?po(t,s+1,o?r.call(o,i):r(i)):su(t,s+1)}(oe(),de(),t,e,n,r)}function ou(t,e,n,r,i){return function(t,e,n,r,i,o,s){const u=e+n;return function(t,e,n,r){const i=yo(t,e,n);return yo(t,e+1,r)||i}(t,u,i,o)?po(t,u+2,s?r.call(s,i,o):r(i,o)):su(t,u+2)}(oe(),de(),t,e,n,r,i)}function su(t,e){const n=t[e];return n===br?void 0:n}class uu extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const u=super.subscribe(r,o,s);return t instanceof i.a&&t.add(u),u}}function au(t=_.Default){const e=function(t=!1){return function(t,e,n){if(!n&&Ft(t)){const n=Yt(t.index,e);return new Ri(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Ri(e[16],e):null}(ae(),oe(),t)}(!0);if(null!=e||t&_.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const cu=new Q("Application Initializer");let lu=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Co(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(at(cu,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const hu=new Q("AppId"),fu={provide:hu,useFactory:function(){return`${du()}${du()}${du()}`},deps:[]};function du(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pu=new Q("Platform Initializer"),yu=new Q("Platform ID"),vu=new Q("appBootstrapListener");let gu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const mu=new Q("LocaleId"),bu=new Q("DefaultCurrencyCode");class wu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const _u=function(t){return new ru(t)},Eu=_u,Iu=function(t){return Promise.resolve(_u(t))},Ou=function(t){const e=_u(t),n=Je(Vt(t).declarations).reduce((t,e)=>{const n=Dt(e);return n&&t.push(new qs(n)),t},[]);return new wu(e,n)},Tu=Ou,Cu=function(t){return Promise.resolve(Ou(t))};let Au=(()=>{class t{constructor(){this.compileModuleSync=Eu,this.compileModuleAsync=Iu,this.compileModuleAndAllComponentsSync=Tu,this.compileModuleAndAllComponentsAsync=Cu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const xu=new Q("compilerOptions"),Su=(()=>Promise.resolve(0))();function ju(t){"undefined"==typeof Zone?Su.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Nu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new uu(!1),this.onMicrotaskEmpty=new uu(!1),this.onStable=new uu(!1),this.onError=new uu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.lastRequestAnimationFrameId=-1,Vu(t),Pu(t)}),Vu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,u)=>{try{return Ru(t),n.invokeTask(i,o,s,u)}finally{e&&"eventTask"===o.type&&e(),Mu(t)}},onInvoke:(e,n,r,i,o,s,u)=>{try{return Ru(t),e.invoke(r,i,o,s,u)}finally{Mu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Vu(t),Pu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Nu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Du,ku,ku);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function ku(){}const Du={};function Pu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Vu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Ru(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mu(t){t._nesting--,Pu(t)}class Lu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new uu,this.onMicrotaskEmpty=new uu,this.onStable=new uu,this.onError=new uu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Fu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nu.assertNotInAngularZone(),ju(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ju(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(at(Nu))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),Uu=(()=>{class t{constructor(){this._applications=new Map,zu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return zu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class Hu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function qu(t){zu=t}let Gu,zu=new Hu,Bu=function(t,e,n){const r=t.get(xu,[]).concat(e),i=new ru(n);if(0===ro.size)return Promise.resolve(i);const o=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(r.map(t=>t.providers));if(0===o.length)return Promise.resolve(i);const s=function(){const t=z.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),u=no.create({providers:o}).get(s.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(u.get(t)))(t);n.set(t,e=r.then(oo))}return e}return ro.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const o=t.styleUrls,s=t.styles||(t.styles=[]),u=t.styles.length;o&&o.forEach((e,n)=>{s.push(""),i.push(r(e).then(r=>{s[u+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)}))});const a=Promise.all(i).then(()=>function(t){io.delete(t)}(n));e.push(a)}),ro=new Map,Promise.all(e).then(()=>{})}().then(()=>i)};const Ku=new Q("AllowMultipleToken");class Ju{constructor(t,e){this.name=t,this.token=e}}function Wu(t,e,n=[]){const r="Platform: "+e,i=new Q(r);return(e=[])=>{let o=$u();if(!o||o.injector.get(Ku,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:qi,useValue:"platform"});!function(t){if(Gu&&!Gu.destroyed&&!Gu.injector.get(Ku,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Gu=t.get(Zu);const e=t.get(pu,null);e&&e.forEach(t=>t())}(no.create({providers:t,name:r}))}return function(t){const e=$u();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function $u(){return Gu&&!Gu.destroyed?Gu:null}let Zu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Lu:("zone.js"===t?void 0:t)||new Nu({enableLongStackTrace:kn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Nu,useValue:n}];return n.run(()=>{const e=no.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(yn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Xu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Co(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(lu);return t.runInitializers(),t.donePromise.then(()=>(tu(i.injector.get(mu,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Yu({},e);return Bu(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Qu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${P(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(at(no))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Yu(t,e){return Array.isArray(e)?e.reduce(Yu,t):Object.assign(Object.assign({},t),e)}let Qu=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=kn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Nu.assertNotInAngularZone(),ju(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Nu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return a()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof us?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ft),i=n.create(no.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Fu,null);return o&&i.injector.get(Uu).registerApplication(i.location.nativeElement,o),this._loadComponent(i),kn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Xu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(vu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Xu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(at(Nu),at(gu),at(no),at(yn),at(cs),at(lu))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Xu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ta=function(t){return null},ea=Wu(null,"core",[{provide:yu,useValue:"unknown"},{provide:Zu,deps:[no]},{provide:Uu,deps:[]},{provide:gu,deps:[]}]),na=[{provide:Qu,useClass:Qu,deps:[Nu,gu,no,yn,cs,lu]},{provide:Hs,deps:[Nu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:lu,useClass:lu,deps:[[new m,cu]]},{provide:Au,useClass:Au,deps:[]},fu,{provide:Ss,useFactory:function(){return ks},deps:[]},{provide:js,useFactory:function(){return Ds},deps:[]},{provide:mu,useFactory:function(t){return tu(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new g(mu),new m,new w]]},{provide:bu,useValue:"USD"}];let ra=(()=>{class t{constructor(t){}}return t.\u0275mod=xt({type:t}),t.\u0275inj=T({factory:function(e){return new(e||t)(at(Qu))},providers:na}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"h",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}a((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let u=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.a)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(u.createNext(t))}_error(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return w})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return a})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return y}));var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return u().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return Object(r.c)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new v(i,u,r);return a},t}();function m(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function I(){}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const u=new s(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:u,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(u))try{u.call(this)}catch(l){e=l instanceof s?a(l.errors):[l]}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof s?e=e.concat(a(l.errors)):e.push(l)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function a(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return O})),n.d(e,"g",(function(){return _})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return v})),n.d(e,"j",(function(){return E}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),u=n("pxpQ"),a=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(u.b)(t.insideAngular))}}const y=["ngOnDestroy"],v=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(y.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),g=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},m=new a.l("angularfire2.app.options"),b=new a.l("angularfire2.app.nameOrConfig"),w=new a.E("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&I("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{I("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},I=(t,...e)=>{Object(a.L)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,o){const[s,...u]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&I("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(a){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:_,deps:[m,a.s,[new a.t,b]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",a.D.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=a.yb({type:t}),t.\u0275inj=a.xb({factory:function(e){return new(e||t)(a.Gb(a.u))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function u(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>u(e)&&t()),e},clearImmediate(t){u(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class y extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new y(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(y.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function v(t,e=0){return function(n){return n.lift(new g(t,e))}}class g{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new y(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new u(t,e,n))}}class u{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}class a extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),u=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new a.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,a=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",(function(){return a}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(s.c)(e,u))throw l.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&a.push("and"),s&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(a.join(" "))}c(new u.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(u){var a,c,h=u.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===u.type?r[h]:null;if(n.set(h,u),"PUBLIC"===u.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==u.serviceProps&&Object(s.f)(d,u.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,u.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),y=p.next();!y.done;y=p.next())e[y.value]._addComponent(u)}catch(v){a={error:v}}finally{try{y&&!y.done&&(c=p.return)&&c.call(p)}finally{if(a)throw a.error}}return"PUBLIC"===u.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),g.apply(void 0,t)};var m=p;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",(function(t){return new y(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(m),e.a=m},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyDTp1X4aRMOWX8UMANV_U-qxKGUVU2haOQ",authDomain:"firechat-ab8a6.firebaseapp.com",projectId:"firechat-ab8a6",storageBucket:"firechat-ab8a6.appspot.com",messagingSenderId:"453304786263",appId:"1:453304786263:web:85fed252ac1970caf43212"};let o=null;function s(){return o}const u=new r.l("DocumentToken"),a=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),c=r.db;class l{}let h=(()=>{class t extends l{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(c(e||this.locale)(t)){case a.Zero:return"zero";case a.One:return"one";case a.Two:return"two";case a.Few:return"few";case a.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(r.p))},t.\u0275prov=r.wb({token:t,factory:t.\u0275fac}),t})(),f=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.gb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.mb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ab(r.n),r.Ab(r.o),r.Ab(r.h),r.Ab(r.w))},t.\u0275dir=r.vb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class d{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let p=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.L)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(xp){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new d(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new y(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new y(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ab(r.F),r.Ab(r.B),r.Ab(r.n))},t.\u0275dir=r.vb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class y{constructor(t,e){this.record=t,this.view=e}}let v=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new g,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){m("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){m("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ab(r.F),r.Ab(r.B))},t.\u0275dir=r.vb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class g{constructor(){this.$implicit=null,this.ngIf=null}}function m(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.mb)(e)}'.`)}let b=(()=>{class t{}return t.\u0275mod=r.yb({type:t}),t.\u0275inj=r.xb({factory:function(e){return new(e||t)},providers:[{provide:l,useClass:h}]}),t})();function w(t){return"server"===t}class _ extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new _,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=I||(I=document.querySelector("base"),I)?I.getAttribute("href"):null;return null==e?null:(n=e,E||(E=document.createElement("a")),E.setAttribute("href",n),"/"===E.pathname.charAt(0)?E.pathname:"/"+E.pathname);var n}resetBaseElement(){I=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let E,I=null;const O=new r.l("TRANSITION_ID"),T=[{provide:r.b,useFactory:function(t,e,n){return()=>{n.get(r.c).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[O,u,r.m],multi:!0}];class C{static init(){Object(r.N)(new C)}addToWindow(t){r.fb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.fb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.fb.getAllAngularRootElements=()=>t.getAllRootElements(),r.fb.frameworkStabilizers||(r.fb.frameworkStabilizers=[]),r.fb.frameworkStabilizers.push(t=>{const e=r.fb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const A=new r.l("EventManagerPlugins");let x=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(A),r.Gb(r.s))},t.\u0275prov=r.wb({token:t,factory:t.\u0275fac}),t})();class S{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let j=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.wb({token:t,factory:t.\u0275fac}),t})(),N=(()=>{class t extends j{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(u))},t.\u0275prov=r.wb({token:t,factory:t.\u0275fac}),t})();const k={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},D=/%COMP%/g;function P(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?P(t,i,n):(i=i.replace(D,t),n.push(i))}return n}function V(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let R=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new M(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.G.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new L(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.G.Native:case r.G.ShadowDom:return new F(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=P(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(x),r.Gb(N),r.Gb(r.a))},t.\u0275prov=r.wb({token:t,factory:t.\u0275fac}),t})();class M{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(k[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=k[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=k[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.y.DashCase?t.style.setProperty(e,n,i&r.y.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.y.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,V(n)):this.eventManager.addEventListener(t,e,V(n))}}class L extends M{constructor(t,e,n,r){super(t),this.component=n;const i=P(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(D,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(D,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class F extends M{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.G.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=P(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let U=(()=>{class t extends S{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(u))},t.\u0275prov=r.wb({token:t,factory:t.\u0275fac}),t})();const H=["alt","control","meta","shift"],q={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},G={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},z={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let B=(()=>{class t extends S{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(H.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&G.hasOwnProperty(e)&&(e=G[e]))}return q[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),H.forEach(r=>{r!=n&&(0,z[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(u))},t.\u0275prov=r.wb({token:t,factory:t.\u0275fac}),t})();const K=[{provide:r.u,useValue:"browser"},{provide:r.v,useValue:function(){_.makeCurrent(),C.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.lb)(document),document},deps:[]}],J=Object(r.I)(r.M,"browser",K),W=[[],{provide:r.P,useValue:"root"},{provide:r.i,useFactory:function(){return new r.i},deps:[]},{provide:A,useClass:U,multi:!0,deps:[u,r.s,r.u]},{provide:A,useClass:B,multi:!0,deps:[u]},[],{provide:R,useClass:R,deps:[x,N,r.a]},{provide:r.x,useExisting:R},{provide:j,useExisting:N},{provide:N,useClass:N,deps:[u]},{provide:r.C,useClass:r.C,deps:[r.s]},{provide:x,useClass:x,deps:[A,r.s]},[]];let $=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.a,useValue:e.appId},{provide:O,useExisting:r.a},T]}}}return t.\u0275mod=r.yb({type:t}),t.\u0275inj=r.xb({factory:function(e){return new(e||t)(r.Gb(t,12))},providers:W,imports:[b,r.d]}),t})();"undefined"!=typeof window&&window;var Z=n("HDdC"),Y=n("DH7j"),Q=n("lJxs"),X=n("XoHu"),tt=n("Cfvw");function et(t,e){return new Z.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let u=0;u<r;u++){const a=Object(tt.a)(t[u]);let c=!1;n.add(a.subscribe({next:t=>{c||(c=!0,s++),i[u]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const nt=new r.l("NgValueAccessor"),rt={provide:nt,useExisting:Object(r.K)(()=>it),multi:!0};let it=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ab(r.w),r.Ab(r.h))},t.\u0275dir=r.vb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Jb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.qb([rt])]}),t})();const ot={provide:nt,useExisting:Object(r.K)(()=>ut),multi:!0},st=new r.l("CompositionEventMode");let ut=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ab(r.w),r.Ab(r.h),r.Ab(st,8))},t.\u0275dir=r.vb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Jb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.qb([ot])]}),t})(),at=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.vb({type:t}),t})(),ct=(()=>{class t extends at{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return lt(e||t)},t.\u0275dir=r.vb({type:t,features:[r.ob]}),t})();const lt=r.Fb(ct);function ht(){throw new Error("unimplemented")}class ft extends at{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return ht()}get asyncValidator(){return ht()}}let dt=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ab(ft,2))},t.\u0275dir=r.vb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.tb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.ob]}),t})();function pt(t){return null==t||0===t.length}const yt=new r.l("NgValidators"),vt=new r.l("NgAsyncValidators"),gt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class mt{static min(t){return e=>{if(pt(e.value)||pt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(pt(e.value)||pt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return pt(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return pt(t.value)||gt.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(pt(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return mt.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(pt(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(bt);return 0==e.length?null:function(t){return _t(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(bt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Y.a)(e))return et(e,null);if(Object(X.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return et(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return et(t=1===t.length&&Object(Y.a)(t[0])?t[0]:t,null).pipe(Object(Q.a)(t=>e(...t)))}return et(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(wt)).pipe(Object(Q.a)(_t))}}}function bt(t){return null!=t}function wt(t){const e=Object(r.ib)(t)?Object(tt.a)(t):t;if(!Object(r.hb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function _t(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Et(t){return t.validate?e=>t.validate(e):t}function It(t){return t.validate?e=>t.validate(e):t}const Ot={provide:nt,useExisting:Object(r.K)(()=>Tt),multi:!0};let Tt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ab(r.w),r.Ab(r.h))},t.\u0275dir=r.vb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Jb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.qb([Ot])]}),t})();const Ct={provide:nt,useExisting:Object(r.K)(()=>xt),multi:!0};let At=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.wb({token:t,factory:t.\u0275fac}),t})(),xt=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(ft),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(r.Ab(r.w),r.Ab(r.h),r.Ab(At),r.Ab(r.m))},t.\u0275dir=r.vb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Jb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.qb([Ct])]}),t})();const St={provide:nt,useExisting:Object(r.K)(()=>jt),multi:!0};let jt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ab(r.w),r.Ab(r.h))},t.\u0275dir=r.vb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Jb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.qb([St])]}),t})();const Nt='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',kt='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Dt={provide:nt,useExisting:Object(r.K)(()=>Pt),multi:!0};let Pt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.jb}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ab(r.w),r.Ab(r.h))},t.\u0275dir=r.vb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Jb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.qb([Dt])]}),t})();const Vt={provide:nt,useExisting:Object(r.K)(()=>Rt),multi:!0};let Rt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.jb}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ab(r.w),r.Ab(r.h))},t.\u0275dir=r.vb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Jb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.qb([Vt])]}),t})();function Mt(t,e){return[...e.path,t]}function Lt(t,e){t||Ut(e,"Cannot find control with"),e.valueAccessor||Ut(e,"No value accessor for form control with"),t.validator=mt.compose([t.validator,e.validator]),t.asyncValidator=mt.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ft(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ft(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Ft(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ut(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Ht(t){return null!=t?mt.compose(t.map(Et)):null}function qt(t){return null!=t?mt.composeAsync(t.map(It)):null}const Gt=[it,jt,Tt,Pt,Rt,xt];function zt(t){const e=Kt(t)?t.validators:t;return Array.isArray(e)?Ht(e):e||null}function Bt(t,e){const n=Kt(e)?e.asyncValidators:t;return Array.isArray(n)?qt(n):n||null}function Kt(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Jt{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=zt(t)}setAsyncValidators(t){this.asyncValidator=Bt(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=wt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof $t?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Zt&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.j,this.statusChanges=new r.j}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Kt(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Wt extends Jt{constructor(t=null,e,n){super(zt(e),Bt(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class $t extends Jt{constructor(t,e,n){super(zt(e),Bt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Wt?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Zt extends Jt{constructor(t,e,n){super(zt(e),Bt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Wt?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Yt={provide:ct,useExisting:Object(r.K)(()=>Xt)},Qt=(()=>Promise.resolve(null))();let Xt=(()=>{class t extends ct{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.j,this.form=new $t({},Ht(t),qt(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Qt.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Lt(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Qt.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){Qt.then(()=>{const e=this._findContainer(t.path),n=new $t({});(function(t,e){null==t&&Ut(e,"Cannot find control with"),t.validator=mt.compose([t.validator,e.validator]),t.asyncValidator=mt.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Qt.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Qt.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ab(yt,10),r.Ab(vt,10))},t.\u0275dir=r.vb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Jb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.qb([Yt]),r.ob]}),t})(),te=(()=>{class t extends ct{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Mt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Ht(this._validators)}get asyncValidator(){return qt(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return ee(e||t)},t.\u0275dir=r.vb({type:t,features:[r.ob]}),t})();const ee=r.Fb(te);class ne{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${Nt}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${kt}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${Nt}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${kt}`)}}const re={provide:ct,useExisting:Object(r.K)(()=>ie)};let ie=(()=>{class t extends te{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof Xt||ne.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Ab(ct,5),r.Ab(yt,10),r.Ab(vt,10))},t.\u0275dir=r.vb({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r.qb([re]),r.ob]}),t})();const oe={provide:ft,useExisting:Object(r.K)(()=>ue)},se=(()=>Promise.resolve(null))();let ue=(()=>{class t extends ft{constructor(t,e,n,i){super(),this.control=new Wt,this._registered=!1,this.update=new r.j,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Ut(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===ut?n=e:(o=e,Gt.some(t=>o.constructor===t)?(r&&Ut(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Ut(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(Ut(t,"No valid value accessor for form control with"),null)}(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object(r.jb)(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Mt(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Ht(this._rawValidators)}get asyncValidator(){return qt(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Lt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof ie)&&this._parent instanceof te?ne.formGroupNameException():this._parent instanceof ie||this._parent instanceof Xt||ne.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||ne.missingNameException()}_updateValue(t){se.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;se.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ab(ct,9),r.Ab(yt,10),r.Ab(vt,10),r.Ab(nt,10))},t.\u0275dir=r.vb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.qb([oe]),r.ob,r.pb]}),t})(),ae=(()=>{class t{}return t.\u0275mod=r.yb({type:t}),t.\u0275inj=r.xb({factory:function(e){return new(e||t)}}),t})(),ce=(()=>{class t{}return t.\u0275mod=r.yb({type:t}),t.\u0275inj=r.xb({factory:function(e){return new(e||t)},providers:[At],imports:[ae]}),t})();var le=n("spgP"),he=n("D0XW"),fe=n("LRne"),de=n("bHdf");function pe(...t){return Object(de.a)(1)(Object(fe.a)(...t))}var ye=n("z+Ro");function ve(...t){const e=t[t.length-1];return Object(ye.a)(e)?(t.pop(),n=>pe(t,n,e)):e=>pe(t,e)}var ge=n("7o/Q");function me(){return t=>t.lift(new be)}class be{call(t,e){return e.subscribe(new we(t))}}class we extends ge.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function _e(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ee(t,e,n))}}class Ee{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ie(t,this.accumulator,this.seed,this.hasSeed))}}class Ie extends ge.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class Oe{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Te(t,this.compare,this.keySelector))}}class Te extends ge.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function Ce(t,e){return function(n){return n.lift(new Ae(t,e))}}class Ae{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new xe(t,this.predicate,this.thisArg))}}class xe extends ge.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var Se=n("pxpQ"),je=n("Jgta"),Ne=n("zIRd"),ke=n("q/0M"),De=n("qOnz"),Pe=function(t,e){return(Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ve(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Re,Me="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Le=Le||{},Fe=Me||self;function Ue(){}function He(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function qe(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ge="closure_uid_"+(1e9*Math.random()>>>0),ze=0;function Be(t,e,n){return t.call.apply(t.bind,arguments)}function Ke(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Je(t,e,n){return(Je=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Be:Ke).apply(null,arguments)}function We(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function $e(){return Date.now()}function Ze(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ye(){this.j=this.j,this.i=this.i}Ye.prototype.j=!1,Ye.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ge)&&t[Ge]||(t[Ge]=++ze)}(this)},Ye.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Qe=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Xe=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function tn(t){return Array.prototype.concat.apply([],arguments)}function en(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function nn(t){return/^[\s\xa0]*$/.test(t)}var rn,on=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function sn(t,e){return-1!=t.indexOf(e)}function un(t,e){return t<e?-1:t>e?1:0}t:{var an=Fe.navigator;if(an){var cn=an.userAgent;if(cn){rn=cn;break t}}rn=""}function ln(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function hn(t){var e={};for(var n in t)e[n]=t[n];return e}var fn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dn(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<fn.length;o++)n=fn[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function pn(t){return pn[" "](t),t}pn[" "]=Ue;var yn,vn,gn=sn(rn,"Opera"),mn=sn(rn,"Trident")||sn(rn,"MSIE"),bn=sn(rn,"Edge"),wn=bn||mn,_n=sn(rn,"Gecko")&&!(sn(rn.toLowerCase(),"webkit")&&!sn(rn,"Edge"))&&!(sn(rn,"Trident")||sn(rn,"MSIE"))&&!sn(rn,"Edge"),En=sn(rn.toLowerCase(),"webkit")&&!sn(rn,"Edge");function In(){var t=Fe.document;return t?t.documentMode:void 0}t:{var On="",Tn=(vn=rn,_n?/rv:([^\);]+)(\)|;)/.exec(vn):bn?/Edge\/([\d\.]+)/.exec(vn):mn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(vn):En?/WebKit\/(\S+)/.exec(vn):gn?/(?:Version)[ \/]?(\S+)/.exec(vn):void 0);if(Tn&&(On=Tn?Tn[1]:""),mn){var Cn=In();if(null!=Cn&&Cn>parseFloat(On)){yn=String(Cn);break t}}yn=On}var An={};function xn(t){return function(t,e){var n=An;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=on(String(yn)).split("."),r=on(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=un(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||un(0==s[2].length,0==u[2].length)||un(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e}))}var Sn=Fe.document&&mn&&(In()||parseInt(yn,10))||void 0,jn=!mn||9<=Number(Sn),Nn=mn&&!xn("9"),kn=function(){if(!Fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Fe.addEventListener("test",Ue,e),Fe.removeEventListener("test",Ue,e)}catch(n){}return t}();function Dn(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Pn(t,e){if(Dn.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(_n){t:{try{pn(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Vn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Dn.prototype.b=function(){this.defaultPrevented=!0},Ze(Pn,Dn);var Vn={2:"touch",3:"pen",4:"mouse"};Pn.prototype.b=function(){Pn.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Nn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Rn="closure_listenable_"+(1e6*Math.random()|0),Mn=0;function Ln(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Mn,this.Y=this.Z=!1}function Fn(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Un(t){this.src=t,this.a={},this.b=0}function Hn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Qe(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Fn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function qn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Un.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=qn(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Ln(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Gn="closure_lm_"+(1e6*Math.random()|0),zn={};function Bn(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Xn(r),e&&e[Rn]?e.wa(n,r,qe(i)?!!i.capture:!!i,o):Kn(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Bn(t,e[o],n,r,i);return null}return n=Xn(n),t&&t[Rn]?t.va(e,n,qe(r)?!!r.capture:!!r,i):Kn(t,e,n,!1,r,i)}function Kn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=qe(i)?!!i.capture:!!i;if(s&&!jn)return null;var u=Yn(t);if(u||(t[Gn]=u=new Un(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Zn,e=jn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)kn||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Wn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Jn(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Rn])Hn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Wn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Yn(e))?(Hn(n,t),0==n.b&&(n.src=null,e[Gn]=null)):Fn(t)}}}function Wn(t){return t in zn?zn[t]:zn[t]="on"+t}function $n(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Jn(t),n.call(r,e)}function Zn(t,e){if(t.Y)return!0;if(!jn){if(!e)t:{e=["window","event"];for(var n=Fe,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return $n(t,e=new Pn(e,this))}return $n(t,new Pn(e,this))}function Yn(t){return(t=t[Gn])instanceof Un?t:null}var Qn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xn(t){return"function"==typeof t?t:(t[Qn]||(t[Qn]=function(e){return t.handleEvent(e)}),t[Qn])}function tr(){Ye.call(this),this.c=new Un(this),this.J=this,this.C=null}function er(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Dn(e,t);else if(e instanceof Dn)e.target=e.target||t;else{var i=e;dn(e=new Dn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=nr(s,r,!0,e)&&i}if(i=nr(s=e.a=t,r,!0,e)&&i,i=nr(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=nr(s=e.a=n[o],r,!1,e)&&i}function nr(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&Hn(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}Ze(tr,Ye),tr.prototype[Rn]=!0,(Re=tr.prototype).addEventListener=function(t,e,n,r){Bn(this,t,e,n,r)},Re.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=qe(i)?!!i.capture:!!i,r=Xn(r),e&&e[Rn]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=qn(s=e.a[n],r,i,o))&&(Fn(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Yn(e))&&(n=e.a[n.toString()],e=-1,n&&(e=qn(n,r,i,o)),(r=-1<e?n[e]:null)&&Jn(r))}(this,t,e,n,r)},Re.G=function(){if(tr.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Fn(n[r]);delete e.a[t],e.b--}}this.C=null},Re.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Re.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var rr=Fe.JSON.stringify;function ir(){this.b=this.a=null}var or,sr=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new ar}),(function(t){t.reset()}));function ur(){var t=fr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ar(){this.next=this.b=this.a=null}function cr(t){Fe.setTimeout((function(){throw t}),0)}function lr(t,e){or||function(){var t=Fe.Promise.resolve(void 0);or=function(){t.then(dr)}}(),hr||(or(),hr=!0),fr.add(t,e)}ir.prototype.add=function(t,e){var n=sr.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ar.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ar.prototype.reset=function(){this.next=this.b=this.a=null};var hr=!1,fr=new ir;function dr(){for(var t;t=ur();){try{t.a.call(t.b)}catch(n){cr(n)}var e=sr;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}hr=!1}function pr(t,e){tr.call(this),this.b=t||1,this.a=e||Fe,this.f=Je(this.Za,this),this.g=$e()}function yr(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function vr(t,e,n){if("function"==typeof t)n&&(t=Je(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Je(t.handleEvent,t)}return 2147483647<Number(e)?-1:Fe.setTimeout(t,e||0)}function gr(t){t.a=vr((function(){t.a=null,t.c&&(t.c=!1,gr(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ze(pr,tr),(Re=pr.prototype).aa=!1,Re.M=null,Re.Za=function(){if(this.aa){var t=$e()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),er(this,"tick"),this.aa&&(yr(this),this.start()))}},Re.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=$e())},Re.G=function(){pr.X.G.call(this),yr(this),delete this.a};var mr=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Pe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:gr(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Fe.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ye);function br(t){Ye.call(this),this.b=t,this.a={}}Ze(br,Ye);var wr=[];function _r(t,e,n,r){Array.isArray(n)||(n&&(wr[0]=n.toString()),n=wr);for(var i=0;i<n.length;i++){var o=Bn(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Er(t){ln(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Jn(t)}),t),t.a={}}function Ir(){this.a=!0}function Or(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return rr(n)}catch(u){return e}}(t,n)+(r?" "+r:"")}))}br.prototype.G=function(){br.X.G.call(this),Er(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ir.prototype.info=function(){};var Tr={},Cr=null;function Ar(){return Cr=Cr||new tr}function xr(t){Dn.call(this,Tr.Fa,t)}function Sr(t){var e=Ar();er(e,new xr(e,t))}function jr(t,e){Dn.call(this,Tr.STAT_EVENT,t),this.stat=e}function Nr(t){var e=Ar();er(e,new jr(e,t))}function kr(t){Dn.call(this,Tr.Ga,t)}function Dr(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Fe.setTimeout((function(){t()}),e)}Tr.Fa="serverreachability",Ze(xr,Dn),Tr.STAT_EVENT="statevent",Ze(jr,Dn),Tr.Ga="timingevent",Ze(kr,Dn);var Pr={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Vr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Rr(){}function Mr(){}Rr.prototype.a=null;var Lr,Fr={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ur(){Dn.call(this,"d")}function Hr(){Dn.call(this,"c")}function qr(){}function Gr(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new br(this),this.P=zr,this.R=new pr(t=wn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ze(Ur,Dn),Ze(Hr,Dn),Ze(qr,Rr),Lr=new qr;var zr=45e3,Br={},Kr={};function Jr(t,e,n){t.H=1,t.i=yi(ci(e)),t.j=n,t.I=!0,Wr(t,null)}function Wr(t,e){t.u=$e(),Yr(t),t.l=ci(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),xi(n.b,"t",r),t.D=0,t.a=Io(t.g,t.g.C?e:null),0<t.O&&(t.F=new mr(Je(t.Ca,t,t.a),t.O)),_r(t.J,t.a,"readystatechange",t.Xa),e=t.B?hn(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Sr(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function $r(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Zr(t,n);if(i==Kr){4==e&&(t.h=4,Nr(14),r=!1),Or(t.c,t.f,null,"[Incomplete Response]");break}if(i==Br){t.h=4,Nr(15),Or(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Or(t.c,t.f,i,null),ni(t,i)}4==e&&0==n.length&&(t.h=1,Nr(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),yo(e),e.F=!0,Nr(11))):(Or(t.c,t.f,n,"[Invalid Chunked Response]"),ei(t),ti(t))}function Zr(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Kr:(n=Number(e.substring(n,r)),isNaN(n)?Br:(r+=1)+n>e.length?Kr:(e=e.substr(r,n),t.D=r+n,e))}function Yr(t){t.T=$e()+t.P,Qr(t,t.P)}function Qr(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Dr(Je(t.Va,t),e)}function Xr(t){t.o&&(Fe.clearTimeout(t.o),t.o=null)}function ti(t){0==t.g.v||t.A||mo(t.g,t)}function ei(t){Xr(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,yr(t.R),Er(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ni(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Vi(n.b,t)))if(n.I=t.N,!t.C&&Vi(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(oy){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;go(n),oo(n)}po(n),Nr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Dr(Je(n.Sa,n),6e3));if(1>=Pi(n.b)&&n.ea){try{n.ea()}catch(oy){}n.ea=void 0}}else wo(n,11)}else if((t.C||n.a==t)&&go(n),!nn(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=a.b;!h.a&&(sn(l,"spdy")||sn(l,"quic")||sn(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ri(h,h.b),h.b=null))}if(a.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(a.na=f,pi(a.B,a.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=$e()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=Eo(a,a.C?a.ga:null,a.fa),d.C){Mi(a.b,d);var p=d,y=a.D;y&&p.setTimeout(y),p.o&&(Xr(p),Yr(p)),a.a=d}else fo(a);0<n.g.length&&ao(n)}else"stop"!=i[0]&&"close"!=i[0]||wo(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?wo(n,7):io(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Sr(4)}catch(oy){}}function ri(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(He(t)||"string"==typeof t)Xe(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(He(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(He(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ii(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ii)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function oi(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];si(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)si(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function si(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Re=Gr.prototype).setTimeout=function(t){this.P=t},Re.Xa=function(t){t=t.target;var e=this.F;e&&3==to(t)?e.f():this.Ca(t)},Re.Ca=function(t){try{if(t==this.a)t:{var e=to(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!wn&&!this.a.$())){this.A||4!=e||7==n||Sr(8==n||0>=r?3:2),Xr(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nn(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,Nr(12),ei(this),ti(this);break t}Or(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ni(this,a)}this.I?($r(this,e,o),wn&&this.b&&3==e&&(_r(this.J,this.R,"tick",this.Wa),this.R.start())):(Or(this.c,this.f,o,null),ni(this,o)),4==e&&ei(this),this.b&&!this.A&&(4==e?mo(this.g,this):(this.b=!1,Yr(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Nr(12)):(this.h=0,Nr(13)),ei(this),ti(this)}}}catch(c){}},Re.Wa=function(){if(this.a){var t=to(this.a),e=this.a.$();this.D<e.length&&(Xr(this),$r(this,t,e),this.b&&4!=t&&Yr(this))}},Re.cancel=function(){this.A=!0,ei(this)},Re.Va=function(){this.o=null;var t=$e();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Sr(3),Nr(17)),ei(this),this.h=2,ti(this)):Qr(this,this.T-t)},(Re=ii.prototype).K=function(){oi(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Re.L=function(){return oi(this),this.a.concat()},Re.get=function(t,e){return si(this.b,t)?this.b[t]:e},Re.set=function(t,e){si(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Re.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ui=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ai(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ai){this.a=void 0!==e?e:t.a,li(this,t.f),this.j=t.j,hi(this,t.c),fi(this,t.h),this.g=t.g,e=t.b;var n=new Oi;n.c=e.c,e.a&&(n.a=new ii(e.a),n.b=e.b),di(this,n),this.i=t.i}else t&&(n=String(t).match(ui))?(this.a=!!e,li(this,n[1]||"",!0),this.j=vi(n[2]||""),hi(this,n[3]||"",!0),fi(this,n[4]),this.g=vi(n[5]||"",!0),di(this,n[6]||"",!0),this.i=vi(n[7]||"")):(this.a=!!e,this.b=new Oi(null,this.a))}function ci(t){return new ai(t)}function li(t,e,n){t.f=n?vi(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function hi(t,e,n){t.c=n?vi(e,!0):e}function fi(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function di(t,e,n){e instanceof Oi?(t.b=e,function(t,e){e&&!t.f&&(Ti(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ci(this,e),xi(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=gi(e,Ei)),t.b=new Oi(e,t.a))}function pi(t,e,n){t.b.set(e,n)}function yi(t){return pi(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^$e()).toString(36)),t}function vi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function gi(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,mi),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function mi(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ai.prototype.toString=function(){var t=[],e=this.f;e&&t.push(gi(e,bi,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(gi(e,bi,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(gi(n,"/"==n.charAt(0)?_i:wi,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",gi(n,Ii)),t.join("")};var bi=/[#\/\?@]/g,wi=/[#\?:]/g,_i=/[#\?]/g,Ei=/[#\?@]/g,Ii=/#/g;function Oi(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ti(t){t.a||(t.a=new ii,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ci(t,e){Ti(t),e=Si(t,e),si(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,si((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&oi(t)))}function Ai(t,e){return Ti(t),e=Si(t,e),si(t.a.b,e)}function xi(t,e,n){Ci(t,e),0<n.length&&(t.c=null,t.a.set(Si(t,e),en(n)),t.b+=n.length)}function Si(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Re=Oi.prototype).add=function(t,e){Ti(this),this.c=null,t=Si(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Re.forEach=function(t,e){Ti(this),this.a.forEach((function(n,r){Xe(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Re.L=function(){Ti(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Re.K=function(t){Ti(this);var e=[];if("string"==typeof t)Ai(this,t)&&(e=tn(e,this.a.get(Si(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=tn(e,t[n])}return e},Re.set=function(t,e){return Ti(this),this.c=null,Ai(this,t=Si(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Re.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Re.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ji=function(){return function(t,e){this.b=t,this.a=e}}();function Ni(t){this.g=t||ki,t=Fe.PerformanceNavigationTiming?0<(t=Fe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Fe.ia&&Fe.ia.ya&&Fe.ia.ya()&&Fe.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ki=10;function Di(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Pi(t){return t.b?1:t.a?t.a.size:0}function Vi(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ri(t,e){t.a?t.a.add(e):t.b=e}function Mi(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Li(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ve(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return en(t.c)}function Fi(){}function Ui(){this.a=new Fi}function Hi(t,e,n){var r=n||"";try{ri(t,(function(t,n){var i=t;qe(t)&&(i=rr(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Ky){throw e.push(r+"type="+encodeURIComponent("_badmap")),Ky}}function qi(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Ni.prototype.cancel=function(){var t,e;if(this.c=Li(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ve(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Fi.prototype.stringify=function(t){return Fe.JSON.stringify(t,void 0)},Fi.prototype.parse=function(t){return Fe.JSON.parse(t,void 0)};var Gi=Fe.JSON.parse;function zi(t){tr.call(this),this.headers=new ii,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Bi,this.D=this.F=!1}Ze(zi,tr);var Bi="",Ki=/^https?$/i,Ji=["POST","PUT"];function Wi(t){return"content-type"==t.toLowerCase()}function $i(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Zi(t),Qi(t)}function Zi(t){t.u||(t.u=!0,er(t,"complete"),er(t,"error"))}function Yi(t){if(t.b&&void 0!==Le&&(!t.s[1]||4!=to(t)||2!=t.W()))if(t.l&&4==to(t))vr(t.za,0,t);else if(er(t,"readystatechange"),4==to(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ui)[1]||null;if(!o&&Fe.self&&Fe.self.location){var s=Fe.self.location.protocol;o=s.substr(0,s.length-1)}i=!Ki.test(o?o.toLowerCase():"")}e=i}if(e)er(t,"complete"),er(t,"success");else{t.h=6;try{var u=2<to(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",Zi(t)}}finally{Qi(t)}}}function Qi(t,e){if(t.a){Xi(t);var n=t.a,r=t.s[0]?Ue:null;t.a=null,t.s=null,e||er(t,"ready");try{n.onreadystatechange=r}catch(Ky){}}}function Xi(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Fe.clearTimeout(t.m),t.m=null)}function to(t){return t.a?t.a.readyState:0}function eo(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ln(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):pi(t,e,n))}function no(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ro(t){this.pa=0,this.g=[],this.c=new Ir,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=no("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=no("baseRetryDelayMs",5e3,t),this.Ra=no("retryDelaySeedMs",1e4,t),this.Ma=no("forwardChannelMaxRetries",2,t),this.ma=no("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ni(t&&t.concurrentRequestLimit),this.ka=new Ui,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function io(t){if(so(t),3==t.v){var e=t.R++,n=ci(t.B);pi(n,"SID",t.J),pi(n,"RID",e),pi(n,"TYPE","terminate"),lo(t,n),(e=new Gr(t,t.c,e,void 0)).H=2,e.i=yi(ci(n)),n=!1,Fe.navigator&&Fe.navigator.sendBeacon&&(n=Fe.navigator.sendBeacon(e.i.toString(),"")),!n&&Fe.Image&&((new Image).src=e.i,n=!0),n||(e.a=Io(e.g,null),e.a.ba(e.i)),e.u=$e(),Yr(e)}_o(t)}function oo(t){t.a&&(yo(t),t.a.cancel(),t.a=null)}function so(t){oo(t),t.j&&(Fe.clearTimeout(t.j),t.j=null),go(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Fe.clearTimeout(t.h),t.h=null)}function uo(t,e){t.g.push(new ji(t.Oa++,e)),3==t.v&&ao(t)}function ao(t){Di(t.b)||t.h||(t.h=!0,lr(t.Ba,t),t.u=0)}function co(t,e){var n;n=e?e.f:t.R++;var r=ci(t.B);pi(r,"SID",t.J),pi(r,"RID",n),pi(r,"AID",t.P),lo(t,r),t.i&&t.l&&eo(r,t.i,t.l),n=new Gr(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ho(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ri(t.b,n),Jr(n,r,e)}function lo(t,e){t.f&&ri({},(function(t,n){pi(e,n,t)}))}function ho(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Je(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{Hi(l,s,"req"+c+"_")}catch(os){r&&r(l)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function fo(t){t.a||t.j||(t.T=1,lr(t.Aa,t),t.o=0)}function po(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Dr(Je(t.Aa,t),bo(t,t.o)),t.o++,0))}function yo(t){null!=t.s&&(Fe.clearTimeout(t.s),t.s=null)}function vo(t){t.a=new Gr(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ci(t.la);pi(e,"RID","rpc"),pi(e,"SID",t.J),pi(e,"CI",t.H?"0":"1"),pi(e,"AID",t.P),lo(t,e),pi(e,"TYPE","xmlhttp"),t.i&&t.l&&eo(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=yi(ci(e)),n.j=null,n.I=!0,Wr(n,t)}function go(t){null!=t.m&&(Fe.clearTimeout(t.m),t.m=null)}function mo(t,e){var n=null;if(t.a==e){go(t),yo(t),t.a=null;var r=2}else{if(!Vi(t.b,e))return;n=e.s,Mi(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=$e()-e.u;var i=t.u;er(r=Ar(),new kr(r,n,e,i)),ao(t)}else fo(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Pi(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Dr(Je(t.Ba,t,e),bo(t,t.u)),t.u++,0)))}(t,e)||2==r&&po(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:wo(t,5);break;case 4:wo(t,10);break;case 3:wo(t,6);break;default:wo(t,2)}}function bo(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function wo(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Je(t.Ya,t);n||(n=new ai("//www.google.com/images/cleardot.gif"),Fe.location&&"http"==Fe.location.protocol||li(n,"https"),yi(n)),function(t,e){var n=new Ir;if(Fe.Image){var r=new Image;r.onload=We(qi,n,r,"TestLoadImage: loaded",!0,e),r.onerror=We(qi,n,r,"TestLoadImage: error",!1,e),r.onabort=We(qi,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=We(qi,n,r,"TestLoadImage: timeout",!1,e),Fe.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Nr(2);t.v=0,t.f&&t.f.ra(e),_o(t),so(t)}function _o(t){t.v=0,t.I=-1,t.f&&(0==Li(t.b).length&&0==t.g.length||(t.b.c.length=0,en(t.g),t.g.length=0),t.f.qa())}function Eo(t,e,n){var r=function(t){return t instanceof ai?ci(t):new ai(t,void 0)}(n);if(""!=r.c)e&&hi(r,e+"."+r.c),fi(r,r.h);else{var i=Fe.location;r=function(t,e,n,r){var i=new ai(null,void 0);return t&&li(i,t),e&&hi(i,e),n&&fi(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ln(t.V,(function(t,e){pi(r,e,t)})),n=t.na,(e=t.A)&&n&&pi(r,e,n),pi(r,"VER",t.ha),lo(t,r),r}function Io(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zi(t.Na)).F=t.C,e}function Oo(){}function To(){if(mn&&!(10<=Number(Sn)))throw Error("Environmental error: no available transport.")}function Co(t,e){tr.call(this),this.a=new ro(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!nn(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nn(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new So(this)}function Ao(t){Ur.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function xo(){Hr.call(this),this.status=1}function So(t){this.a=t}(Re=zi.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Lr),this.a.onreadystatechange=Je(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void $i(this,o)}t=n||"";var i=new ii(this.headers);r&&ri(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Wi,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Fe.FormData&&t instanceof Fe.FormData,!(0<=Qe(Ji,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Xi(this),0<this.o&&((this.D=function(t){return mn&&xn(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Je(this.xa,this)):this.m=vr(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){$i(this,o)}},Re.xa=function(){void 0!==Le&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,er(this,"timeout"),this.abort(8))},Re.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,er(this,"complete"),er(this,"abort"),Qi(this))},Re.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Qi(this,!0)),zi.X.G.call(this)},Re.za=function(){this.j||(this.A||this.l||this.g?Yi(this):this.Ua())},Re.Ua=function(){Yi(this)},Re.W=function(){try{return 2<to(this)?this.a.status:-1}catch(vn){return-1}},Re.$=function(){try{return this.a?this.a.responseText:""}catch(vn){return""}},Re.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Gi(e)}},Re.ua=function(){return this.h},Re.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Re=ro.prototype).ha=8,Re.v=1,Re.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Gr(this,this.c,t,void 0),r=this.l;if(this.O&&(r?dn(r=hn(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ho(this,n,e),pi(i=ci(this.B),"RID",t),pi(i,"CVER",22),this.A&&pi(i,"X-HTTP-Session-Id",this.A),lo(this,i),this.i&&r&&eo(i,this.i,r),Ri(this.b,n),this.Ia&&pi(i,"TYPE","init"),this.da?(pi(i,"$req",e),pi(i,"SID","null"),n.U=!0,Jr(n,i,null)):Jr(n,i,e),this.v=2}}else 3==this.v&&(t?co(this,t):0==this.g.length||Di(this.b)||co(this))},Re.Aa=function(){if(this.j=null,vo(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Dr(Je(this.Ta,this),t)}},Re.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Nr(10),oo(this),vo(this))},Re.Sa=function(){null!=this.m&&(this.m=null,oo(this),po(this),Nr(19))},Re.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Nr(2)):(this.c.info("Failed to ping google.com"),Nr(1))},(Re=Oo.prototype).ta=function(){},Re.sa=function(){},Re.ra=function(){},Re.qa=function(){},Re.Ja=function(){},To.prototype.a=function(t,e){return new Co(t,e)},Ze(Co,tr),Co.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Nr(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Eo(t,null,t.fa),ao(t)},Co.prototype.close=function(){io(this.a)},Co.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,uo(this.a,e)}else this.l?((e={}).__data__=rr(t),uo(this.a,e)):uo(this.a,t)},Co.prototype.G=function(){this.a.f=null,delete this.f,io(this.a),delete this.a,Co.X.G.call(this)},Ze(Ao,Ur),Ze(xo,Hr),Ze(So,Oo),So.prototype.ta=function(){er(this.a,"a")},So.prototype.sa=function(t){er(this.a,new Ao(t))},So.prototype.ra=function(t){er(this.a,new xo(t))},So.prototype.qa=function(){er(this.a,"b")},To.prototype.createWebChannel=To.prototype.a,Co.prototype.send=Co.prototype.h,Co.prototype.open=Co.prototype.g,Co.prototype.close=Co.prototype.close,Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,Vr.COMPLETE="complete",Mr.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",tr.prototype.listen=tr.prototype.va,zi.prototype.listenOnce=zi.prototype.wa,zi.prototype.getLastError=zi.prototype.Qa,zi.prototype.getLastErrorCode=zi.prototype.ua,zi.prototype.getStatus=zi.prototype.W,zi.prototype.getResponseJson=zi.prototype.Pa,zi.prototype.getResponseText=zi.prototype.$,zi.prototype.send=zi.prototype.ba;var jo=Pr,No=Vr,ko=Tr,Do=Mr,Po=zi,Vo=n("mrSG"),Ro=new ke.b("@firebase/firestore");function Mo(){return Ro.logLevel}function Lo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ro.logLevel<=ke.a.DEBUG){var r=e.map(Ho);Ro.debug.apply(Ro,Object(Vo.g)(["Firestore (8.2.1): "+t],r))}}function Fo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ro.logLevel<=ke.a.ERROR){var r=e.map(Ho);Ro.error.apply(Ro,Object(Vo.g)(["Firestore (8.2.1): "+t],r))}}function Uo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ro.logLevel<=ke.a.WARN){var r=e.map(Ho);Ro.warn.apply(Ro,Object(Vo.g)(["Firestore (8.2.1): "+t],r))}}function Ho(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Ky){return t}}function qo(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t;throw Fo(e),new Error(e)}function Go(t,e){t||qo()}function zo(t,e){return t}function Bo(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ko=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Bo(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Jo(t,e){return t<e?-1:t>e?1:0}function Wo(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function $o(t){return t+"\0"}var Zo=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Jo(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Zo.h=new Zo("");var Yo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Qo=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Vo.c)(e,t),e}(Error),Xo=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Zo.fromBase64String(e))}catch(e){throw new Qo(Yo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Zo.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),ts=function(t){this._=t};function es(){if("undefined"==typeof Uint8Array)throw new Qo(Yo.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ns(){if("undefined"==typeof atob)throw new Qo(Yo.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Vo.c)(e,t),e.fromBase64String=function(t){return ns(),new e(Xo.fromBase64String(t))},e.fromUint8Array=function(t){return es(),new e(Xo.fromUint8Array(t))},e.prototype.toBase64=function(){return ns(),this._.toBase64()},e.prototype.toUint8Array=function(){return es(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(ts),is=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},os=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),ss=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();ss.UNAUTHENTICATED=new ss(null),ss.P=new ss("google-credentials-uid"),ss.g=new ss("first-party-uid");var us=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},as=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(ss.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),cs=function(){function t(t){var e=this;this.C=null,this.currentUser=ss.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.F!==e?(Lo("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Go("string"==typeof n.accessToken),new us(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return Go(null===t||"string"==typeof t),new ss(t)},t}(),ls=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=ss.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),hs=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new ls(this.k,this.M))},t.prototype.S=function(t){t(ss.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),fs=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();fs.U=-1;var ds=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Qo(Yo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Qo(Yo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Qo(Yo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Qo(Yo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Jo(this.nanoseconds,t.nanoseconds):Jo(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ps=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new ds(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),ys=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&qo(),void 0===n?n=t.length-e:n>t.length-e&&qo(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),vs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Vo.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Qo(Yo.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(ys),gs=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ms=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Vo.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return gs.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Qo(Yo.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new Qo(Yo.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new Qo(Yo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new Qo(Yo.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(ys),bs=function(){function t(t){this.path=t}return t.ft=function(e){return new t(vs.ct(e))},t.dt=function(e){return new t(vs.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===vs.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return vs.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new vs(e.slice()))},t}();function ws(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _s(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Es(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Is=function(){function t(t){this.fields=t,t.sort(ms.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Wo(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Os=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(t){if(Go(!!t),"string"==typeof t){var e=0,n=Os.exec(t);if(Go(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Cs(t.seconds),nanos:Cs(t.nanos)}}function Cs(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function As(t){return"string"==typeof t?Zo.fromBase64String(t):Zo.fromUint8Array(t)}function xs(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ss(t){var e=Ts(t.mapValue.fields.__local_write_time__.timestampValue);return new ds(e.seconds,e.nanos)}function js(t){return null==t}function Ns(t){return 0===t&&1/t==-1/0}function ks(t){return"number"==typeof t&&Number.isInteger(t)&&!Ns(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ds(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xs(t)?4:10:qo()}function Ps(t,e){var n=Ds(t);if(n!==Ds(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ss(t).isEqual(Ss(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ts(t.timestampValue),r=Ts(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return As(t.bytesValue).isEqual(As(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Cs(t.geoPointValue.latitude)===Cs(e.geoPointValue.latitude)&&Cs(t.geoPointValue.longitude)===Cs(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Cs(t.integerValue)===Cs(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Cs(t.doubleValue),r=Cs(e.doubleValue);return n===r?Ns(n)===Ns(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Wo(t.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ws(n)!==ws(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ps(n[i],r[i])))return!1;return!0}(t,e);default:return qo()}}function Vs(t,e){return void 0!==(t.values||[]).find((function(t){return Ps(t,e)}))}function Rs(t,e){var n=Ds(t),r=Ds(e);if(n!==r)return Jo(n,r);switch(n){case 0:return 0;case 1:return Jo(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Cs(t.integerValue||t.doubleValue),r=Cs(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ms(t.timestampValue,e.timestampValue);case 4:return Ms(Ss(t),Ss(e));case 5:return Jo(t.stringValue,e.stringValue);case 6:return function(t,e){var n=As(t),r=As(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Jo(n[i],r[i]);if(0!==o)return o}return Jo(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Jo(Cs(t.latitude),Cs(e.latitude));return 0!==n?n:Jo(Cs(t.longitude),Cs(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Rs(n[i],r[i]);if(o)return o}return Jo(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=Jo(r[s],o[s]);if(0!==u)return u;var a=Rs(n[r[s]],i[o[s]]);if(0!==a)return a}return Jo(r.length,o.length)}(t.mapValue,e.mapValue);default:throw qo()}}function Ms(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Jo(t,e);var n=Ts(t),r=Ts(e),i=Jo(n.seconds,r.seconds);return 0!==i?i:Jo(n.nanos,r.nanos)}function Ls(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Ts(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?As(e.bytesValue).toBase64():"referenceValue"in e?bs.dt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):qo();var n}(t)}function Fs(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function Us(t){return!!t&&"integerValue"in t}function Hs(t){return!!t&&"arrayValue"in t}function qs(t){return!!t&&"nullValue"in t}function Gs(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zs(t){return!!t&&"mapValue"in t}var Bs=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!zs(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Ps(this.proto,t.proto)},t}(),Ks=function(){function t(t){void 0===t&&(t=Bs.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ds(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(ms.at(),this.Rt);return null!=t?new Bs(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=zs(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Js(t){var e=[];return _s(t.fields||{},(function(t,n){var r=new ms([t]);if(zs(n)){var i=Js(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Is(e)}var Ws=function(t,e){this.key=t,this.version=e},$s=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Vo.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ws),Zs=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Vo.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ws),Ys=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Vo.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ws),Qs=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function Xs(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Qs(t,e,n,r,i,o,s)}function tu(t){var e=zo(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+Ls(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),js(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=du(e.startAt)),e.endAt&&(n+="|ub:",n+=du(e.endAt)),e.St=n}return e.St}function eu(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!yu(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Ps(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gu(t.startAt,e.startAt)&&gu(t.endAt,e.endAt)}function nu(t){return bs.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ru=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Vo.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new iu(t,n,r):"array-contains"===n?new au(t,r):"in"===n?new cu(t,r):"not-in"===n?new lu(t,r):"array-contains-any"===n?new hu(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new ou(t,n):new su(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Rs(e,this.value)):null!==e&&Ds(this.value)===Ds(e)&&this.Ct(Rs(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return qo()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),iu=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=bs.dt(r.referenceValue),i}return Object(Vo.c)(e,t),e.prototype.matches=function(t){var e=bs.J(t.key,this.key);return this.Ct(e)},e}(ru),ou=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=uu(0,n),r}return Object(Vo.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ru),su=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=uu(0,n),r}return Object(Vo.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ru);function uu(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return bs.dt(t.referenceValue)}))}var au=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Vo.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Hs(e)&&Vs(e.arrayValue,this.value)},e}(ru),cu=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Vo.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Vs(this.value.arrayValue,e)},e}(ru),lu=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Vo.c)(e,t),e.prototype.matches=function(t){if(Vs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Vs(this.value.arrayValue,e)},e}(ru),hu=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Vo.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Hs(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Vs(e.value.arrayValue,t)}))},e}(ru),fu=function(t,e){this.position=t,this.before=e};function du(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Ls(t)})).join(",")}var pu=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function yu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function vu(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?bs.J(bs.dt(s.referenceValue),n.key):Rs(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function gu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ps(t.position[n],e.position[n]))return!1;return!0}var mu=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.Ft=null,this.Ot=null};function bu(t,e,n,r,i,o,s,u){return new mu(t,e,n,r,i,o,s,u)}function wu(t){return new mu(t)}function _u(t){return!js(t.limit)&&"F"===t.limitType}function Eu(t){return!js(t.limit)&&"L"===t.limitType}function Iu(t){return t.Nt.length>0?t.Nt[0].field:null}function Ou(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Tu(t){return null!==t.collectionGroup}function Cu(t){var e=zo(t);if(null===e.Ft){e.Ft=[];var n=Ou(e),r=Iu(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new pu(n)),e.Ft.push(new pu(ms.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var u=s[o];e.Ft.push(u),u.field.ht()&&(i=!0)}if(!i){var a=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new pu(ms.lt(),a))}}}return e.Ft}function Au(t){var e=zo(t);if(!e.Ot)if("F"===e.limitType)e.Ot=Xs(e.path,e.collectionGroup,Cu(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Cu(e);r<i.length;r++){var o=i[r];n.push(new pu(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new fu(e.endAt.position,!e.endAt.before):null,u=e.startAt?new fu(e.startAt.position,!e.startAt.before):null;e.Ot=Xs(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.Ot}function xu(t,e,n){return new mu(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Su(t,e){return eu(Au(t),Au(e))&&t.limitType===e.limitType}function ju(t){return tu(Au(t))+"|lt:"+t.limitType}function Nu(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+Ls(e.value);var e})).join(", ")+"]"),js(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+du(t.startAt)),t.endAt&&(e+=", endAt: "+du(t.endAt)),"Target("+e+")"}(Au(t))+"; limitType="+t.limitType+")"}function ku(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):bs.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!vu(t.startAt,Cu(t),e)||t.endAt&&vu(t.endAt,Cu(t),e))}(t,e)}function Du(t){return function(e,n){for(var r=!1,i=0,o=Cu(t);i<o.length;i++){var s=o[i],u=Pu(s,e,n);if(0!==u)return u;r=r||s.field.ht()}return 0}}function Pu(t,e,n){var r=t.field.ht()?bs.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Rs(r,i):qo()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qo()}}var Vu=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=ps.min()),void 0===o&&(o=ps.min()),void 0===s&&(s=Zo.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function Ru(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ns(e)?"-0":e}}function Mu(t){return{integerValue:""+t}}function Lu(t,e){return ks(e)?Mu(e):Ru(t,e)}var Fu=function(){this.Ut=void 0};function Uu(t,e,n){return t instanceof Gu?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof zu?Bu(t,e):t instanceof Ku?Ju(t,e):function(t,e){var n=qu(t,e),r=$u(n)+$u(t.Qt);return Us(n)&&Us(t.Qt)?Mu(r):Ru(t.Kt,r)}(t,e)}function Hu(t,e,n){return t instanceof zu?Bu(t,e):t instanceof Ku?Ju(t,e):n}function qu(t,e){return t instanceof Wu?Us(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Gu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Vo.c)(e,t),e}(Fu),zu=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Vo.c)(e,t),e}(Fu);function Bu(t,e){for(var n=Zu(e),r=function(t){n.some((function(e){return Ps(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ku=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Vo.c)(e,t),e}(Fu);function Ju(t,e){for(var n=Zu(e),r=function(t){n=n.filter((function(e){return!Ps(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Wu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(Vo.c)(e,t),e}(Fu);function $u(t){return Cs(t.integerValue||t.doubleValue)}function Zu(t){return Hs(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Yu=function(t,e){this.field=t,this.transform=e},Qu=function(t,e){this.version=t,this.transformResults=e},Xu=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ta(t,e){return void 0!==t.updateTime?e instanceof $s&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof $s}var ea=function(){};function na(t,e,n){return t instanceof ua?function(t,e,n){var r=t.value;if(n.transformResults){var i=la(t.fieldTransforms,e,n.transformResults);r=fa(t.fieldTransforms,r,i)}return new $s(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof aa?function(t,e,n){if(!ta(t.Gt,e))return new Ys(t.key,n.version);var r=ca(t,e,n.transformResults?la(t.fieldTransforms,e,n.transformResults):[]);return new $s(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Zs(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function ra(t,e,n,r){return t instanceof ua?function(t,e,n,r){if(!ta(t.Gt,e))return e;var i=t.value;if(t.fieldTransforms){var o=ha(t.fieldTransforms,n,e,r);i=fa(t.fieldTransforms,i,o)}var s=sa(e);return new $s(t.key,s,i,{bt:!0})}(t,e,r,n):t instanceof aa?function(t,e,n,r){if(!ta(t.Gt,e))return e;var i=sa(e),o=ca(t,e,ha(t.fieldTransforms,n,e,r));return new $s(t.key,i,o,{bt:!0})}(t,e,r,n):function(t,e){return ta(t.Gt,e)?new Zs(t.key,ps.min()):e}(t,e)}function ia(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof $s?e.field(o.field):void 0,u=qu(o.transform,s||null);null!=u&&(n=null==n?(new Ks).set(o.field,u):n.set(o.field,u))}return n?n.yt():null}(t.fieldTransforms,e):null}function oa(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Wo(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof zu&&e instanceof zu||t instanceof Ku&&e instanceof Ku?Wo(t.elements,e.elements,Ps):t instanceof Wu&&e instanceof Wu?Ps(t.Qt,e.Qt):t instanceof Gu&&e instanceof Gu}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function sa(t){return t instanceof $s?t.version:ps.min()}var ua=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(Vo.c)(e,t),e}(ea),aa=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(Vo.c)(e,t),e}(ea);function ca(t,e,n){var r;return r=function(t,e){var n=new Ks(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof $s?e.data():Bs.empty()),fa(t.fieldTransforms,r,n)}function la(t,e,n){var r=[];Go(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof $s&&(u=e.field(o.field)),r.push(Hu(s,u,n[i]))}return r}function ha(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var u=s[o],a=u.transform,c=null;n instanceof $s&&(c=n.field(u.field)),null===c&&r instanceof $s&&(c=r.field(u.field)),i.push(Uu(a,c,e))}return i}function fa(t,e,n){for(var r=new Ks(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var da,pa,ya=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(Vo.c)(e,t),e}(ea),va=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(Vo.c)(e,t),e}(ea),ga=function(t){this.count=t};function ma(t){switch(t){case Yo.OK:return qo();case Yo.CANCELLED:case Yo.UNKNOWN:case Yo.DEADLINE_EXCEEDED:case Yo.RESOURCE_EXHAUSTED:case Yo.INTERNAL:case Yo.UNAVAILABLE:case Yo.UNAUTHENTICATED:return!1;case Yo.INVALID_ARGUMENT:case Yo.NOT_FOUND:case Yo.ALREADY_EXISTS:case Yo.PERMISSION_DENIED:case Yo.FAILED_PRECONDITION:case Yo.ABORTED:case Yo.OUT_OF_RANGE:case Yo.UNIMPLEMENTED:case Yo.DATA_LOSS:return!0;default:return qo()}}function ba(t){if(void 0===t)return Fo("GRPC error has no .code"),Yo.UNKNOWN;switch(t){case da.OK:return Yo.OK;case da.CANCELLED:return Yo.CANCELLED;case da.UNKNOWN:return Yo.UNKNOWN;case da.DEADLINE_EXCEEDED:return Yo.DEADLINE_EXCEEDED;case da.RESOURCE_EXHAUSTED:return Yo.RESOURCE_EXHAUSTED;case da.INTERNAL:return Yo.INTERNAL;case da.UNAVAILABLE:return Yo.UNAVAILABLE;case da.UNAUTHENTICATED:return Yo.UNAUTHENTICATED;case da.INVALID_ARGUMENT:return Yo.INVALID_ARGUMENT;case da.NOT_FOUND:return Yo.NOT_FOUND;case da.ALREADY_EXISTS:return Yo.ALREADY_EXISTS;case da.PERMISSION_DENIED:return Yo.PERMISSION_DENIED;case da.FAILED_PRECONDITION:return Yo.FAILED_PRECONDITION;case da.ABORTED:return Yo.ABORTED;case da.OUT_OF_RANGE:return Yo.OUT_OF_RANGE;case da.UNIMPLEMENTED:return Yo.UNIMPLEMENTED;case da.DATA_LOSS:return Yo.DATA_LOSS;default:return qo()}}(pa=da||(da={}))[pa.OK=0]="OK",pa[pa.CANCELLED=1]="CANCELLED",pa[pa.UNKNOWN=2]="UNKNOWN",pa[pa.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pa[pa.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pa[pa.NOT_FOUND=5]="NOT_FOUND",pa[pa.ALREADY_EXISTS=6]="ALREADY_EXISTS",pa[pa.PERMISSION_DENIED=7]="PERMISSION_DENIED",pa[pa.UNAUTHENTICATED=16]="UNAUTHENTICATED",pa[pa.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pa[pa.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pa[pa.ABORTED=10]="ABORTED",pa[pa.OUT_OF_RANGE=11]="OUT_OF_RANGE",pa[pa.UNIMPLEMENTED=12]="UNIMPLEMENTED",pa[pa.INTERNAL=13]="INTERNAL",pa[pa.UNAVAILABLE=14]="UNAVAILABLE",pa[pa.DATA_LOSS=15]="DATA_LOSS";var wa=function(){function t(t,e){this.J=t,this.root=e||Ea.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Ea.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Ea.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new _a(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new _a(this.root,t,this.J,!1)},t.prototype.se=function(){return new _a(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new _a(this.root,t,this.J,!0)},t}(),_a=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Ea=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw qo();if(this.right._e())throw qo();var t=this.left.me();if(t!==this.right.me())throw qo();return t+(this._e()?0:1)},t}();Ea.EMPTY=null,Ea.RED=!0,Ea.Jt=!1,Ea.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw qo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw qo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw qo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw qo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw qo()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Ea(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Ia=function(){function t(t){this.J=t,this.data=new wa(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Oa(this.data.ee())},t.prototype.ne=function(t){return new Oa(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Oa=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Ta=new wa(bs.J);function Ca(){return Ta}function Aa(){return Ca()}var xa=new wa(bs.J);function Sa(){return xa}var ja=new wa(bs.J);function Na(){return ja}var ka=new Ia(bs.J);function Da(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ka,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Pa=new Ia(Jo);function Va(){return Pa}var Ra=function(){function t(t){this.J=t?function(e,n){return t(e,n)||bs.J(e.key,n.key)}:function(t,e){return bs.J(t.key,e.key)},this.Ve=Sa(),this.pe=new wa(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),Ma=function(){function t(){this.ve=new wa(bs.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):qo():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),La=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=u}return t.Fe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Ra.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&Su(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Fa=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,Ua.Be(e,n)),new t(ps.min(),r,Va(),Ca(),Da())},t}(),Ua=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Zo.h,n,Da(),Da(),Da())},t}(),Ha=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},qa=function(t,e){this.targetId=t,this.Ge=e},Ga=function(t,e,n,r){void 0===n&&(n=Zo.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},za=function(){function t(){this.ze=0,this.He=Ja(),this.Je=Zo.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Da(),e=Da(),n=Da();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:qo()}})),new Ua(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Ja()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Ba=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Ca(),this.fn=Ka(),this.dn=new Ia(Jo)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof $s?this.En(r,t.je):t.je instanceof Zs&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:qo()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(nu(i))if(0===n){var o=new bs(i.path);this.Tn(e,o,new Zs(o,ps.min()))}else Go(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&nu(o.target)){var s=new bs(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new Zs(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=Da();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Fa(t,n,this.dn,this._n,r);return this._n=Ca(),this.fn=Ka(),this.dn=new Ia(Jo),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new za,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Ia(Jo),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Lo("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new za),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Ka(){return new wa(bs.J)}function Ja(){return new wa(bs.J)}var Wa={asc:"ASCENDING",desc:"DESCENDING"},$a={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Za=function(t,e){this.T=t,this.qt=e};function Ya(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qa(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Xa(t,e){return Ya(t,e.G())}function tc(t){return Go(!!t),ps.W(function(t){var e=Ts(t);return new ds(e.seconds,e.nanos)}(t))}function ec(t,e){return function(t){return new vs(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function nc(t){var e=vs.ct(t);return Go(Tc(e)),e}function rc(t,e){return ec(t.T,e.path)}function ic(t,e){var n=nc(e);if(n.get(1)!==t.T.projectId)throw new Qo(Yo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Qo(Yo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new bs(ac(n))}function oc(t,e){return ec(t.T,e)}function sc(t){var e=nc(t);return 4===e.length?vs.at():ac(e)}function uc(t){return new vs(["projects",t.T.projectId,"databases",t.T.database]).ot()}function ac(t){return Go(t.length>4&&"documents"===t.get(4)),t.X(5)}function cc(t,e,n){return{name:rc(t,e),fields:n.proto.mapValue.fields}}function lc(t,e,n){var r=ic(t,e.name),i=tc(e.updateTime),o=new Bs({mapValue:{fields:e.fields}});return new $s(r,i,o,{hasCommittedMutations:!!n})}function hc(t,e){var n;if(e instanceof ua)n={update:cc(t,e.key,e.value)};else if(e instanceof ya)n={delete:rc(t,e.key)};else if(e instanceof aa)n={update:cc(t,e.key,e.data),updateMask:Oc(e.zt)};else{if(!(e instanceof va))return qo();n={verify:rc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Gu)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof zu)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Ku)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Wu)return{fieldPath:e.field.ot(),increment:n.Qt};throw qo()}(0,t)}))),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Xa(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:qo()}(t,e.Gt)),n}function fc(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Xu.updateTime(tc(t.updateTime)):void 0!==t.exists?Xu.exists(t.exists):Xu.Wt()}(e.currentDocument):Xu.Wt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Go("REQUEST_TIME"===e.setToServerValue),n=new Gu):"appendMissingElements"in e?n=new zu(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ku(e.removeAllFromArray.values||[]):"increment"in e?n=new Wu(t,e.increment):qo();var r=ms._t(e.fieldPath);return new Yu(r,n)}(t,e)})):[];if(e.update){var i=ic(t,e.update.name),o=new Bs({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Is((t.fieldPaths||[]).map((function(t){return ms._t(t)})))}(e.updateMask);return new aa(i,o,s,n,r)}return new ua(i,o,n,r)}if(e.delete){var u=ic(t,e.delete);return new ya(u,n)}if(e.verify){var a=ic(t,e.verify);return new va(a,n)}return qo()}function dc(t,e){return{documents:[oc(t,e.path)]}}function pc(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=oc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=oc(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Gs(t.value))return{unaryFilter:{field:wc(t.field),op:"IS_NAN"}};if(qs(t.value))return{unaryFilter:{field:wc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Gs(t.value))return{unaryFilter:{field:wc(t.field),op:"IS_NOT_NAN"}};if(qs(t.value))return{unaryFilter:{field:wc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(t.field),op:bc(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:wc(t.field),direction:mc(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||js(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=vc(e.startAt)),e.endAt&&(n.structuredQuery.endAt=vc(e.endAt)),n}function yc(t){var e=sc(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Go(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Ic(e)]:void 0!==e.fieldFilter?[Ec(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):qo():[]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(t){return function(t){return new pu(_c(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var a=null;n.limit&&(a=function(t){var e;return js(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=gc(n.startAt));var l=null;return n.endAt&&(l=gc(n.endAt)),bu(e,i,u,s,a,"F",c,l)}function vc(t){return{before:t.before,values:t.position}}function gc(t){return new fu(t.values||[],!!t.before)}function mc(t){return Wa[t]}function bc(t){return $a[t]}function wc(t){return{fieldPath:t.ot()}}function _c(t){return ms._t(t.fieldPath)}function Ec(t){return ru.create(_c(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return qo()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ic(t){switch(t.unaryFilter.op){case"IS_NAN":var e=_c(t.unaryFilter.field);return ru.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=_c(t.unaryFilter.field);return ru.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_c(t.unaryFilter.field);return ru.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_c(t.unaryFilter.field);return ru.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return qo()}}function Oc(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function Tc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Cc=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Ac=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&qo(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),xc=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Cc,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Nc(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=Rc(e.target.error);n.qn.reject(new Nc(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Nc(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Lo("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Dc(e)},t}(),Sc=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(De.g)())&&Fo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Lo("SimpleDb","Removing database:",t),Pc(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(De.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(Vo.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Vo.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Lo("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Nc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Qo(Yo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Nc(t,n))},i.onupgradeneeded=function(t){Lo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Lo("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Vo.b)(this,void 0,void 0,(function(){var i,o,s,u,a;return Object(Vo.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,l;return Object(Vo.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,u.Jn(t)];case 2:return u.db=h.sent(),e=xc.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Ac.reject(t)})).Mn(),a={},s.catch((function(){})),[4,e.Un];case 3:return[2,(a.value=(h.sent(),s),a)];case 4:return Lo("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),jc=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Pc(this.ts.delete())},t}(),Nc=function(t){function e(e,n){var r=this;return(r=t.call(this,Yo.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Vo.c)(e,t),e}(Qo);function kc(t){return"IndexedDbTransactionError"===t.name}var Dc=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Lo("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Lo("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Pc(n)},t.prototype.add=function(t){return Lo("SimpleDb","ADD",this.store.name,t,t),Pc(this.store.add(t))},t.prototype.get=function(t){var e=this;return Pc(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Lo("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Lo("SimpleDb","DELETE",this.store.name,t),Pc(this.store.delete(t))},t.prototype.count=function(){return Lo("SimpleDb","COUNT",this.store.name),Pc(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){Lo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Ac((function(n,r){e.onerror=function(t){var e=Rc(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new Ac((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new jc(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ac){var u=s.catch((function(t){return o.done(),Ac.reject(t)}));n.push(u)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return Ac.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Pc(t){return new Ac((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Rc(t.target.error);n(e)}}))}var Vc=!1;function Rc(t){var e=Sc.Kn(Object(De.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Qo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Vc||(Vc=!0,setTimeout((function(){throw r}),0)),r}}return t}var Mc=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Cc,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Qo(Yo.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Lc(t,e){if(Fo("AsyncQueue",e+": "+t),kc(t))return new Qo(Yo.UNAVAILABLE,e+": "+t);throw t}var Fc=function(t,e){this.progress=t,this.gs=e},Uc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hc=function(){function t(){this.Vs=[]}return t.prototype.ps=function(t){this.Vs.push(t)},t.prototype.bs=function(){this.Vs.forEach((function(t){return t()}))},t}();function qc(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=zc(e)),e=Gc(t.get(n),e);return zc(e)}function Gc(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function zc(t){return t+"\x01\x01"}function Bc(t){var e=t.length;if(Go(e>=2),2===e)return Go("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),vs.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&qo(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:qo()}o=s+2}return new vs(r)}var Kc=function(t,e){this.seconds=t,this.nanoseconds=e},Jc=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Jc.store="owner",Jc.key="owner";var Wc=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Wc.store="mutationQueues",Wc.keyPath="userId";var $c=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};$c.store="mutations",$c.keyPath="batchId",$c.userMutationsIndex="userMutationsIndex",$c.userMutationsKeyPath=["userId","batchId"];var Zc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,qc(e)]},t.key=function(t,e,n){return[t,qc(e),n]},t}();Zc.store="documentMutations",Zc.PLACEHOLDER=new Zc;var Yc=function(t,e){this.path=t,this.readTime=e},Qc=function(t,e){this.path=t,this.version=e},Xc=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Xc.store="remoteDocuments",Xc.readTimeIndex="readTimeIndex",Xc.readTimeIndexPath="readTime",Xc.collectionReadTimeIndex="collectionReadTimeIndex",Xc.collectionReadTimeIndexPath=["parentPath","readTime"];var tl=function(t){this.byteSize=t};tl.store="remoteDocumentGlobal",tl.key="remoteDocumentGlobalKey";var el=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};el.store="targets",el.keyPath="targetId",el.queryTargetsIndexName="queryTargetsIndex",el.queryTargetsKeyPath=["canonicalId","targetId"];var nl=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};nl.store="targetDocuments",nl.keyPath=["targetId","path"],nl.documentTargetsIndex="documentTargetsIndex",nl.documentTargetsKeyPath=["path","targetId"];var rl=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};rl.key="targetGlobalKey",rl.store="targetGlobal";var il=function(t,e){this.collectionId=t,this.parent=e};il.store="collectionParents",il.keyPath=["collectionId","parent"];var ol=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ol.store="clientMetadata",ol.keyPath="clientId";var sl=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};sl.store="bundles",sl.keyPath="bundleId";var ul=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ul.store="namedQueries",ul.keyPath="name";var al=Object(Vo.g)(Object(Vo.g)(Object(Vo.g)(Object(Vo.g)([Wc.store,$c.store,Zc.store,Xc.store,el.store,Jc.store,rl.store,nl.store],[ol.store]),[tl.store]),[il.store]),[sl.store,ul.store]),cl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vs=e,r.Ss=n,r}return Object(Vo.c)(e,t),e}(Hc);function ll(t,e){var n=zo(t);return Sc.Hn(n.vs,e)}var hl=function(){function t(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}return t.prototype.Cs=function(t,e,n){for(var r=n.xs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=na(o,e,r[i]))}return e},t.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=ra(i,e,e,this.Ds))}for(var o=e,s=0,u=this.mutations;s<u.length;s++){var a=u[s];a.key.isEqual(t)&&(e=ra(a,e,o,this.Ds))}return e},t.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Da())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Wo(this.mutations,t.mutations,(function(t,e){return oa(t,e)}))&&Wo(this.baseMutations,t.baseMutations,(function(t,e){return oa(t,e)}))},t}(),fl=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}return t.from=function(e,n,r){Go(e.mutations.length===r.length);for(var i=Na(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),dl=function(t){this.Ms=t};function pl(t,e){if(e.document)return lc(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=bs.Tt(e.noDocument.path),r=bl(e.noDocument.readTime);return new Zs(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=bs.Tt(e.unknownDocument.path);return r=bl(e.unknownDocument.version),new Ys(i,r)}return qo()}function yl(t,e,n){var r=vl(n),i=e.key.path.Z().rt();if(e instanceof $s){var o=function(t,e){return{name:rc(t,e.key),fields:e.vt().mapValue.fields,updateTime:Ya(t,e.version.G())}}(t.Ms,e),s=e.hasCommittedMutations;return new Xc(null,null,o,s,r,i)}if(e instanceof Zs){var u=e.key.path.rt(),a=ml(e.version);return s=e.hasCommittedMutations,new Xc(null,new Yc(u,a),null,s,r,i)}if(e instanceof Ys){var c=e.key.path.rt(),l=ml(e.version);return new Xc(new Qc(c,l),null,null,!0,r,i)}return qo()}function vl(t){var e=t.G();return[e.seconds,e.nanoseconds]}function gl(t){var e=new ds(t[0],t[1]);return ps.W(e)}function ml(t){var e=t.G();return new Kc(e.seconds,e.nanoseconds)}function bl(t){var e=new ds(t.seconds,t.nanoseconds);return ps.W(e)}function wl(t,e){for(var n=(e.baseMutations||[]).map((function(e){return fc(t.Ms,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return fc(t.Ms,e)})),s=ds.fromMillis(e.localWriteTimeMs);return new hl(e.batchId,s,n,o)}function _l(t){var e,n,r=bl(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?bl(t.lastLimboFreeSnapshotVersion):ps.min();return void 0!==t.query.documents?(Go(1===(n=t.query).documents.length),e=Au(wu(sc(n.documents[0])))):e=function(t){return Au(yc(t))}(t.query),new Vu(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Zo.fromBase64String(t.resumeToken))}function El(t,e){var n,r=ml(e.Mt),i=ml(e.lastLimboFreeSnapshotVersion);n=nu(e.target)?dc(t.Ms,e.target):pc(t.Ms,e.target);var o=e.resumeToken.toBase64();return new el(e.targetId,tu(e.target),r,o,e.sequenceNumber,i,n)}function Il(t){var e=yc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?xu(e,e.limit,"L"):e}var Ol=function(){function t(){}return t.prototype.Ls=function(t,e){return Tl(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:bl(e.createTime),version:e.version};var e}))},t.prototype.$s=function(t,e){return Tl(t).put({bundleId:(n=e).id,createTime:ml(tc(n.createTime)),version:n.version});var n},t.prototype.Bs=function(t,e){return Cl(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Il(e.bundledQuery),readTime:bl(e.readTime)};var e}))},t.prototype.qs=function(t,e){return Cl(t).put(function(t){return{name:t.name,readTime:ml(tc(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Tl(t){return ll(t,sl.store)}function Cl(t){return ll(t,ul.store)}var Al=function(){function t(){this.Us=new xl}return t.prototype.Qs=function(t,e){return this.Us.add(e),Ac.resolve()},t.prototype.Ks=function(t,e){return Ac.resolve(this.Us.getEntries(e))},t}(),xl=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Ia(vs.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ia(vs.J)).rt()},t}(),Sl=function(){function t(){this.Ws=new xl}return t.prototype.Qs=function(t,e){var n=this;if(!this.Ws.has(e)){var r=e.et(),i=e.Z();t.ps((function(){n.Ws.add(e)}));var o={collectionId:r,parent:qc(i)};return jl(t).put(o)}return Ac.resolve()},t.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[$o(e),""],!1,!0);return jl(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Bc(o.parent))}return n}))},t}();function jl(t){return ll(t,il.store)}var Nl={js:!1,Gs:0,zs:0,Hs:0},kl=function(){function t(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}return t.Zs=function(e){return new t(e,t.ti,t.ei)},t}();function Dl(t){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(e){if(t.code!==Yo.FAILED_PRECONDITION||t.message!==Uc)throw t;return Lo("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}kl.ti=10,kl.ei=1e3,kl.ni=new kl(41943040,kl.ti,kl.ei),kl.si=new kl(-1,0,0);var Pl=function(){function t(t,e){this.ii=t,this.ri=e,this.oi={}}return t.prototype.get=function(t){var e=this.ii(t),n=this.oi[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ri(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){_s(this.oi,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.nt=function(){return Es(this.oi)},t}(),Vl=function(){function t(){this.ci=new Pl((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ai=!1}return t.prototype.ui=function(t){var e=this.ci.get(t);return e?e.readTime:ps.min()},t.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},t.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},t.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?Ac.resolve(n._i):this.wi(t,e)},t.prototype.getEntries=function(t,e){return this.Ei(t,e)},t.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},t.prototype.li=function(){},t}();function Rl(t,e,n){var r=t.store($c.store),i=t.store(Zc.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.ls({range:s},(function(t,e,n){return u++,n.delete()}));o.push(a.next((function(){Go(1===u)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Zc.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Ac.$n(o).next((function(){return c}))}function Ml(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw qo();e=t.noDocument}return JSON.stringify(e).length}var Ll=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}return t.Ri=function(e,n,r,i){return Go(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ul(t).ls({index:$c.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.yi=function(t,e,n,r){var i=this,o=Hl(t),s=Ul(t);return s.add({}).next((function(u){Go("number"==typeof u);for(var a=new hl(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return hc(t.Ms,e)})),i=n.mutations.map((function(e){return hc(t.Ms,e)}));return new $c(e,n.batchId,n.Ds.toMillis(),r,i)}(i.Kt,i.userId,a),l=[],h=new Ia((function(t,e){return Jo(t.ot(),e.ot())})),f=0,d=r;f<d.length;f++){var p=d[f],y=Zc.key(i.userId,p.key.path,u);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(y,Zc.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ii.Qs(t,e))})),t.ps((function(){i.Ai[u]=a.keys()})),Ac.$n(l).next((function(){return a}))}))},t.prototype.gi=function(t,e){var n=this;return Ul(t).get(e).next((function(t){return t?(Go(t.userId===n.userId),wl(n.Kt,t)):null}))},t.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?Ac.resolve(this.Ai[e]):this.gi(t,e).next((function(t){if(t){var r=t.keys();return n.Ai[e]=r,r}return null}))},t.prototype.pi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ul(t).ls({index:$c.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Go(e.batchId>=r),o=wl(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ul(t).ls({index:$c.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ul(t).os($c.userMutationsIndex,n).next((function(t){return t.map((function(t){return wl(e.Kt,t)}))}))},t.prototype.Si=function(t,e){var n=this,r=Zc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Hl(t).ls({range:i},(function(r,i,s){var u=r[0],a=r[2],c=Bc(r[1]);if(u===n.userId&&e.path.isEqual(c))return Ul(t).get(a).next((function(t){if(!t)throw qo();Go(t.userId===n.userId),o.push(wl(n.Kt,t))}));s.done()})).next((function(){return o}))},t.prototype.Di=function(t,e){var n=this,r=new Ia(Jo),i=[];return e.forEach((function(e){var o=Zc.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=Hl(t).ls({range:s},(function(t,i,o){var s=t[0],u=t[2],a=Bc(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()}));i.push(u)})),Ac.$n(i).next((function(){return n.Ci(t,r)}))},t.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,o=Zc.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new Ia(Jo);return Hl(t).ls({range:s},(function(t,e,o){var s=t[0],a=t[2],c=Bc(t[1]);s===n.userId&&r.st(c)?c.length===i&&(u=u.add(a)):o.done()})).next((function(){return n.Ci(t,u)}))},t.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ul(t).get(e).next((function(t){if(null===t)throw qo();Go(t.userId===n.userId),r.push(wl(n.Kt,t))})))})),Ac.$n(i).next((function(){return r}))},t.prototype.Ni=function(t,e){var n=this;return Rl(t.vs,this.userId,e).next((function(r){return t.ps((function(){n.Fi(e.batchId)})),Ac.forEach(r,(function(e){return n.mi.Oi(t,e)}))}))},t.prototype.Fi=function(t){delete this.Ai[t]},t.prototype.ki=function(t){var e=this;return this.Pi(t).next((function(n){if(!n)return Ac.resolve();var r=IDBKeyRange.lowerBound(Zc.prefixForUser(e.userId)),i=[];return Hl(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Bc(t[1]);i.push(o)}else r.done()})).next((function(){Go(0===i.length)}))}))},t.prototype.Mi=function(t,e){return Fl(t,this.userId,e)},t.prototype.Li=function(t){var e=this;return ql(t).get(this.userId).next((function(t){return t||new Wc(e.userId,-1,"")}))},t}();function Fl(t,e,n){var r=Zc.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Hl(t).ls({range:o,hs:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Ul(t){return ll(t,$c.store)}function Hl(t){return ll(t,Zc.store)}function ql(t){return ll(t,Wc.store)}var Gl=function(){function t(t){this.$i=t}return t.prototype.next=function(){return this.$i+=2,this.$i},t.Bi=function(){return new t(0)},t.qi=function(){return new t(-1)},t}(),zl=function(){function t(t,e){this.mi=t,this.Kt=e}return t.prototype.Ui=function(t){var e=this;return this.Qi(t).next((function(n){var r=new Gl(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Wi=function(t){return this.Qi(t).next((function(t){return ps.W(new ds(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)}))},t.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next((function(){return n.Qi(t).next((function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)}))}))},t.prototype.Yi=function(t,e){return this.Hi(t,e)},t.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next((function(){return Bl(t).delete(e.targetId)})).next((function(){return n.Qi(t)})).next((function(e){return Go(e.targetCount>0),e.targetCount-=1,n.Ki(t,e)}))},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return Bl(t).ls((function(s,u){var a=_l(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Xi(t,a)))})).next((function(){return Ac.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return Bl(t).ls((function(t,n){var r=_l(n);e(r)}))},t.prototype.Qi=function(t){return Kl(t).get(rl.key).next((function(t){return Go(null!==t),t}))},t.prototype.Ki=function(t,e){return Kl(t).put(rl.key,e)},t.prototype.Hi=function(t,e){return Bl(t).put(El(this.Kt,e))},t.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.er=function(t){return this.Qi(t).next((function(t){return t.targetCount}))},t.prototype.nr=function(t,e){var n=tu(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Bl(t).ls({range:r,index:el.queryTargetsIndexName},(function(t,n,r){var o=_l(n);eu(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.sr=function(t,e,n){var r=this,i=[],o=Jl(t);return e.forEach((function(e){var s=qc(e.path);i.push(o.put(new nl(n,s))),i.push(r.mi.ir(t,n,e))})),Ac.$n(i)},t.prototype.rr=function(t,e,n){var r=this,i=Jl(t);return Ac.forEach(e,(function(e){var o=qc(e.path);return Ac.$n([i.delete([n,o]),r.mi.cr(t,n,e)])}))},t.prototype.Zi=function(t,e){var n=Jl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ar=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Jl(t),i=Da();return r.ls({range:n,hs:!0},(function(t,e,n){var r=Bc(t[1]),o=new bs(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Mi=function(t,e){var n=qc(e.path),r=IDBKeyRange.bound([n],[$o(n)],!1,!0),i=0;return Jl(t).ls({index:nl.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return Bl(t).get(e).next((function(t){return t?_l(t):null}))},t}();function Bl(t){return ll(t,el.store)}function Kl(t){return ll(t,rl.store)}function Jl(t){return ll(t,nl.store)}function Wl(t,e){var n=t[1],r=e[1],i=Jo(t[0],e[0]);return 0===i?Jo(n,r):i}var $l=function(){function t(t){this.ur=t,this.buffer=new Ia(Wl),this.hr=0}return t.prototype.lr=function(){return++this.hr},t.prototype._r=function(t){var e=[t,this.lr()];if(this.buffer.size<this.ur)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Wl(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Zl=function(){function t(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}return t.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},t.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(t.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;Lo("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,(function(){return Object(Vo.b)(e,void 0,void 0,(function(){var e;return Object(Vo.d)(this,(function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return kc(e=n.sent())?(Lo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Dl(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Yl=function(){function t(t,e){this.Rr=t,this.params=e}return t.prototype.Pr=function(t,e){return this.Rr.yr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.gr=function(t,e){var n=this;if(0===e)return Ac.resolve(fs.U);var r=new $l(e);return this.Rr.mn(t,(function(t){return r._r(t.sequenceNumber)})).next((function(){return n.Rr.Vr(t,(function(t){return r._r(t)}))})).next((function(){return r.maxValue}))},t.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},t.prototype.pr=function(t,e){return this.Rr.pr(t,e)},t.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(Lo("LruGarbageCollector","Garbage collection skipped; disabled"),Ac.resolve(Nl)):this.vr(t).next((function(r){return r<n.params.Js?(Lo("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),Nl):n.Sr(t,e)}))},t.prototype.vr=function(t){return this.Rr.vr(t)},t.prototype.Sr=function(t,e){var n,r,i,o,s,u,a,c=this,l=Date.now();return this.Pr(t,this.params.Ys).next((function(e){return e>c.params.Xs?(Lo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Xs+" from "+e),r=c.params.Xs):r=e,o=Date.now(),c.gr(t,r)})).next((function(r){return n=r,s=Date.now(),c.tr(t,n,e)})).next((function(e){return i=e,u=Date.now(),c.pr(t,n)})).next((function(t){return a=Date.now(),Mo()<=ke.a.DEBUG&&Lo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-l)+"ms"),Ac.resolve({js:!0,Gs:r,zs:i,Hs:t})}))},t}(),Ql=function(){function t(t,e){this.db=t,this.dr=function(t,e){return new Yl(t,e)}(this,e)}return t.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Dr=function(t){var e=0;return this.Vr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},t.prototype.Vr=function(t,e){return this.Nr(t,(function(t,n){return e(n)}))},t.prototype.ir=function(t,e,n){return Xl(t,n)},t.prototype.cr=function(t,e,n){return Xl(t,n)},t.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},t.prototype.Oi=function(t,e){return Xl(t,e)},t.prototype.Fr=function(t,e){return function(t,e){var n=!1;return ql(t)._s((function(r){return Fl(t,r,e).next((function(t){return t&&(n=!0),Ac.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],o=0;return this.Nr(t,(function(s,u){if(u<=e){var a=n.Fr(t,s).next((function(e){if(!e)return o++,r.di(t,s).next((function(){return r.fi(s),Jl(t).delete([0,qc(s.path)])}))}));i.push(a)}})).next((function(){return Ac.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.Ss);return this.db.Cr().Yi(t,n)},t.prototype.Mr=function(t,e){return Xl(t,e)},t.prototype.Nr=function(t,e){var n,r=Jl(t),i=fs.U;return r.ls({index:nl.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==fs.U&&e(new bs(Bc(n)),i),i=s,n=o):i=fs.U})).next((function(){i!==fs.U&&e(new bs(Bc(n)),i)}))},t.prototype.vr=function(t){return this.db.kr().Lr(t)},t}();function Xl(t,e){return Jl(t).put(function(t,e){return new nl(0,qc(t.path),e)}(e,t.Ss))}var th=function(){function t(t,e){this.Kt=t,this.Ii=e}return t.prototype.hi=function(t,e,n){return rh(t).put(ih(e),n)},t.prototype.fi=function(t,e){var n=rh(t),r=ih(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.$r(t,r)}))},t.prototype.di=function(t,e){var n=this;return rh(t).get(ih(e)).next((function(t){return n.Br(t)}))},t.prototype.qr=function(t,e){var n=this;return rh(t).get(ih(e)).next((function(t){var e=n.Br(t);return e?{_i:e,size:Ml(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Aa();return this.Ur(t,e,(function(t,e){var i=n.Br(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Qr=function(t,e){var n=this,r=Aa(),i=new wa(bs.J);return this.Ur(t,e,(function(t,e){var o=n.Br(e);o?(r=r.Ht(t,o),i=i.Ht(t,Ml(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Kr:r,Wr:i}}))},t.prototype.Ur=function(t,e,n){if(e.nt())return Ac.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return rh(t).ls({range:r},(function(t,e,r){for(var s=bs.Tt(t);o&&bs.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=Sa(),o=e.path.length+1,s={};if(n.isEqual(ps.min())){var u=e.path.rt();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.rt(),c=vl(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=Xc.collectionReadTimeIndex}return rh(t).ls(s,(function(t,n,s){if(t.length===o){var u=pl(r.Kt,n);e.path.st(u.key.path)?u instanceof $s&&ku(e,u)&&(i=i.Ht(u.key,u)):s.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new eh(this,!!t&&t.Gr)},t.prototype.Lr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return nh(t).get(tl.key).next((function(t){return Go(!!t),t}))},t.prototype.$r=function(t,e){return nh(t).put(tl.key,e)},t.prototype.Br=function(t){if(t){var e=pl(this.Kt,t);return e instanceof Zs&&e.version.isEqual(ps.min())?null:e}return null},t}(),eh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zr=e,r.Gr=n,r.Hr=new Pl((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Vo.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[],r=0,i=new Ia((function(t,e){return Jo(t.ot(),e.ot())}));return this.ci.forEach((function(o,s){var u=e.Hr.get(o);if(s._i){var a=yl(e.zr.Kt,s._i,e.ui(o));i=i.add(o.path.Z());var c=Ml(a);r+=c-u,n.push(e.zr.hi(t,o,a))}else if(r-=u,e.Gr){var l=yl(e.zr.Kt,new Zs(o,ps.min()),e.ui(o));n.push(e.zr.hi(t,o,l))}else n.push(e.zr.fi(t,o))})),i.forEach((function(r){n.push(e.zr.Ii.Qs(t,r))})),n.push(this.zr.updateMetadata(t,r)),Ac.$n(n)},e.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next((function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)}))},e.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next((function(t){var e=t.Kr;return t.Wr.forEach((function(t,e){n.Hr.set(t,e)})),e}))},e}(Vl);function nh(t){return ll(t,tl.store)}function rh(t){return ll(t,Xc.store)}function ih(t){return t.path.rt()}var oh=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;Go(n<r&&n>=0&&r<=11);var o=new xc("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Jc.store)}(t),function(t){t.createObjectStore(Wc.store,{keyPath:Wc.keyPath}),t.createObjectStore($c.store,{keyPath:$c.keyPath,autoIncrement:!0}).createIndex($c.userMutationsIndex,$c.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Zc.store)}(t),sh(t),function(t){t.createObjectStore(Xc.store)}(t));var s=Ac.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(nl.store),t.deleteObjectStore(el.store),t.deleteObjectStore(rl.store)}(t),sh(t)),s=s.next((function(){return function(t){var e=t.store(rl.store),n=new rl(0,0,ps.min().G(),0);return e.put(rl.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store($c.store).os().next((function(n){t.deleteObjectStore($c.store),t.createObjectStore($c.store,{keyPath:$c.keyPath,autoIncrement:!0}).createIndex($c.userMutationsIndex,$c.userMutationsKeyPath,{unique:!0});var r=e.store($c.store),i=n.map((function(t){return r.put(t)}));return Ac.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(ol.store,{keyPath:ol.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Jr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(tl.store)}(t),i.Yr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Xr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Zr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Xc.store);e.createIndex(Xc.readTimeIndex,Xc.readTimeIndexPath,{unique:!1}),e.createIndex(Xc.collectionReadTimeIndex,Xc.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.eo(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(sl.store,{keyPath:sl.keyPath})}(t),function(t){t.createObjectStore(ul.store,{keyPath:ul.keyPath})}(t)}))),s},t.prototype.Yr=function(t){var e=0;return t.store(Xc.store).ls((function(t,n){e+=Ml(n)})).next((function(){var n=new tl(e);return t.store(tl.store).put(tl.key,n)}))},t.prototype.Jr=function(t){var e=this,n=t.store(Wc.store),r=t.store($c.store);return n.os().next((function(n){return Ac.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os($c.userMutationsIndex,i).next((function(r){return Ac.forEach(r,(function(r){Go(r.userId===n.userId);var i=wl(e.Kt,r);return Rl(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Xr=function(t){var e=t.store(nl.store),n=t.store(Xc.store);return t.store(rl.store).get(rl.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new vs(n),s=function(t){return[0,qc(t)]}(o);r.push(e.get(s).next((function(n){return n?Ac.resolve():function(n){return e.put(new nl(0,qc(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Ac.$n(r)}))}))},t.prototype.Zr=function(t,e){t.createObjectStore(il.store,{keyPath:il.keyPath});var n=e.store(il.store),r=new xl,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:qc(i)})}};return e.store(Xc.store).ls({hs:!0},(function(t,e){var n=new vs(t);return i(n.Z())})).next((function(){return e.store(Zc.store).ls({hs:!0},(function(t,e){var n=Bc(t[1]);return i(n.Z())}))}))},t.prototype.eo=function(t){var e=this,n=t.store(el.store);return n.ls((function(t,r){var i=_l(r),o=El(e.Kt,i);return n.put(o)}))},t}();function sh(t){t.createObjectStore(nl.store,{keyPath:nl.keyPath}).createIndex(nl.documentTargetsIndex,nl.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(el.store,{keyPath:el.keyPath}).createIndex(el.queryTargetsIndexName,el.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(rl.store)}var uh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ah=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.no=o,this.window=s,this.document=u,this.so=c,this.io=l,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!t.Wn())throw new Qo(Yo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new Ql(this,i),this._o=n+"main",this.Kt=new dl(a),this.fo=new Sc(this._o,11,new oh(this.Kt)),this.wo=new zl(this.mi,this.Kt),this.Ii=new Sl,this.Eo=function(t,e){return new th(t,e)}(this.Kt,this.Ii),this.To=new Ol,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===l&&Fo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.mo().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Qo(Yo.FAILED_PRECONDITION,uh);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.wo.ji(e)}))})).then((function(e){t.ro=new fs(e,t.so)})).then((function(){t.oo=!0})).catch((function(e){return t.fo&&t.fo.close(),Promise.reject(e)}))},t.prototype.yo=function(t){var e=this;return this.lo=function(n){return Object(Vo.b)(e,void 0,void 0,(function(){return Object(Vo.d)(this,(function(e){return this.Ir?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Vo=function(t){var e=this;this.fo.Zn((function(n){return Object(Vo.b)(e,void 0,void 0,(function(){return Object(Vo.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys((function(){return Object(Vo.b)(e,void 0,void 0,(function(){return Object(Vo.d)(this,(function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return lh(e).put(new ol(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.bo(e).next((function(e){e||(t.isPrimary=!1,t.no.vo((function(){return t.lo(!1)})))}))})).next((function(){return t.So(e)})).next((function(n){return t.isPrimary&&!n?t.Do(e).next((function(){return!1})):!!n&&t.Co(e).next((function(){return!0}))}))})).catch((function(e){if(kc(e))return Lo("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Lo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.no.vo((function(){return t.lo(e)})),t.isPrimary=e}))},t.prototype.bo=function(t){var e=this;return ch(t).get(Jc.key).next((function(t){return Ac.resolve(e.xo(t))}))},t.prototype.No=function(t){return lh(t).delete(this.clientId)},t.prototype.Fo=function(){return Object(Vo.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Vo.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=ll(t,ol.store);return e.os().next((function(t){var n=r.ko(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Ac.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Io)for(e=0,n=t;e<n.length;e++)this.Io.removeItem(this.Mo(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,(function(){return t.mo().then((function(){return t.Fo()})).then((function(){return t.Po()}))}))},t.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.So=function(t){var e=this;return this.io?Ac.resolve(!0):ch(t).get(Jc.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new Qo(Yo.FAILED_PRECONDITION,uh);return!1}}return!(!e.networkEnabled||!e.inForeground)||lh(t).os().next((function(t){return void 0===e.ko(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Lo("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.$o=function(){return Object(Vo.b)(this,void 0,void 0,(function(){var t=this;return Object(Vo.d)(this,(function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[Jc.store,ol.store],(function(e){var n=new cl(e,fs.U);return t.Do(n).next((function(){return t.No(n)}))}))];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}}))}))},t.prototype.ko=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)}))},t.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return lh(e).os().next((function(e){return t.ko(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Wo=function(t){return Ll.Ri(t,this.Kt,this.Ii,this.mi)},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.jo=function(){return this.Ii},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Lo("IndexedDbPersistence","Starting transaction:",t),this.fo.runTransaction(t,"readonly"===e?"readonly":"readwrite",al,(function(o){return r=new cl(o,i.ro?i.ro.next():fs.U),"readwrite-primary"===e?i.bo(r).next((function(t){return!!t||i.So(r)})).next((function(e){if(!e)throw Fo("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.no.vo((function(){return i.lo(!1)})),new Qo(Yo.FAILED_PRECONDITION,Uc);return n(r)})).next((function(t){return i.Co(r).next((function(){return t}))})):i.zo(r).next((function(){return n(r)}))})).then((function(t){return r.bs(),t}))},t.prototype.zo=function(t){var e=this;return ch(t).get(Jc.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Qo(Yo.FAILED_PRECONDITION,uh)}))},t.prototype.Co=function(t){var e=new Jc(this.clientId,this.allowTabSynchronization,Date.now());return ch(t).put(Jc.key,e)},t.Wn=function(){return Sc.Wn()},t.prototype.Do=function(t){var e=this,n=ch(t);return n.get(Jc.key).next((function(t){return e.xo(t)?(Lo("IndexedDbPersistence","Releasing primary lease."),n.delete(Jc.key)):Ac.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Fo("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()}))},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},t.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},t.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys((function(){return e.$o()}))},this.window.addEventListener("unload",this.co))},t.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},t.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return Lo("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Fo("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){Fo("Failed to set zombie client id.",t)}},t.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},t.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ch(t){return ll(t,Jc.store)}function lh(t){return ll(t,ol.store)}function hh(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var fh=function(){function t(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=Aa();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ns(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next((function(r){var i=n.Xo(t,e,r),o=Ca();return i.forEach((function(t,e){e||(e=new Zs(t,ps.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return bs.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Tu(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new bs(e)).next((function(t){var e=Sa();return t instanceof $s&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=Sa();return this.Ii.Ks(t,i).next((function(s){return Ac.forEach(s,(function(s){var u=function(t,e){return new mu(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,u,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.Eo.jr(t,e,n).next((function(n){return r=n,o.Ho.xi(t,e)})).next((function(e){return o.ic(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=r.get(c),h=ra(a,l,l,o.Ds);r=h instanceof $s?r.Ht(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){ku(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=Da(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof aa&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.Eo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof $s&&(c=c.Ht(t,e))})),c}))},t}(),dh=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Da(),i=Da(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ph=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(ps.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var s=i.lc(e,o);return(_u(e)||Eu(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(Mo()<=ke.a.DEBUG&&Lo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Nu(e)),i.uc.jr(t,e,n).next((function(t){return s.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new Ia(Du(t));return e.forEach((function(e,r){r instanceof $s&&ku(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Mo()<=ke.a.DEBUG&&Lo("QueryEngine","Using full collection scan to execute query:",Nu(e)),this.uc.jr(t,e,ps.min())},t}(),yh=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new wa(Jo),this.wc=new Pl((function(t){return tu(t)}),eu),this.Ec=ps.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new fh(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}return t.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.br(n,e.dc)}))},t}();function vh(t,e,n,r){return new yh(t,e,n,r)}function gh(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Vo.d)(this,(function(s){switch(s.label){case 0:return n=zo(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.vi(t).next((function(s){return o=s,r=n.persistence.Wo(e),i=new fh(n.Tc,r,n.persistence.jo()),r.vi(t)})).next((function(e){for(var n=[],r=[],s=Da(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var y=0,v=p.mutations;y<v.length;y++)s=s.add(v[y].key)}return i.Zo(t,s).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function mh(t,e){var n=zo(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Gr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Ac.resolve();return o.forEach((function(t){s=s.next((function(){return r.di(e,t)})).next((function(e){var o=e,s=n.ks.get(t);Go(null!==s),(!o||o.version.u(s)<0)&&(o=i.Cs(t,o,n))&&r.hi(o,n.Os)}))})),s.next((function(){return t.Ho.Ni(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function bh(t){var e=zo(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.wo.Wi(t)}))}function wh(t,e){var n=zo(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Gr:!0});i=n.dc;var s=[];e.Oe.forEach((function(e,o){var u=i.get(o);if(u){s.push(n.wo.rr(t,e.Ke,o).next((function(){return n.wo.sr(t,e.Ue,o)})));var a=e.resumeToken;if(a.o()>0){var c=u.$t(a,r).Lt(t.Ss);i=i.Ht(o,c),function(t,e,n){return Go(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(u,c,e)&&s.push(n.wo.Yi(t,c))}}}));var u=Ca();if(e.Me.forEach((function(r,i){e.Le.has(r)&&s.push(n.persistence.mi.Mr(t,r))})),s.push(_h(t,o,e.Me,r,void 0).next((function(t){u=t}))),!r.isEqual(ps.min())){var a=n.wo.Wi(t).next((function(e){return n.wo.Gi(t,t.Ss,r)}));s.push(a)}return Ac.$n(s).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,u)}))})).then((function(t){return n.dc=i,t}))}function _h(t,e,n,r,i){var o=Da();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Ca();return n.forEach((function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof Zs&&s.version.isEqual(ps.min())?(e.fi(n,a),o=o.Ht(n,s)):null==u||s.version.u(u.version)>0||0===s.version.u(u.version)&&u.hasPendingWrites?(e.hi(s,a),o=o.Ht(n,s)):Lo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)})),o}))}function Eh(t,e){var n=zo(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)}))}function Ih(t,e){var n=zo(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.wo.nr(t,e).next((function(i){return i?Ac.resolve(r=i):n.wo.Ui(t).next((function(i){return r=new Vu(e,i,0,t.Ss),n.wo.zi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function Oh(t,e,n){return Object(Vo.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Vo.d)(this,(function(u){switch(u.label){case 0:r=zo(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.mi.removeTarget(t,i)}))];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!kc(s=u.sent()))throw s;return Lo("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function Th(t,e,n){var r=zo(t),i=ps.min(),o=Da();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=zo(t),i=r.wc.get(n);return void 0!==i?Ac.resolve(r.dc.get(i)):r.wo.nr(e,n)}(r,t,Au(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:ps.min(),n?o:Da())})).next((function(t){return{documents:t,Pc:o}}))}))}function Ch(t,e){var n=zo(t),r=zo(n.wo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function Ah(t){var e=zo(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=zo(t),i=Ca(),o=vl(n),s=rh(e),u=IDBKeyRange.lowerBound(o,!0);return s.ls({index:Xc.readTimeIndex,range:u},(function(t,e){var n=pl(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{gs:i,readTime:gl(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.gs;return e.Ec=t.readTime,n}))}function xh(t){return Object(Vo.b)(this,void 0,void 0,(function(){var e;return Object(Vo.d)(this,(function(n){return[2,(e=zo(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=rh(t),n=ps.min();return e.ls({index:Xc.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=gl(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function Sh(t,e,n,r){return Object(Vo.b)(this,void 0,void 0,(function(){var i,o,s,u,a,c,l,h,f,d;return Object(Vo.d)(this,(function(p){switch(p.label){case 0:for(i=zo(t),o=Da(),s=Ca(),u=Na(),a=0,c=n;a<c.length;a++)h=e.yc((l=c[a]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),u=u.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Gr:!0}),[4,Ih(i,function(t){return Au(wu(vs.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return _h(t,f,s,ps.min(),u).next((function(e){return f.apply(t),e})).next((function(e){return i.wo.Zi(t,d.targetId).next((function(){return i.wo.sr(t,o,d.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function jh(t,e,n){return void 0===n&&(n=Da()),Object(Vo.b)(this,void 0,void 0,(function(){var r,i;return Object(Vo.d)(this,(function(o){switch(o.label){case 0:return[4,Ih(t,Au(Il(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=zo(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=tc(e.readTime);if(r.Mt.u(o)>=0)return i.To.qs(t,e);var s=r.$t(Zo.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.wo.Yi(t,s).next((function(){return i.wo.Zi(t,r.targetId)})).next((function(){return i.wo.sr(t,n,r.targetId)})).next((function(){return i.To.qs(t,e)}))}))]}}))}))}var Nh=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ls=function(t,e){return Ac.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:tc(n.createTime)}),Ac.resolve()},t.prototype.Bs=function(t,e){return Ac.resolve(this.vc.get(e))},t.prototype.qs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Il(t.bundledQuery),readTime:tc(t.readTime)}}(e)),Ac.resolve()},t}(),kh=function(){function t(){this.Sc=new Ia(Dh.Dc),this.Cc=new Ia(Dh.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.ir=function(t,e){var n=new Dh(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.cr=function(t,e){this.Fc(new Dh(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach((function(t){return n.cr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new bs(new vs([])),r=new Dh(n,t),i=new Dh(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Fc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Fc(e)}))},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new bs(new vs([])),n=new Dh(e,t),r=new Dh(e,t+1),i=Da();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Mi=function(t){var e=new Dh(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Dh=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return bs.J(t.key,e.key)||Jo(t.$c,e.$c)},t.xc=function(t,e){return Jo(t.$c,e.$c)||bs.J(t.key,e.key)},t}(),Ph=function(){function t(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new Ia(Dh.Dc)}return t.prototype.Pi=function(t){return Ac.resolve(0===this.Ho.length)},t.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new hl(i,e,n,r);this.Ho.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.qc=this.qc.add(new Dh(a.key,i)),this.Ii.Qs(t,a.key.path.Z())}return Ac.resolve(o)},t.prototype.gi=function(t,e){return Ac.resolve(this.Uc(e))},t.prototype.pi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return Ac.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.bi=function(){return Ac.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.vi=function(t){return Ac.resolve(this.Ho.slice())},t.prototype.Si=function(t,e){var n=this,r=new Dh(e,0),i=new Dh(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),Ac.resolve(o)},t.prototype.Di=function(t,e){var n=this,r=new Ia(Jo);return e.forEach((function(t){var e=new Dh(t,0),i=new Dh(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),Ac.resolve(this.Kc(r))},t.prototype.xi=function(t,e){var n=e.path,r=n.length+1,i=n;bs.Et(i)||(i=i.child(""));var o=new Dh(new bs(i),0),s=new Ia(Jo);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)}),o),Ac.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.Ni=function(t,e){var n=this;Go(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Ac.forEach(e.mutations,(function(i){var o=new Dh(i.key,e.batchId);return r=r.delete(o),n.mi.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Fi=function(t){},t.prototype.Mi=function(t,e){var n=new Dh(e,0),r=this.qc.Pe(n);return Ac.resolve(e.isEqual(r&&r.key))},t.prototype.ki=function(t){return Ac.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Vh=function(){function t(t,e){this.Ii=t,this.jc=e,this.docs=new wa(bs.J),this.size=0}return t.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:s,readTime:n}),this.size+=s-o,this.Ii.Qs(t,r.path.Z())},t.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.di=function(t,e){var n=this.docs.get(e);return Ac.resolve(n?n._i:null)},t.prototype.getEntries=function(t,e){var n=this,r=Aa();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)})),Ac.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=Sa(),i=new bs(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),u=s.value,a=u._i,c=u.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||a instanceof $s&&ku(e,a)&&(r=r.Ht(a.key,a))}return Ac.resolve(r)},t.prototype.Gc=function(t,e){return Ac.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new Rh(this)},t.prototype.Lr=function(t){return Ac.resolve(this.size)},t}(),Rh=function(t){function e(e){var n=this;return(n=t.call(this)||this).zr=e,n}return Object(Vo.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach((function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)})),Ac.$n(n)},e.prototype.wi=function(t,e){return this.zr.di(t,e)},e.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},e}(Vl),Mh=function(){function t(t){this.persistence=t,this.zc=new Pl((function(t){return tu(t)}),eu),this.lastRemoteSnapshotVersion=ps.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new kh,this.targetCount=0,this.Yc=Gl.Bi()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),Ac.resolve()},t.prototype.Wi=function(t){return Ac.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return Ac.resolve(this.Hc)},t.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),Ac.resolve(this.highestTargetId)},t.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Ac.resolve()},t.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Gl(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,Ac.resolve()},t.prototype.Yi=function(t,e){return this.Hi(e),Ac.resolve()},t.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Ac.resolve()},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.zc.delete(s),o.push(r.Zi(t,u.targetId)),i++)})),Ac.$n(o).next((function(){return i}))},t.prototype.er=function(t){return Ac.resolve(this.targetCount)},t.prototype.nr=function(t,e){var n=this.zc.get(e)||null;return Ac.resolve(n)},t.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),Ac.resolve()},t.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),Ac.$n(i)},t.prototype.Zi=function(t,e){return this.Jc.kc(e),Ac.resolve()},t.prototype.ar=function(t,e){var n=this.Jc.Lc(e);return Ac.resolve(n)},t.prototype.Mi=function(t,e){return Ac.resolve(this.Jc.Mi(e))},t}(),Lh=function(){function t(t,e){var n=this;this.Xc={},this.ro=new fs(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new Mh(this),this.Ii=new Al,this.Eo=function(t,e){return new Vh(t,(function(t){return n.mi.Zc(t)}))}(this.Ii),this.Kt=new dl(e),this.To=new Nh(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Vo=function(){},t.prototype.po=function(){},t.prototype.jo=function(){return this.Ii},t.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new Ph(this.Ii,this.mi),this.Xc[t.R()]=e),e},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;Lo("MemoryPersistence","Starting transaction:",t);var i=new Fh(this.ro.next());return this.mi.ta(),n(i).next((function(t){return r.mi.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.bs(),t}))},t.prototype.na=function(t,e){return Ac.Bn(Object.values(this.Xc).map((function(n){return function(){return n.Mi(t,e)}})))},t}(),Fh=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ss=e,n}return Object(Vo.c)(e,t),e}(Hc),Uh=function(){function t(t){this.persistence=t,this.sa=new kh,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw qo()},enumerable:!1,configurable:!0}),t.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),Ac.resolve()},t.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),Ac.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),Ac.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Cr();return r.ar(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Xi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return Ac.forEach(this.oa,(function(r){var i=bs.ft(r);return e.ca(t,i).next((function(t){t||n.fi(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Ac.Bn([function(){return Ac.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Hh(t,e){return"firestore_clients_"+t+"_"+e}function qh(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Gh(t,e){return"firestore_targets_"+t+"_"+e}var zh=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Qo(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(Fo("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Bh=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Qo(r.error.code,r.error.message)),i?new t(e,r.state,o):(Fo("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Kh=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Va(),s=0;i&&s<r.activeTargetIds.length;++s)i=ks(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Fo("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Jh=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Fo("SharedClientState","Failed to parse online state: "+e),null)},t}(),Wh=function(){function t(){this.activeTargetIds=Va()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),$h=function(){function t(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new wa(Jo),this.Ir=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Hh(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Wh),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Vo.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,u,a,c,l=this;return Object(Vo.d)(this,(function(h){switch(h.label){case 0:return[4,this.fa.Ko()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Hh(this.persistenceKey,r)))&&(o=Kh.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(u=this.ba(s))&&this.va(u),a=0,c=this.Ia;a<c.length;a++)this.Ea(c[a]);return this.Ia=[],this.window.addEventListener("unload",(function(){return l.$o()})),this.Ir=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Gh(this.persistenceKey,t));if(n){var r=Bh.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Gh(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Oa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Lo("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Lo("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Lo("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Lo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Fo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo((function(){return Object(Vo.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(Vo.d)(this,(function(u){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=fs.U;if(null!=t)try{var n=JSON.parse(t);Go("number"==typeof n),e=n}catch(t){Fo("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==fs.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new zh(this.currentUser,t,e,n),i=qh(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=qh(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=Gh(this.persistenceKey,t),i=new Bh(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Kh.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return zh.aa(new ss(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return Bh.aa(r,e)},t.prototype.ba=function(t){return Jh.aa(t)},t.prototype.Xa=function(t){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Lo("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],u=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||u.push(t)})),this.fa.iu(s,u).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Va();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),Zh=function(){function t(){this.ru=new Wh,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Wh,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.$o=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),Yh=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.$o=function(){},t}(),Qh=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Lo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Lo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Xh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},tf=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),ef=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(Vo.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var s=new Po;s.listenOnce(No.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case jo.NO_ERROR:var e=s.getResponseJson();Lo("Connection","XHR received:",JSON.stringify(e)),i(e);break;case jo.TIMEOUT:Lo("Connection",'RPC "'+t+'" timed out'),o(new Qo(Yo.DEADLINE_EXCEEDED,"Request time out"));break;case jo.HTTP_ERROR:var n=s.getStatus();if(Lo("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Yo).indexOf(e)>=0?e:Yo.UNKNOWN}(r.status);o(new Qo(u,r.message))}else o(new Qo(Yo.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Qo(Yo.UNAVAILABLE,"Connection failed."));break;default:qo()}}finally{Lo("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);s.send(e,"POST",u,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new To,i=Ar(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(De.l)()||Object(De.n)()||Object(De.j)()||Object(De.k)()||Object(De.o)()||Object(De.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Lo("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),a=!1,c=!1,l=new tf({du:function(t){c?Lo("Connection","Not sending because WebChannel is closed:",t):(a||(Lo("Connection","Opening WebChannel transport."),u.open(),a=!0),Lo("Connection","WebChannel sending:",t),u.send(t))},wu:function(){return u.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(u,Do.EventType.OPEN,(function(){c||Lo("Connection","WebChannel transport opened.")})),h(u,Do.EventType.CLOSE,(function(){c||(c=!0,Lo("Connection","WebChannel transport closed"),l.Pu())})),h(u,Do.EventType.ERROR,(function(t){c||(c=!0,Uo("Connection","WebChannel transport errored:",t),l.Pu(new Qo(Yo.UNAVAILABLE,"The operation could not be completed")))})),h(u,Do.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Go(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Lo("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=da[t];if(void 0!==e)return ba(e)}(i),s=r.message;void 0===o&&(o=Yo.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new Qo(o,s)),u.close()}else Lo("Connection","WebChannel received:",n),l.yu(n)}})),h(i,ko.STAT_EVENT,(function(t){10===t.stat?Lo("Connection","Detected buffering proxy"):11===t.stat&&Lo("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ru()}),0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);Lo("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return Lo("RestConnection","Received: ",t),t}),(function(e){throw Uo("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Xh[t]},t}());function nf(){return"undefined"!=typeof window?window:null}function rf(){return"undefined"!=typeof document?document:null}function of(t){return new Za(t,!0)}var sf=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&Lo("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),uf=function(){function t(t,e,n,r,i,o){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new sf(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===Yo.RESOURCE_EXHAUSTED?(Fo(e.toString()),Fo("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Yo.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then((function(e){t.ju===n&&t.rh(e)}),(function(n){e((function(){var e=new Qo(Yo.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Object(Vo.b)(t,void 0,void 0,(function(){return Object(Vo.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return Lo("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.no.ys((function(){return e.ju===t?n():(Lo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),af=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(Vo.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:qo()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(Go(void 0===e||"string"==typeof e),Zo.fromBase64String(e||"")):(Go(void 0===e||e instanceof Uint8Array),Zo.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?Yo.UNKNOWN:ba(t.code);return new Qo(e,t.message||"")}(u);n=new Ga(r,i,o,s||null)}else if("documentChange"in e){i=ic(t,(r=e.documentChange).document.name),o=tc(r.document.updateTime);var u=new Bs({mapValue:{fields:r.document.fields}}),a=(s=new $s(i,o,u,{}),r.targetIds||[]);n=new Ha(a,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=ic(t,(r=e.documentDelete).document),o=r.readTime?tc(r.readTime):ps.min(),u=new Zs(i,o),n=new Ha([],s=r.removedTargetIds||[],u.key,u);else if("documentRemove"in e)i=ic(t,(r=e.documentRemove).document),n=new Ha([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return qo();var c=e.filter;i=new ga(r=c.count||0),n=new qa(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return ps.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ps.min():e.readTime?tc(e.readTime):ps.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=uc(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=nu(r)?{documents:dc(t,r)}:{query:pc(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Qa(t,e.resumeToken):e.Mt.u(ps.min())>0&&(n.readTime=Ya(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qo()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=uc(this.Kt),e.removeTarget=t,this.eh(e)},e}(uf),cf=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(Vo.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Go(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Go(void 0!==e),t.map((function(t){return function(t,e){var n=tc(t.updateTime?t.updateTime:e);n.isEqual(ps.min())&&(n=tc(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Qu(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=tc(t.commitTime);return this.listener.wh(n,e)}return Go(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=uc(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return hc(e.Kt,t)}))};this.eh(n)},e}(uf),lf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(Vo.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Qo(Yo.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===Yo.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===Yo.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),hf=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(Fo(e),this.Ph=!1):Lo("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),ff=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return Object(Vo.b)(o,void 0,void 0,(function(){return Object(Vo.d)(this,(function(t){switch(t.label){case 0:return _f(this)?(Lo("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Vo.b)(this,void 0,void 0,(function(){var e;return Object(Vo.d)(this,(function(n){switch(n.label){case 0:return(e=zo(t)).Fh.add(4),[4,pf(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,df(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new hf(n,r)};function df(t){return Object(Vo.b)(this,void 0,void 0,(function(){var e,n;return Object(Vo.d)(this,(function(r){switch(r.label){case 0:if(!_f(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function pf(t){return Object(Vo.b)(this,void 0,void 0,(function(){var e,n;return Object(Vo.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function yf(t,e){var n=zo(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),wf(n)?bf(n):Rf(n).Ju()&&gf(n,e))}function vf(t,e){var n=zo(t),r=Rf(n);n.Nh.delete(e),r.Ju()&&mf(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():_f(n)&&n.Mh.set("Unknown"))}function gf(t,e){t.Lh.cn(e.targetId),Rf(t).hh(e)}function mf(t,e){t.Lh.cn(e),Rf(t).lh(e)}function bf(t){t.Lh=new Ba({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Rf(t).start(),t.Mh.yh()}function wf(t){return _f(t)&&!Rf(t).Hu()&&t.Nh.size>0}function _f(t){return 0===zo(t).Fh.size}function Ef(t){t.Lh=void 0}function If(t){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(e){return t.Nh.forEach((function(e,n){gf(t,e)})),[2]}))}))}function Of(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(n){return Ef(t),wf(t)?(t.Mh.ph(e),bf(t)):t.Mh.set("Unknown"),[2]}))}))}function Tf(t,e,n){return Object(Vo.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Vo.d)(this,(function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof Ga&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Vo.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Lo("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Cf(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ha?t.Lh.wn(e):e instanceof qa?t.Lh.yn(e):t.Lh.In(e),n.isEqual(ps.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,bh(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Zo.h,n.Mt)),mf(t,e);var r=new Vu(n.target,e,1,n.sequenceNumber);gf(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Lo("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Cf(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Cf(t,e,n){return Object(Vo.b)(this,void 0,void 0,(function(){var r=this;return Object(Vo.d)(this,(function(i){switch(i.label){case 0:if(!kc(e))throw e;return t.Fh.add(1),[4,pf(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return bh(t.Sh)}),t.fs.vo((function(){return Object(Vo.b)(r,void 0,void 0,(function(){return Object(Vo.d)(this,(function(e){switch(e.label){case 0:return Lo("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,df(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Af(t,e){return e().catch((function(n){return Cf(t,n,e)}))}function xf(t){return Object(Vo.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(Vo.d)(this,(function(s){switch(s.label){case 0:e=zo(t),n=Mf(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return _f(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Eh(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=Mf(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Cf(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Sf(e)&&jf(e),[2]}}))}))}function Sf(t){return _f(t)&&!Mf(t).Hu()&&t.xh.length>0}function jf(t){Mf(t).start()}function Nf(t){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(e){return Mf(t).Th(),[2]}))}))}function kf(t){return Object(Vo.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Vo.d)(this,(function(i){for(e=Mf(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]}))}))}function Df(t,e,n){return Object(Vo.b)(this,void 0,void 0,(function(){var r,i;return Object(Vo.d)(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=fl.from(r,e,n),[4,Af(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,xf(t)];case 2:return o.sent(),[2]}}))}))}function Pf(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(n){switch(n.label){case 0:return e&&Mf(t).fh?[4,function(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r;return Object(Vo.d)(this,(function(i){switch(i.label){case 0:return ma(r=e.code)&&r!==Yo.ABORTED?(n=t.xh.shift(),Mf(t).Xu(),[4,Af(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,xf(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Sf(t)&&jf(t),[2]}}))}))}function Vf(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n;return Object(Vo.d)(this,(function(r){switch(r.label){case 0:return n=zo(t),e?(n.Fh.delete(2),[4,df(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,pf(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Rf(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=zo(t);return r.mh(),new af(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:If.bind(null,t),Iu:Of.bind(null,t),uh:Tf.bind(null,t)}),t.Oh.push((function(n){return Object(Vo.b)(e,void 0,void 0,(function(){return Object(Vo.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),wf(t)?bf(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Ef(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function Mf(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=zo(t);return r.mh(),new cf(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Nf.bind(null,t),Iu:Pf.bind(null,t),Eh:kf.bind(null,t),wh:Df.bind(null,t)}),t.Oh.push((function(n){return Object(Vo.b)(e,void 0,void 0,(function(){return Object(Vo.d)(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,xf(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Lo("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var Lf=function(){this.Wh=void 0,this.listeners=[]},Ff=function(){this.queries=new Pl((function(t){return ju(t)}),Su),this.onlineState="Unknown",this.jh=new Set};function Uf(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a;return Object(Vo.d)(this,(function(c){switch(c.label){case 0:if(n=zo(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Lf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.Wh=c.sent(),[3,4];case 3:return u=c.sent(),a=Lc(u,"Initialization of query '"+Nu(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&zf(n),[2]}}))}))}function Hf(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Vo.d)(this,(function(u){return n=zo(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function qf(t,e){for(var n=zo(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].Hh(s)&&(r=!0);u.Wh=s}}r&&zf(n)}function Gf(t,e,n){var r=zo(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function zf(t){t.jh.forEach((function(t){t.next()}))}var Bf=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new La(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=La.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Kf=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Jf=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return ic(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?lc(this.Kt,t.document,!1):new Zs(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return tc(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Jf(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],l=(e.get(c)||Da()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Vo.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(Vo.d)(this,(function(o){switch(o.label){case 0:return[4,Sh(this.Sh,new Jf(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,jh(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Fc(Object.assign({},this.progress),t))]}}))}))}}();var Wf=function(t){this.key=t},$f=function(t){this.key=t},Zf=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Da(),this.Ce=Da(),this.ll=Du(t),this._l=new Ra(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Ma,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,u=!1,a=_u(this.query)&&i.size===this.query.limit?i.last():null,c=Eu(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var l=i.get(t),h=e instanceof $s?e:null;h&&(h=ku(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(a&&n.ll(h,a)>0||c&&n.ll(h,c)<0)&&(u=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),_u(this.query)||Eu(this.query))for(;s.size>this.query.limit;){var l=_u(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:u,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qo()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var s=e?this.Il():[],u=0===this.hl.size&&this.qe?1:0,a=u!==this.ul;return this.ul=u,0!==o.length||a?{snapshot:new La(this.query,t._l,i,o,t.Ce,0===u,a,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new Ma,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Da(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new $f(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new Wf(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Da();var e=this.dl(t.documents);return this.Ti(e,!0)},t.prototype.Pl=function(){return La.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),Yf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Qf=function(t){this.key=t,this.yl=!1},Xf=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new Pl((function(t){return ju(t)}),Su),this.Dl=new Map,this.Cl=[],this.xl=new wa(bs.J),this.Nl=new Map,this.Fl=new kh,this.Ol={},this.kl=new Map,this.Ml=Gl.qi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function td(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Vo.d)(this,(function(u){switch(u.label){case 0:return n=Sd(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,Ih(n.Sh,Au(e))];case 2:return o=u.sent(),s=n.pl.ka(o.targetId),[4,ed(n,e,o.targetId,"current"===s)];case 3:r=u.sent(),n.$l&&yf(n.gl,o),u.label=4;case 4:return[2,r]}}))}))}function ed(t,e,n,r){return Object(Vo.b)(this,void 0,void 0,(function(){var i,o,s,u,a,c;return Object(Vo.d)(this,(function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(Vo.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Vo.d)(this,(function(u){switch(u.label){case 0:return(i=e.view.dl(n))._c?[4,Th(t.Sh,e.query,!1).then((function(t){return e.view.dl(t.documents,i)}))]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.Oe.get(e.targetId),s=e.view.Ti(i,t.$l,o),[2,(pd(t,e.targetId,s.ml),s.snapshot)]}}))}))}(t,e,n,r)},[4,Th(t.Sh,e,!0)];case 1:return i=l.sent(),o=new Zf(e,i.Pc),s=o.dl(i.documents),u=Ua.Be(n,r&&"Offline"!==t.onlineState),a=o.Ti(s,t.$l,u),pd(t,n,a.ml),c=new Yf(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),a.snapshot)]}}))}))}function nd(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Vo.d)(this,(function(o){switch(o.label){case 0:return n=zo(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!Su(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Oh(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),vf(n.gl,r.targetId),fd(n,r.targetId)})).catch(Dl)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return fd(n,r.targetId),[4,Oh(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function rd(t,e,n){return Object(Vo.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Vo.d)(this,(function(u){switch(u.label){case 0:r=jd(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=zo(t),i=ds.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Da());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=ia(c,n.get(c.key));null!=l&&s.push(new aa(c.key,l,Js(l.proto.mapValue),Xu.exists(!0)))}return r.Ho.yi(t,i,s,e)}))})).then((function(t){var e=t.Fs(n);return{batchId:t.batchId,ci:e}}))}(r.Sh,e)];case 2:return i=u.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new wa(Jo)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,gd(r,i.ci)];case 3:return u.sent(),[4,xf(r.gl)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=Lc(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function id(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r;return Object(Vo.d)(this,(function(i){switch(i.label){case 0:n=zo(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,wh(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach((function(t,e){var r=n.Nl.get(e);r&&(Go(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?Go(r.yl):t.Ke.size>0&&(Go(r.yl),r.yl=!1))})),[4,gd(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Dl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function od(t,e,n){var r=zo(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=zo(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&zf(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function sd(t,e,n){return Object(Vo.b)(this,void 0,void 0,(function(){var r,i,o,s,u,a;return Object(Vo.d)(this,(function(c){switch(c.label){case 0:return(r=zo(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new wa(bs.J)).Ht(o,new Zs(o,ps.min())),u=Da().add(o),a=new Fa(ps.min(),new Map,new Ia(Jo),s,u),[4,id(r,a)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),vd(r),[3,4];case 2:return[4,Oh(r.Sh,e,!1).then((function(){return fd(r,e,n)})).catch(Dl)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function ud(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Vo.d)(this,(function(o){switch(o.label){case 0:n=zo(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,mh(n.Sh,e)];case 2:return i=o.sent(),hd(n,r,null),ld(n,r),n.pl.Fa(r,"acknowledged"),[4,gd(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Dl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ad(t,e,n){return Object(Vo.b)(this,void 0,void 0,(function(){var r,i;return Object(Vo.d)(this,(function(o){switch(o.label){case 0:r=zo(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=zo(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.gi(t,e).next((function(e){return Go(null!==e),r=e.keys(),n.Ho.Ni(t,e)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),hd(r,e,n),ld(r,e),r.pl.Fa(e,"rejected",n),[4,gd(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Dl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function cd(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Vo.d)(this,(function(u){switch(u.label){case 0:_f((n=zo(t)).gl)||Lo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=zo(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.bi(t)}))}(n.Sh)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=u.sent(),s=Lc(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function ld(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function hd(t,e,n){var r=zo(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function fd(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach((function(e){t.Fl.Mi(e)||dd(t,e)}))}function dd(t,e){var n=t.xl.get(e);null!==n&&(vf(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),vd(t))}function pd(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Wf?(t.Fl.ir(o.key,e),yd(t,o)):o instanceof $f?(Lo("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.cr(o.key,e),t.Fl.Mi(o.key)||dd(t,o.key)):qo()}}function yd(t,e){var n=e.key;t.xl.get(n)||(Lo("SyncEngine","New document in limbo: "+n),t.Cl.push(n),vd(t))}function vd(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Qf(e)),t.xl=t.xl.Ht(e,n),yf(t.gl,new Vu(Au(wu(e.path)),n,2,fs.U))}}function gd(t,e,n){return Object(Vo.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Vo.d)(this,(function(u){switch(u.label){case 0:return r=zo(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,u){s.push(r.Bl(u,e,n).then((function(t){if(t){r.$l&&r.pl.qa(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=dh.cc(u.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.vl.uh(i),[4,function(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a,c;return Object(Vo.d)(this,(function(l){switch(l.label){case 0:n=zo(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Ac.forEach(e,(function(e){return Ac.forEach(e.rc,(function(r){return n.persistence.mi.ir(t,e.targetId,r)})).next((function(){return Ac.forEach(e.oc,(function(r){return n.persistence.mi.cr(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!kc(r=l.sent()))throw r;return Lo("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(s=o[i]).targetId,s.fromCache||(a=n.dc.get(u),c=a.Bt(a.Mt),n.dc=n.dc.Ht(u,c));return[2]}}))}))}(r.Sh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function md(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r;return Object(Vo.d)(this,(function(i){switch(i.label){case 0:return(n=zo(t)).currentUser.isEqual(e)?[3,3]:(Lo("SyncEngine","User change. New user:",e.R()),[4,gh(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new Qo(Yo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,gd(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function bd(t,e){var n=zo(t),r=n.Nl.get(e);if(r&&r.yl)return Da().add(r.key);var i=Da(),o=n.Dl.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.Sl.get(u[s]);i=i.ye(a.view.fl)}return i}function wd(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Vo.d)(this,(function(o){switch(o.label){case 0:return[4,Th((n=zo(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&pd(n,e.targetId,i.ml),i)]}}))}))}function _d(t){return Object(Vo.b)(this,void 0,void 0,(function(){var e;return Object(Vo.d)(this,(function(n){return[2,Ah((e=zo(t)).Sh).then((function(t){return gd(e,t)}))]}))}))}function Ed(t,e,n,r){return Object(Vo.b)(this,void 0,void 0,(function(){var i,o;return Object(Vo.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=zo(t),r=zo(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Vi(t,e).next((function(e){return e?n.Ic.Zo(t,e):Ac.resolve(null)}))}))}((i=zo(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,xf(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(hd(i,e,r||null),ld(i,e),function(t,e){zo(zo(t).Ho).Fi(e)}(i.Sh,e)):qo(),s.label=4;case 4:return[4,gd(i,o)];case 5:return s.sent(),[3,7];case 6:Lo("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Id(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a;return Object(Vo.d)(this,(function(c){switch(c.label){case 0:return Sd(n=zo(t)),jd(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Od(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,Vf(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)yf(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(u=[],a=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?u.push(e):a=a.then((function(){return fd(n,e),Oh(n.Sh,e,!0)})),vf(n.gl,e)})),[4,a]);case 4:return c.sent(),[4,Od(n,u)];case 5:return c.sent(),function(t){var e=zo(t);e.Nl.forEach((function(t,n){vf(e.gl,n)})),e.Fl.Mc(),e.Nl=new Map,e.xl=new wa(bs.J)}(n),n.Ll=!1,[4,Vf(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Od(t,e,n){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a,c,l,h,f,d,p;return Object(Vo.d)(this,(function(y){switch(y.label){case 0:n=zo(t),r=[],i=[],o=0,s=e,y.label=1;case 1:return o<s.length?(a=void 0,(c=n.Dl.get(u=s[o]))&&0!==c.length?[4,Ih(n.Sh,Au(c[0]))]:[3,7]):[3,13];case 2:a=y.sent(),l=0,h=c,y.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,wd(n,f)]):[3,6];case 4:(d=y.sent()).snapshot&&i.push(d.snapshot),y.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ch(n.Sh,u)];case 8:return p=y.sent(),[4,Ih(n.Sh,p)];case 9:return a=y.sent(),[4,ed(n,Td(p),u,!1)];case 10:y.sent(),y.label=11;case 11:r.push(a),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function Td(t){return bu(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Cd(t){var e=zo(t);return zo(zo(e.Sh).persistence).Ko()}function Ad(t,e,n,r){return Object(Vo.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Vo.d)(this,(function(u){switch(u.label){case 0:return(i=zo(t)).Ll?(Lo("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ah(i.Sh)];case 3:return o=u.sent(),s=Fa.$e(e,"current"===n),[4,gd(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,Oh(i.Sh,e,!0)];case 6:return u.sent(),fd(i,e,r),[3,8];case 7:qo(),u.label=8;case 8:return[2]}}))}))}function xd(t,e,n){return Object(Vo.b)(this,void 0,void 0,(function(){var r,i,o,s,u,a,c,l,h;return Object(Vo.d)(this,(function(f){switch(f.label){case 0:if(!(r=Sd(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(Lo("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ch(r.Sh,s)]:[3,6];case 2:return u=f.sent(),[4,Ih(r.Sh,u)];case 3:return a=f.sent(),[4,ed(r,Td(u),a.targetId,!1)];case 4:f.sent(),yf(r.gl,a),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Vo.d)(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Oh(r.Sh,t,!1).then((function(){vf(r.gl,t),fd(r,t)})).catch(Dl)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Sd(t){var e=zo(t);return e.gl.Ch.Bh=id.bind(null,e),e.gl.Ch.Sn=bd.bind(null,e),e.gl.Ch.$h=sd.bind(null,e),e.vl.uh=qf.bind(null,e.Vl),e.vl.ql=Gf.bind(null,e.Vl),e}function jd(t){var e=zo(t);return e.gl.Ch.qh=ud.bind(null,e),e.gl.Ch.Uh=ad.bind(null,e),e}var Nd=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(e){switch(e.label){case 0:return this.Kt=of(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return vh(this.persistence,new ph,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Lh(Uh.ra,this.Kt)},t.prototype.jl=function(t){return new Zh},t.prototype.terminate=function(){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}}))}))},t}(),kd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Vo.c)(e,t),e.prototype.initialize=function(e){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,xh(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,jd(this.Xl.fa)];case 4:return n.sent(),[4,xf(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return vh(this.persistence,new ph,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Zl(this.persistence.mi.dr,t.fs)},e.prototype.Gl=function(t){var e=hh(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?kl.Zs(this.cacheSizeBytes):kl.ni;return new ah(this.synchronizeTabs,e,t.clientId,n,t.fs,nf(),rf(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new Zh},e}(Nd),Dd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Vo.c)(e,t),e.prototype.initialize=function(e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Vo.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof $h?(this.pl.fa={nu:Ed.bind(null,n),su:Ad.bind(null,n),iu:xd.bind(null,n),Ko:Cd.bind(null,n),eu:_d.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.yo((function(t){return Object(Vo.b)(r,void 0,void 0,(function(){return Object(Vo.d)(this,(function(e){switch(e.label){case 0:return[4,Id(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=nf();if(!$h.Wn(e))throw new Qo(Yo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=hh(t.gu.T,t.gu.persistenceKey);return new $h(e,t.fs,n,t.clientId,t.Yl)},e}(kd),Pd=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n=this;return Object(Vo.d)(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return od(n.fa,t,1)},this.gl.Ch.s_=md.bind(null,this.fa),[4,Vf(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new Ff},t.prototype.Zl=function(t){var e=of(t.gu.T),n=new ef(t.gu);return function(t,e,n){return new lf(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return od(s.fa,t,0)},o=Qh.Wn()?new Qh:new Yh,new ff(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var u=new Xf(t,e,n,r,i,o);return s&&(u.Ll=!0),u}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(Vo.b)(this,void 0,void 0,(function(){var e;return Object(Vo.d)(this,(function(n){switch(n.label){case 0:return e=zo(t),Lo("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,pf(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),Vd=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Rd=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Cc,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return Object(Vo.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(Vo.d)(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new Kf(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return Object(Vo.b)(this,void 0,void 0,(function(){var t,e;return Object(Vo.d)(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return Object(Vo.b)(this,void 0,void 0,(function(){var e;return Object(Vo.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(Vo.b)(this,void 0,void 0,(function(){var t,e;return Object(Vo.d)(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Qo(Yo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new ms(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),Md=function(t){this._methodName=t};function Ld(t,e,n){if(!n)throw new Qo(Yo.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Fd(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Qo(Yo.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ud(t,e,n,r){if(!0===e&&!0===r)throw new Qo(Yo.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Hd(t){if(!bs.Et(t))throw new Qo(Yo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function qd(t){if(bs.Et(t))throw new Qo(Yo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Gd(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":qo()}function zd(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Qo(Yo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Gd(t);throw new Qo(Yo.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Bd(t,e){if(e<=0)throw new Qo(Yo.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Kd=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Qo(Yo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Qo(Yo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Ud("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Jd=new Map,Wd=function(){function t(t,e){this.w_="(lite)",this.E_=new Kd({}),this.T_=!1,t instanceof os?(this.I_=t,this.m_=new as):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Qo(Yo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new os(t.options.projectId)}(t),this.m_=new cs(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Qo(Yo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Qo(Yo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Kd(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new as;switch(t.type){case"gapi":var e=t.client;return Go(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new hs(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Qo(Yo.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=Jd.get(this))&&(Lo("ComponentProvider","Removing Datastore"),Jd.delete(this),t.terminate()),Promise.resolve();var t},t}(),$d=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Yd(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Zd=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Yd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,wu(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Vo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new $d(this.firestore,null,new bs(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Zd);function Qd(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof ts&&(t=t._),Ld("collection","path",e),t instanceof Wd)return qd(n=vs.ct.apply(vs,Object(Vo.g)([e],r))),new Yd(t,null,n);if(!(t instanceof $d||t instanceof Yd))throw new Qo(Yo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return qd(n=vs.ct.apply(vs,Object(Vo.g)([t.path],r)).child(vs.ct(e))),new Yd(t.firestore,null,n)}function Xd(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof ts&&(t=t._),1===arguments.length&&(e=Ko.t()),Ld("doc","path",e),t instanceof Wd)return Hd(n=vs.ct.apply(vs,Object(Vo.g)([e],r))),new $d(t,null,new bs(n));if(!(t instanceof $d||t instanceof Yd))throw new Qo(Yo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Hd(n=t.D_.child(vs.ct.apply(vs,Object(Vo.g)([e],r)))),new $d(t.firestore,t instanceof Yd?t.v_:null,new bs(n))}function tp(t,e){return t instanceof ts&&(t=t._),e instanceof ts&&(e=e._),(t instanceof $d||t instanceof Yd)&&(e instanceof $d||e instanceof Yd)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function ep(t,e){return t instanceof ts&&(t=t._),e instanceof ts&&(e=e._),t instanceof Zd&&e instanceof Zd&&t.firestore===e.firestore&&Su(t.C_,e.C_)&&t.v_===e.v_}var np=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Qo(Yo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Qo(Yo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Jo(this.x_,t.x_)||Jo(this.N_,t.N_)},t}(),rp=/^__.*__$/,ip=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new aa(t,this.data,this.zt,e,this.fieldTransforms):new ua(t,this.data,e,this.fieldTransforms)},t}(),op=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new aa(t,this.data,this.zt,e,this.fieldTransforms)},t}();function sp(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qo()}}var up=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Ap(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(sp(this.k_)&&rp.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),ap=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||of(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new up({k_:t,methodName:e,j_:n,path:ms.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function cp(t){var e=t.p_(),n=of(t.I_);return new ap(t.I_,!!e.ignoreUndefinedProperties,n)}function lp(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Ip("Data must be an object, but it was:",s,r);var u,a,c=_p(r,s);if(o.merge)u=new Is(s.zt),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Op(e,f[h],n);if(!s.contains(d))throw new Qo(Yo.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");xp(l,d)||l.push(d)}u=new Is(l),a=s.fieldTransforms.filter((function(t){return u.It(t.field)}))}else u=null,a=s.fieldTransforms;return new ip(new Bs(c),u,a)}var hp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Vo.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Md);function fp(t,e,n){return new up({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var dp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Vo.c)(e,t),e.prototype.z_=function(t){return new Yu(t.path,new Gu)},e.prototype.isEqual=function(t){return t instanceof e},e}(Md),pp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Vo.c)(e,t),e.prototype.z_=function(t){var e=fp(this,t,!0),n=this.H_.map((function(t){return wp(t,e)})),r=new zu(n);return new Yu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Md),yp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Vo.c)(e,t),e.prototype.z_=function(t){var e=fp(this,t,!0),n=this.H_.map((function(t){return wp(t,e)})),r=new Ku(n);return new Yu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Md),vp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Vo.c)(e,t),e.prototype.z_=function(t){var e=new Wu(t.Kt,Lu(t.Kt,this.J_));return new Yu(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Md);function gp(t,e,n,r){var i=t.G_(1,e,n);Ip("Data must be an object, but it was:",i,r);var o=[],s=new Ks;_s(r,(function(t,r){var u=Cp(e,t,n);r instanceof ts&&(r=r._);var a=i.U_(u);if(r instanceof hp)o.push(u);else{var c=wp(r,a);null!=c&&(o.push(u),s.set(u,c))}}));var u=new Is(o);return new op(s.yt(),u,i.fieldTransforms)}function mp(t,e,n,r,i,o){var s=t.G_(1,e,n),u=[Op(e,r,n)],a=[i];if(o.length%2!=0)throw new Qo(Yo.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(Op(e,o[c])),a.push(o[c+1]);for(var l=[],h=new Ks,f=u.length-1;f>=0;--f)if(!xp(l,u[f])){var d=u[f],p=a[f];p instanceof ts&&(p=p._);var y=s.U_(d);if(p instanceof hp)l.push(d);else{var v=wp(p,y);null!=v&&(l.push(d),h.set(d,v))}}var g=new Is(l);return new op(h.yt(),g,s.fieldTransforms)}function bp(t,e,n,r){return void 0===r&&(r=!1),wp(n,t.G_(r?4:3,e))}function wp(t,e){if(t instanceof ts&&(t=t._),Ep(t))return Ip("Unsupported field value:",e,t),_p(t,e);if(t instanceof Md)return function(t,e){if(!sp(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=wp(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof ts&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Lu(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ds.fromDate(t);return{timestampValue:Ya(e.Kt,n)}}if(t instanceof ds)return n=new ds(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ya(e.Kt,n)};if(t instanceof np)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xo)return{bytesValue:Qa(e.Kt,t.l)};if(t instanceof $d){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ec(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Gd(t))}(t,e)}function _p(t,e){var n={};return Es(t)?e.path&&e.path.length>0&&e.zt.push(e.path):_s(t,(function(t,r){var i=wp(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Ep(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ds||t instanceof np||t instanceof Xo||t instanceof $d||t instanceof Md)}function Ip(t,e,n){if(!Ep(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Gd(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Op(t,e,n){if(e instanceof ts&&(e=e._),e instanceof Rd)return e.d_;if("string"==typeof e)return Cp(t,e);throw Ap("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Tp=new RegExp("[~\\*/\\[\\]]");function Cp(t,e,n){if(e.search(Tp)>=0)throw Ap("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Rd.bind.apply(Rd,Object(Vo.g)([void 0],e.split("."))))).d_}catch(r){throw Ap("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Ap(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new Qo(Yo.INVALID_ARGUMENT,(u+=". ")+t+a)}function xp(t,e){return t.some((function(t){return t.isEqual(e)}))}var Sp=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Vo.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Vo.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Qo(Yo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Object(Vo.d)(this,(function(a){switch(a.label){case 0:return n=zo(t),r=uc(n.Kt)+"/documents",i={documents:e.map((function(t){return rc(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Go(!!e.found);var n=ic(t,e.found.name),r=tc(e.found.updateTime),i=new Bs({mapValue:{fields:e.found.fields}});return new $s(n,r,i,{})}(t,e):"missing"in e?function(t,e){Go(!!e.missing),Go(!!e.readTime);var n=ic(t,e.missing),r=tc(e.readTime);return new Zs(n,r)}(t,e):qo()}(n.Kt,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Go(!!e),u.push(e)})),u)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Zs||t instanceof $s?n.sf(t):qo()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new ya(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Vo.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Vo.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=bs.ft(n);e.mutations.push(new va(r,e.Gt(r)))})),[4,function(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Vo.d)(this,(function(o){switch(o.label){case 0:return n=zo(t),r=uc(n.Kt)+"/documents",i={writes:e.map((function(t){return hc(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof $s)e=t.version;else{if(!(t instanceof Zs))throw qo();e=ps.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Qo(Yo.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Xu.updateTime(e):Xu.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(ps.min()))throw new Qo(Yo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xu.updateTime(e)}return Xu.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),jp=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new sf(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Object(Vo.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Vo.d)(this,(function(r){return t=new Sp(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!js(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ma(e)}return!1},t}(),Np=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=ss.UNAUTHENTICATED,this.clientId=Ko.t(),this._f=function(){},this.N=new Cc,this.credentials.S((function(t){Lo("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new Qo(Yo.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Cc;return this.fs.Tf((function(){return Object(Vo.b)(t,void 0,void 0,(function(){var t,n;return Object(Vo.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Lc(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function kp(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(Vo.d)(this,(function(o){switch(o.label){case 0:return t.fs.Af(),Lo("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.vo((function(){return Object(Vo.b)(i,void 0,void 0,(function(){return Object(Vo.d)(this,(function(t){switch(t.label){case 0:return[4,gh(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Vo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function Dp(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r;return Object(Vo.d)(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,Pp(t)];case 1:return n=i.sent(),Lo("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.vo((function(){return function(t,e){return Object(Vo.b)(this,void 0,void 0,(function(){var n,r;return Object(Vo.d)(this,(function(i){switch(i.label){case 0:return(n=zo(t)).fs.Af(),Lo("RemoteStore","RemoteStore received new credentials"),r=_f(n),n.Fh.add(3),[4,pf(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,df(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function Pp(t){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(Lo("FirestoreClient","Using default OfflineComponentProvider"),[4,kp(t,new Nd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function Vp(t){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(Lo("FirestoreClient","Using default OnlineComponentProvider"),[4,Dp(t,new Pd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function Rp(t){return Pp(t).then((function(t){return t.persistence}))}function Mp(t){return Pp(t).then((function(t){return t.Sh}))}function Lp(t){return Vp(t).then((function(t){return t.gl}))}function Fp(t){return Vp(t).then((function(t){return t.fa}))}function Up(t){return Object(Vo.b)(this,void 0,void 0,(function(){var e,n;return Object(Vo.d)(this,(function(r){switch(r.label){case 0:return[4,Vp(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=td.bind(null,e.fa),n.Jh=nd.bind(null,e.fa),n)]}}))}))}function Hp(t,e,n){var r=this;void 0===n&&(n={});var i=new Cc;return t.fs.ys((function(){return Object(Vo.b)(r,void 0,void 0,(function(){var r;return Object(Vo.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Vd({next:function(o){e.ys((function(){return Hf(t,s)}));var u=o.docs.has(n);!u&&o.fromCache?i.reject(new Qo(Yo.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new Qo(Yo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Bf(wu(n.path),o,{includeMetadataChanges:!0,sl:!0});return Uf(t,s)},[4,Up(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function qp(t,e,n){var r=this;void 0===n&&(n={});var i=new Cc;return t.fs.ys((function(){return Object(Vo.b)(r,void 0,void 0,(function(){var r;return Object(Vo.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Vd({next:function(n){e.ys((function(){return Hf(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Qo(Yo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Bf(n,o,{includeMetadataChanges:!0,sl:!0});return Uf(t,s)},[4,Up(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var Gp=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new sf(this,"async_queue_retry"),this.vf=function(){var e=rf();e&&Lo("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=rf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=rf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.vo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(Vo.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Vo.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!kc(t=n.sent()))throw t;return Lo("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,Fo("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.mr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Mc.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&qo()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Vo.b)(this,void 0,void 0,(function(){var t;return Object(Vo.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),zp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Gp,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Vo.c)(e,t),e.prototype.b_=function(){return this.Lf||Kp(this),this.Lf.terminate()},e}(Wd);function Bp(t){return t.Lf||Kp(t),t.Lf.df(),t.Lf}function Kp(t){var e=t.p_(),n=function(t,e,n){return new is(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Np(t.m_,t.Mf,n)}function Jp(t,e,n){var r=this,i=new Cc;return t.fs.enqueue((function(){return Object(Vo.b)(r,void 0,void 0,(function(){var r;return Object(Vo.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,kp(t,n)];case 1:return o.sent(),[4,Dp(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Yo.FAILED_PRECONDITION||t.code===Yo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Wp(t){if(t.R_||t.P_)throw new Qo(Yo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var $p=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Ds(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Cs(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(As(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw qo()}},t.prototype.jf=function(t,e){var n=this,r={};return _s(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new np(Cs(t.latitude),Cs(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return xs(n)?t(n):n}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(Ss(t));default:return null}},t.prototype.Bf=function(t){var e=Ts(t);return new ds(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=vs.ct(t);Go(Tc(n));var r=new os(n.get(1),n.get(3)),i=new bs(n.X(5));return r.isEqual(e)||Fo("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Zp=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new $d(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Yp(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Qp("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Yp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Vo.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Zp);function Qp(t,e){return"string"==typeof e?Cp(t,e):e instanceof ts?e._.d_:e.d_}function Xp(t){if(Eu(t)&&0===t.Nt.length)throw new Qo(Yo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ty=function(){};function ey(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var ny=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Vo.c)(e,t),e.prototype.Yf=function(t){var e=cp(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new Qo(Yo.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){cy(s,o);for(var a=[],c=0,l=s;c<l.length;c++)a.push(ay(r,t,l[c]));u={arrayValue:{values:a}}}else u=ay(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||cy(s,o),u=bp(n,"where",s,"in"===o||"not-in"===o);var h=ru.create(i,o,u);return function(t,e){if(e.xt()){var n=Ou(t);if(null!==n&&!n.isEqual(e.field))throw new Qo(Yo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Iu(t);null!==r&&ly(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Qo(Yo.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Zd(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new mu(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(ty),ry=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Vo.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Qo(Yo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Qo(Yo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new pu(e,n);return function(t,e){if(null===Iu(t)){var n=Ou(t);null!==n&&ly(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Zd(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new mu(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(ty),iy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Vo.c)(e,t),e.prototype.Yf=function(t){return new Zd(t.firestore,t.v_,xu(t.C_,this.nd,this.sd))},e}(ty),oy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Vo.c)(e,t),e.prototype.Yf=function(t){var e=uy(t,this.type,this.rd,this.od);return new Zd(t.firestore,t.v_,function(t,e){return new mu(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(ty),sy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Vo.c)(e,t),e.prototype.Yf=function(t){var e=uy(t,this.type,this.rd,this.od);return new Zd(t.firestore,t.v_,function(t,e){return new mu(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(ty);function uy(t,e,n,r){if(n[0]instanceof ts&&(n[0]=n[0]._),n[0]instanceof Zp)return function(t,e,n,r,i){if(!r)throw new Qo(Yo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=Cu(t);s<u.length;s++){var a=u[s];if(a.field.ht())o.push(Fs(e,r.key));else{var c=r.field(a.field);if(xs(c))throw new Qo(Yo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.ot();throw new Qo(Yo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new fu(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=cp(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new Qo(Yo.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.ht()){if("string"!=typeof c)throw new Qo(Yo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Tu(t)&&-1!==c.indexOf("/"))throw new Qo(Yo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(vs.ct(c));if(!bs.Et(l))throw new Qo(Yo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new bs(l);u.push(Fs(e,h))}else{var f=bp(n,r,c);u.push(f)}}return new fu(u,o)}(t.C_,t.firestore.I_,i,e,n,r)}function ay(t,e,n){if(n instanceof ts&&(n=n._),"string"==typeof n){if(""===n)throw new Qo(Yo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tu(e)&&-1!==n.indexOf("/"))throw new Qo(Yo.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(vs.ct(n));if(!bs.Et(r))throw new Qo(Yo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Fs(t,new bs(r))}if(n instanceof $d)return Fs(t,n.S_);throw new Qo(Yo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Gd(n)+".")}function cy(t,e){if(!Array.isArray(t)||0===t.length)throw new Qo(Yo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Qo(Yo.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function ly(t,e,n){if(!n.isEqual(e))throw new Qo(Yo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function hy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function fy(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var dy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Vo.c)(e,t),e.prototype.Uf=function(t){return new Xo(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new $d(this.firestore,null,e)},e}($p),py=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),yy=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).zf=e,u.ad=e,u.metadata=o,u}return Object(Vo.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new vy(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Qp("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Zp),vy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Vo.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(yy),gy=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new py(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new vy(n.zf,n.Hf,r.key,r,new py(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Qo(Yo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){return{type:"added",doc:new vy(t.zf,t.Hf,e.doc.key,e.doc,new py(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new vy(t.zf,t.Hf,e.doc.key,e.doc,new py(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:my(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function my(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qo()}}function by(t,e){return t instanceof yy&&e instanceof yy?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof gy&&e instanceof gy&&t.zf===e.zf&&ep(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var wy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Vo.c)(e,t),e.prototype.Uf=function(t){return new Xo(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new $d(this.firestore,null,e)},e}($p);function _y(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=zd(t,$d);var o=zd(t.firestore,zp),s=cp(o);return e instanceof ts&&(e=e._),Iy(o,[("string"==typeof e||e instanceof Rd?mp(s,"updateDoc",t.S_,e,n,r):gp(s,"updateDoc",t.S_,e)).F_(t.S_,Xu.exists(!0))])}function Ey(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof ts&&(t=t._);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||hy(i[u])||(s=i[u],u++);var a,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(hy(i[u])){var f=i[u];i[u]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[u+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[u+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof $d)c=zd(t.firestore,zp),l=wu(t.S_.path),a={next:function(e){i[u]&&i[u](Oy(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=zd(t,Zd);c=zd(d.firestore,zp),l=d.C_;var p=new wy(c);a={next:function(t){i[u]&&i[u](new gy(c,p,d,t))},error:i[u+1],complete:i[u+2]},Xp(t.C_)}return function(t,e,n,r){var i=this,o=new Vd(r),s=new Bf(e,o,n);return t.fs.ys((function(){return Object(Vo.b)(i,void 0,void 0,(function(){var e;return Object(Vo.d)(this,(function(n){switch(n.label){case 0:return e=Uf,[4,Up(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return Object(Vo.b)(i,void 0,void 0,(function(){var e;return Object(Vo.d)(this,(function(n){switch(n.label){case 0:return e=Hf,[4,Up(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Bp(c),l,h,a)}function Iy(t,e){return function(t,e){var n=this,r=new Cc;return t.fs.ys((function(){return Object(Vo.b)(n,void 0,void 0,(function(){var n;return Object(Vo.d)(this,(function(i){switch(i.label){case 0:return n=rd,[4,Fp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Bp(t),e)}function Oy(t,e,n){var r=n.docs.get(e.S_),i=new wy(t);return new yy(t,i,e.S_,r,new py(n.hasPendingWrites,n.fromCache),e.v_)}var Ty=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=cp(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=Cy(t,this.zf),i=fy(r.v_,e,n),o=lp(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,Xu.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=Cy(t,this.zf);return e instanceof ts&&(e=e._),o="string"==typeof e||e instanceof Rd?mp(this.wd,"WriteBatch.update",s.S_,e,n,r):gp(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.F_(s.S_,Xu.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=Cy(t,this.zf);return this.fd=this.fd.concat(new ya(e.S_,Xu.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Qo(Yo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Cy(t,e){if(t instanceof ts&&(t=t._),t.firestore!==e)throw new Qo(Yo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Ay=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Vo.c)(e,t),e.prototype.get=function(e){var n=this,r=Cy(e,this.zf),i=new wy(this.zf);return t.prototype.get.call(this,e).then((function(t){return new yy(n.zf,i,r.S_,t.Jf,new py(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=cp(t)}return t.prototype.get=function(t){var e=this,n=Cy(t,this.zf),r=new dy(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return qo();var i=t[0];if(i instanceof Zs)return new Zp(e.zf,r,n.S_,null,n.v_);if(i instanceof $s)return new Zp(e.zf,r,i.key,i,n.v_);throw qo()}))},t.prototype.set=function(t,e,n){var r=Cy(t,this.zf),i=fy(r.v_,e,n),o=lp(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Cy(t,this.zf);return e instanceof ts&&(e=e._),o="string"==typeof e||e instanceof Rd?mp(this.wd,"Transaction.update",s.S_,e,n,r):gp(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=Cy(t,this.zf);return this.Td.delete(e.S_),this},t}()),xy=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Wp(t=zd(t,zp));var n=Bp(t),r=t.p_(),i=new Pd;return Jp(n,i,new kd(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Wp(t=zd(t,zp));var e=Bp(t),n=t.p_(),r=new Pd;return Jp(e,r,new Dd(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Qo(Yo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Cc;return t.Mf.Tf((function(){return Object(Vo.b)(e,void 0,void 0,(function(){var e;return Object(Vo.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Vo.b)(this,void 0,void 0,(function(){return Object(Vo.d)(this,(function(e){switch(e.label){case 0:return Sc.Wn()?[4,Sc.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(hh(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),Sy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof os||(i.md=e),i}return Object(Vo.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&Uo("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Vo.b)(e,void 0,void 0,(function(){var e,n;return Object(Vo.d)(this,(function(r){switch(r.label){case 0:return[4,Rp(t)];case 1:return e=r.sent(),[4,Lp(t)];case 2:return n=r.sent(),[2,(e.po(!0),function(t){var e=zo(t);return e.Fh.delete(0),df(e)}(n))]}}))}))}))}(Bp(zd(this._,zp)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Vo.b)(e,void 0,void 0,(function(){var e,n;return Object(Vo.d)(this,(function(r){switch(r.label){case 0:return[4,Rp(t)];case 1:return e=r.sent(),[4,Lp(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return Object(Vo.b)(this,void 0,void 0,(function(){var e;return Object(Vo.d)(this,(function(n){switch(n.label){case 0:return(e=zo(t)).Fh.add(0),[4,pf(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Bp(zd(this._,zp)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ud("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Cc;return t.fs.ys((function(){return Object(Vo.b)(e,void 0,void 0,(function(){var e;return Object(Vo.d)(this,(function(r){switch(r.label){case 0:return e=cd,[4,Fp(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Bp(zd(this._,zp)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Vd(e);return t.fs.ys((function(){return Object(Vo.b)(n,void 0,void 0,(function(){var e;return Object(Vo.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){zo(t).jh.add(e),e.next()},[4,Up(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return Object(Vo.b)(n,void 0,void 0,(function(){var e;return Object(Vo.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){zo(t).jh.delete(e)},[4,Up(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Bp(t=zd(t,zp)),hy(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Qo(Yo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new qy(this,Qd(this._,t))}catch(t){throw Py(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Dy(this,Xd(this._,t))}catch(t){throw Py(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Fy(this,function(t,e){if(t=zd(t,Wd),Ld("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Qo(Yo.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Zd(t,null,function(t){return new mu(vs.at(),t)}(e))}(this._,t))}catch(t){throw Py(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Cc;return t.fs.ys((function(){return Object(Vo.b)(n,void 0,void 0,(function(){var n;return Object(Vo.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Vp(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new jp(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(Bp(t),(function(n){return e(new Ay(t,n))}))}(this._,(function(n){return t(new Ny(e,n))}))},e.prototype.batch=function(){var t=this;return Bp(this._),new ky(new Ty(this._,(function(e){return Iy(t._,e)})))},e.prototype.loadBundle=function(t){throw new Qo(Yo.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Qo(Yo.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(ts),jy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Vo.c)(e,t),e.prototype.Uf=function(t){return new rs(new Xo(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Dy.Ad(e,this.firestore,null)},e}($p),Ny=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Vo.c)(e,t),e.prototype.get=function(t){var e=this,n=Gy(t);return this._.get(n).then((function(t){return new My(e.zf,t)}))},e.prototype.set=function(t,e,n){var r=Gy(t);return n?(Fd("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Gy(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Vo.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Gy(t);return this._.delete(e),this},e}(ts),ky=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Vo.c)(e,t),e.prototype.set=function(t,e,n){var r=Gy(t);return n?(Fd("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Gy(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Vo.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Gy(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(ts),Dy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new jy(e),r}return Object(Vo.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new Qo(Yo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new $d(n._,r,new bs(t)))},e.Ad=function(t,n,r){return new e(n,new $d(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new qy(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new qy(this.firestore,Qd(this._,t))}catch(t){throw Py(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof ts&&(t=t._),t instanceof $d&&tp(this._,t)},e.prototype.set=function(t,e){e=Fd("DocumentReference.set",e);try{return function(t,e,n){t=zd(t,$d);var r=zd(t.firestore,zp),i=fy(t.v_,e,n);return Iy(r,[lp(cp(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Xu.Wt())])}(this._,t,e)}catch(t){throw Py(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?_y(this._,t):_y.apply(void 0,Object(Vo.g)([this._,t,e],n))}catch(t){throw Py(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Iy(zd((t=this._).firestore,zp),[new ya(t.S_,Xu.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Vy(e),i=Ry(e,(function(e){return new My(t.firestore,new yy(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return Ey(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=zd(t,$d);var e=zd(t.firestore,zp),n=Bp(e),r=new wy(e);return function(t,e){var n=this,r=new Cc;return t.fs.ys((function(){return Object(Vo.b)(n,void 0,void 0,(function(){var n;return Object(Vo.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Vo.b)(this,void 0,void 0,(function(){var r,i;return Object(Vo.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=zo(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof $s?n.resolve(i):i instanceof Zs?n.resolve(null):n.reject(new Qo(Yo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Lc(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Mp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new yy(e,r,t.S_,n,new py(n instanceof $s&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=zd(t,$d);var e=zd(t.firestore,zp);return Hp(Bp(e),t.S_,{source:"server"}).then((function(n){return Oy(e,t,n)}))}(this._):function(t){t=zd(t,$d);var e=zd(t.firestore,zp);return Hp(Bp(e),t.S_).then((function(n){return Oy(e,t,n)}))}(this._)).then((function(t){return new My(e.firestore,new yy(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(ts);function Py(t,e,n){return t.message=t.message.replace(e,n),t}function Vy(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!hy(r))return r}return{}}function Ry(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=hy(t[0])?t[0]:hy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var My=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Vo.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Dy(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return by(this._,t._)},e}(ts),Ly=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Vo.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(My),Fy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new jy(e),r}return Object(Vo.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,ey(this._,function(t,e,n){var r=e,i=Qp("where",t);return new ny(i,r,n)}(t,n,r)))}catch(t){throw Py(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ey(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Qp("orderBy",t);return new ry(r,n)}(t,n)))}catch(t){throw Py(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ey(this._,function(t){return Bd("limit",t),new iy("limit",t,"F")}(t)))}catch(t){throw Py(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ey(this._,function(t){return Bd("limitToLast",t),new iy("limitToLast",t,"L")}(t)))}catch(t){throw Py(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ey(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new oy("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Py(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ey(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new oy("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Py(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ey(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sy("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Py(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ey(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sy("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Py(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return ep(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=zd(t,Zd);var e=zd(t.firestore,zp),n=Bp(e),r=new wy(e);return function(t,e){var n=this,r=new Cc;return t.fs.ys((function(){return Object(Vo.b)(n,void 0,void 0,(function(){var n;return Object(Vo.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Vo.b)(this,void 0,void 0,(function(){var r,i,o,s,u;return Object(Vo.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Th(t,e,!0)];case 1:return u=a.sent(),r=new Zf(e,u.Pc),i=r.dl(u.documents),o=r.Ti(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=Lc(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,Mp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new gy(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=zd(t,Zd);var e=zd(t.firestore,zp),n=Bp(e),r=new wy(e);return qp(n,t.C_,{source:"server"}).then((function(n){return new gy(e,r,t,n)}))}(this._):function(t){t=zd(t,Zd);var e=zd(t.firestore,zp),n=Bp(e),r=new wy(e);return Xp(t.C_),qp(n,t.C_).then((function(n){return new gy(e,r,t,n)}))}(this._)).then((function(t){return new Hy(e.firestore,new gy(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Vy(e),i=Ry(e,(function(e){return new Hy(t.firestore,new gy(t.firestore._,t.Hf,t._,e.ud))}));return Ey(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(ts),Uy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Vo.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ly(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(ts),Hy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Vo.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Fy(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new Ly(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new Uy(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new Ly(n.zf,r))}))},e.prototype.isEqual=function(t){return by(this._,t._)},e}(ts),qy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Vo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Dy(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Dy(this.firestore,void 0===t?Xd(this._):Xd(this._,t))}catch(t){throw Py(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=zd(t.firestore,zp),r=Xd(t),i=fy(t.v_,e);return Iy(n,[lp(cp(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Xu.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new Dy(e.firestore,t)}))},e.prototype.isEqual=function(t){return tp(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Fy);function Gy(t){return t instanceof ts&&(t=t._),zd(t,$d)}var zy=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Rd.bind.apply(Rd,Object(Vo.g)([void 0],e))))||this}return Object(Vo.c)(e,t),e.documentId=function(){return new e(ms.lt().ot())},e.prototype.isEqual=function(t){return t instanceof ts&&(t=t._),t instanceof Rd&&this._.d_.isEqual(t.d_)},e}(ts),By=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Vo.c)(e,t),e.serverTimestamp=function(){var t=new dp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new hp("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pp("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yp("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new vp("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(ts);!function(){function t(){this.Pd={},this.yd=new Cc,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.Wl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var Ky,Jy=n("/6Yf"),Wy={Firestore:Sy,GeoPoint:np,Timestamp:ds,Blob:rs,Transaction:Ny,WriteBatch:ky,DocumentReference:Dy,DocumentSnapshot:My,Query:Fy,QueryDocumentSnapshot:Ly,QuerySnapshot:Hy,CollectionReference:qy,FieldPath:zy,FieldValue:By,setLogLevel:function(t){Ro.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Jy.a("firestore",(function(t){return function(t,e){return new Sy(t,new zp(t,e),new xy)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Wy)))})(Ky=Ne.a),Ky.registerVersion("@firebase/firestore","2.1.1");var $y=n("XNiG"),Zy=n("VRyK"),Yy=n("l7GE"),Qy=n("51Dv"),Xy=n("ZUHj");function tv(t,e){return"function"==typeof e?n=>n.pipe(tv((n,r)=>Object(tt.a)(t(n,r)).pipe(Object(Q.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new ev(t))}class ev{constructor(t){this.project=t}call(t,e){return e.subscribe(new nv(t,this.project))}}class nv extends Yy.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new Qy.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(Xy.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}var rv=n("qgXg"),iv=n("quSY"),ov=n("9ppp"),sv=n("Ylt2");class uv extends $y.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new av(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new ov.a;if(this.isStopped||this.hasError?o=iv.a.EMPTY:(this.observers.push(t),o=new sv.a(this,t)),r&&t.add(t=new Se.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||rv.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class av{constructor(t,e){this.time=t,this.value=e}}function cv(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,u=!1,a=!1;return function(c){s++,i&&!u||(u=!1,i=new uv(t,e,r),o=c.subscribe({next(t){i.next(t)},error(t){u=!0,i.error(t)},complete(){a=!0,o=void 0,i.complete()}}));const l=i.subscribe(this);this.add(()=>{s--,l.unsubscribe(),o&&!a&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const lv=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),hv=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var fv=n("EY2u");function dv(t){return e=>0===t?Object(fv.a)():e.lift(new pv(t))}class pv{constructor(t){if(this.total=t,this.total<0)throw new hv}call(t,e){return e.subscribe(new yv(t,this.total))}}class yv extends ge.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function vv(t=null){return e=>e.lift(new gv(t))}class gv{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new mv(t,this.defaultValue))}}class mv extends ge.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function bv(t=Ev){return e=>e.lift(new wv(t))}class wv{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new _v(t,this.errorFactory))}}class _v extends ge.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Ky){t=Ky}this.destination.error(t)}}}function Ev(){return new lv}var Iv=n("SpAZ");function Ov(t,e){return e?tv(()=>t,e):tv(()=>t)}var Tv=n("tf+s");const Cv=new r.l("angularfire2.auth.use-emulator"),Av=new r.l("angularfire2.auth.settings"),xv=new r.l("angularfire2.auth.tenant-id"),Sv=new r.l("angularfire2.auth.langugage-code"),jv=new r.l("angularfire2.auth.use-device-language"),Nv=new r.l("angularfire.auth.persistence");let kv=(()=>{class t{constructor(t,e,r,i,o,s,u,a,c,l){const h=new le.d(i),f=Object(le.h)(h),d=new $y.a,p=Object(fe.a)(void 0).pipe(Object(Se.b)(h.outsideAngular),tv(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(Q.a)(()=>Object(le.g)(t,i,e)),Object(Q.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(le.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),u&&(r.tenantId=u),r.languageCode=a,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,u,a,c,n,l])})),cv({bufferSize:1,refCount:!1}));if(w(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(fe.a)(null);else{p.pipe(function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ce((e,n)=>t(e,n,r)):Iv.a,dv(1),n?vv(e):bv(()=>new lv))}()).subscribe();const t=p.pipe(tv(t=>t.getRedirectResult().then(t=>t,()=>null)),f,cv({bufferSize:1,refCount:!1})),e=t=>new Z.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(tv(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(tv(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Ov(n),Object(Tv.a)(h.outsideAngular),Object(Se.b)(h.insideAngular)),this.user=t.pipe(Ov(r),Object(Tv.a)(h.outsideAngular),Object(Se.b)(h.insideAngular)),this.idToken=this.user.pipe(tv(t=>t?Object(tt.a)(t.getIdToken()):Object(fe.a)(null))),this.idTokenResult=this.user.pipe(tv(t=>t?Object(tt.a)(t.getIdTokenResult()):Object(fe.a)(null))),this.credential=Object(Zy.a)(t,d,this.authState.pipe(Ce(t=>!t))).pipe(Object(Q.a)(t=>(null==t?void 0:t.user)?t:null),Object(Tv.a)(h.outsideAngular),Object(Se.b)(h.insideAngular))}return Object(le.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(le.c),r.Gb(le.b,8),r.Gb(r.u),r.Gb(r.s),r.Gb(Cv,8),r.Gb(Av,8),r.Gb(xv,8),r.Gb(Sv,8),r.Gb(jv,8),r.Gb(Nv,8))},t.\u0275prov=Object(r.wb)({factory:function(){return new t(Object(r.Gb)(le.c),Object(r.Gb)(le.b,8),Object(r.Gb)(r.u),Object(r.Gb)(r.s),Object(r.Gb)(Cv,8),Object(r.Gb)(Av,8),Object(r.Gb)(xv,8),Object(r.Gb)(Sv,8),Object(r.Gb)(jv,8),Object(r.Gb)(Nv,8))},token:t,providedIn:"any"}),t})(),Dv=(()=>{class t{}return t.\u0275mod=r.yb({type:t}),t.\u0275inj=r.xb({factory:function(e){return new(e||t)},providers:[kv]}),t})();function Pv(t,e){return function(t,e=he.a){return new Z.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Vv(t,e){return Pv(t,e).pipe(Object(Q.a)(t=>({payload:t,type:"query"})))}function Rv(t,e){return Vv(t,e).pipe(ve(void 0),me(),Object(Q.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Mv(t,e,n){return Rv(t,n).pipe(_e((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Lv(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Lv(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Lv(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Oe(void 0,void 0)),Object(Q.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Lv(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Fv(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Uv{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Rv(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Q.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(ve(void 0),me(),Ce(([t,e])=>e.length>0||!t),Object(Q.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(_e((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Fv(t);return Mv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Vv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Q.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(tt.a)(this.query.get(t)).pipe(Object(Se.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Hv(this.ref.doc(t),this.afs)}}class Hv{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Jv(n,e);return new Uv(r,i,this.afs)}snapshotChanges(){return Pv(this.ref,this.afs.schedulers.outsideAngular).pipe(ve(void 0),me(),Object(Q.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Q.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(tt.a)(this.ref.get(t)).pipe(Object(Se.b)(this.afs.schedulers.insideAngular))}}class qv{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Rv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Q.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ce(t=>t.length>0),this.afs.keepUnstableUntilFirst):Rv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(_e((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Fv(t);return Mv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Vv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Q.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(tt.a)(this.query.get(t)).pipe(Object(Se.b)(this.afs.schedulers.insideAngular))}}const Gv=new r.l("angularfire2.enableFirestorePersistence"),zv=new r.l("angularfire2.firestore.persistenceSettings"),Bv=new r.l("angularfire2.firestore.settings"),Kv=new r.l("angularfire2.firestore.use-emulator");function Jv(t,e=(t=>t)){return{query:e(t),ref:t}}let Wv=(()=>{class t{constructor(t,e,n,r,i,o,s,u,a){this.schedulers=new le.d(o),this.keepUnstableUntilFirst=Object(le.h)(this.schedulers);const c=Object(le.g)(t,o,e);!je.a.auth&&a&&Object(le.j)();const l=u;[this.firestore,this.persistenceEnabled$]=Object(le.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!w(i)){const e=()=>{try{return Object(tt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Ky){return"undefined"!=typeof console&&console.warn(Ky),Object(fe.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(fe.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Jv(n,e),o=this.schedulers.ngZone.run(()=>r);return new Uv(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new qv(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Hv(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(le.c),r.Gb(le.b,8),r.Gb(Gv,8),r.Gb(Bv,8),r.Gb(r.u),r.Gb(r.s),r.Gb(zv,8),r.Gb(Kv,8),r.Gb(Cv,8))},t.\u0275prov=Object(r.wb)({factory:function(){return new t(Object(r.Gb)(le.c),Object(r.Gb)(le.b,8),Object(r.Gb)(Gv,8),Object(r.Gb)(Bv,8),Object(r.Gb)(r.u),Object(r.Gb)(r.s),Object(r.Gb)(zv,8),Object(r.Gb)(Kv,8),Object(r.Gb)(Cv,8))},token:t,providedIn:"any"}),t})(),$v=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Gv,useValue:!0},{provide:zv,useValue:e}]}}}return t.\u0275mod=r.yb({type:t}),t.\u0275inj=r.xb({factory:function(e){return new(e||t)},providers:[Wv]}),t})(),Zv=(()=>{class t{constructor(t,e){this.afs=t,this.auth=e,this.chats=[],this.usuario={},this.auth.authState.subscribe(t=>{t&&(this.usuario.nombre=t.displayName,this.usuario.uid=t.uid)})}cargarMensajes(){return this.chatCollection=this.afs.collection("chats",t=>t.orderBy("fecha","desc").limit(5)),this.chatCollection.valueChanges().pipe(Object(Q.a)(t=>{this.chats=[];for(let e of t)this.chats.unshift(e);return this.chats}))}agregarMensaje(t){let e={nombre:this.usuario.nombre,mensaje:t,fecha:(new Date).getTime(),uid:this.usuario.uid};return this.chatCollection.add(e)}login(t){"github"===t&&this.auth.signInWithPopup(new je.a.auth.GithubAuthProvider),"google"===t&&this.auth.signInWithPopup(new je.a.auth.GoogleAuthProvider)}logout(){this.usuario={},this.auth.signOut()}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(Wv),r.Gb(kv))},t.\u0275prov=r.wb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Yv=(()=>{class t{constructor(t){this._cs=t}ngOnInit(){}ingresar(t){this._cs.login(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ab(Zv))},t.\u0275cmp=r.ub({type:t,selectors:[["app-login"]],decls:9,vars:0,consts:[[1,"row"],[1,"d-grid","gap-2","col-6","mx-auto"],[1,"text-center"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(t,e){1&t&&(r.Db(0,"div",0),r.Db(1,"div",1),r.Db(2,"p",2),r.Rb(3,"Ingrese al chat con su cuenta favorita"),r.Cb(),r.Db(4,"button",3),r.Jb("click",(function(){return e.ingresar("google")})),r.Rb(5," Google "),r.Cb(),r.Bb(6,"br"),r.Db(7,"button",4),r.Jb("click",(function(){return e.ingresar("github")})),r.Rb(8," Github "),r.Cb(),r.Cb(),r.Cb())},encapsulation:2}),t})();const Qv=function(t){return{"text-end":t}},Xv=function(t,e){return{"bg-primary":t,"bg-danger":e}};function tg(t,e){if(1&t&&(r.Db(0,"div",3),r.Db(1,"span",4),r.Rb(2),r.Cb(),r.Db(3,"p"),r.Rb(4),r.Cb(),r.Cb()),2&t){const t=e.$implicit,n=r.Kb();r.Lb("ngClass",r.Mb(4,Qv,n._cs.usuario.uid==t.uid)),r.rb(1),r.Lb("ngClass",r.Nb(6,Xv,n._cs.usuario.uid==t.uid,n._cs.usuario.uid!=t.uid)),r.rb(1),r.Tb(" ",t.nombre," "),r.rb(2),r.Sb(t.mensaje)}}let eg=(()=>{class t{constructor(t){this._cs=t,this.mensaje="",this._cs.cargarMensajes().subscribe(()=>{setTimeout(()=>{this.elemento.scrollTop=this.elemento.scrollHeight},20)})}ngOnInit(){this.elemento=document.getElementById("app-mensajes")}enviar_mensaje(){0!==this.mensaje.length&&this._cs.agregarMensaje(this.mensaje).then(()=>{this.mensaje=""}).catch(t=>{console.log("Error al enviar ",t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ab(Zv))},t.\u0275cmp=r.ub({type:t,selectors:[["app-chat"]],decls:6,vars:2,consts:[["id","app-mensajes",1,"app-mensajes"],[3,"ngClass",4,"ngFor","ngForOf"],["type","text","name","mensaje","placeholder","Enviar mensaje",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[3,"ngClass"],[1,"badge",3,"ngClass"]],template:function(t,e){1&t&&(r.Db(0,"h1"),r.Rb(1,"Chat"),r.Cb(),r.Bb(2,"hr"),r.Db(3,"div",0),r.Qb(4,tg,5,9,"div",1),r.Cb(),r.Db(5,"input",2),r.Jb("ngModelChange",(function(t){return e.mensaje=t}))("keyup.enter",(function(){return e.enviar_mensaje()})),r.Cb()),2&t&&(r.rb(4),r.Lb("ngForOf",e._cs.chats),r.rb(1),r.Lb("ngModel",e.mensaje))},directives:[p,ut,dt,ue,f],encapsulation:2}),t})();function ng(t,e){if(1&t){const t=r.Eb();r.Db(0,"div",4),r.Db(1,"button",5),r.Jb("click",(function(){return r.Ob(t),r.Kb()._cs.logout()})),r.Rb(2,"Salir"),r.Cb(),r.Cb()}}function rg(t,e){1&t&&r.Bb(0,"app-login")}function ig(t,e){1&t&&(r.Db(0,"div",6),r.Bb(1,"app-chat"),r.Cb())}let og=(()=>{class t{constructor(t){this._cs=t,this.title="chatfire"}}return t.\u0275fac=function(e){return new(e||t)(r.Ab(Zv))},t.\u0275cmp=r.ub({type:t,selectors:[["app-root"]],decls:6,vars:3,consts:[[1,"container","main-container"],["class","col-md-12 text-center",4,"ngIf"],[4,"ngIf"],["class","chat-window",4,"ngIf"],[1,"col-md-12","text-center"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"chat-window"]],template:function(t,e){1&t&&(r.Db(0,"div",0),r.Db(1,"h1"),r.Rb(2," Firechat"),r.Cb(),r.Qb(3,ng,3,0,"div",1),r.Qb(4,rg,1,0,"app-login",2),r.Qb(5,ig,2,0,"div",3),r.Cb()),2&t&&(r.rb(3),r.Lb("ngIf",e._cs.usuario.uid),r.rb(1),r.Lb("ngIf",!e._cs.usuario.uid),r.rb(1),r.Lb("ngIf",e._cs.usuario.uid))},directives:[v,Yv,eg],styles:[""]}),t})(),sg=(()=>{class t{}return t.\u0275mod=r.yb({type:t,bootstrap:[og]}),t.\u0275inj=r.xb({factory:function(e){return new(e||t)},providers:[],imports:[[$,ce,le.a.initializeApp(i),$v,Dv]]}),t})();Object(r.J)(),J().bootstrapModule(sg).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);