function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(a){i=!0,o=a}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}}function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u}));var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),u=s[1],a=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(a);u.resolve(c)}catch(l){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),u=n("2fFW"),a=n("NJ4a"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,o){var s;switch(_classCallCheck(this,n),(s=e.call(this)).syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=i.a;break;case 1:if(!t){s.destination=i.a;break}if("object"==typeof t){t instanceof n?(s.syncErrorThrowable=t.syncErrorThrowable,s.destination=t,t.add(_assertThisInitialized(s))):(s.syncErrorThrowable=!0,s.destination=new l(_assertThisInitialized(s),t));break}default:s.syncErrorThrowable=!0,s.destination=new l(_assertThisInitialized(s),t,r,o)}return s}return _createClass(n,[{key:s.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,s,u){var a,c;_classCallCheck(this,n),(a=e.call(this))._parentSubscriber=t;var l=_assertThisInitialized(a);return Object(r.a)(o)?c=o:o&&(c=o.next,s=o.error,u=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&a.add(l.unsubscribe.bind(l)),l.unsubscribe=a.unsubscribe.bind(_assertThisInitialized(a)))),a._context=l,a._next=c,a._error=s,a._complete=u,a}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),u=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function f(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){var i=t[s.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Object(l.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[a.a](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=new r.a((function(t){return t.complete()}));function o(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r,i=n("7o/Q"),o=n("2QA8"),s=n("gRHU"),u=n("kJWO"),a=n("SpAZ"),c=n("2fFW"),l=((r=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,u=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(s.a)}(t,e,n);if(u.add(r?r.call(u,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),c.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=f(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:u.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?a.a:1===r.length?r[0]:function(t){return r.reduce((function(t,e){return e(t)}),t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=f(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new r(t)},r);function f(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=e[e.length-1];return Object(r.a)(s)?(e.pop(),Object(o.a)(e,s)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),u=n("I55L"),a=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[s.a])return l=t,function(t){var e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,l,f=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(f," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var u=Number.POSITIVE_INFINITY,a=null,c=e[e.length-1];return Object(i.a)(c)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(u=e.pop())):"number"==typeof c&&(u=e.pop()),null===a&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(u)(Object(s.a)(e,a))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),u=n("Ylt2"),a=n("2QA8"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:a.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new f(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new s.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new f(t,e)},t}(),f=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).destination=t,i.source=r,i}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(t,e,n,s){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(t,n,s);if(!u.closed)return e instanceof o.a?e.subscribe(u):Object(i.a)(e)(u)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),u=n("Cfvw"),a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}]),t}(),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=new o.a(this,e,n),s=this.destination;s.add(i);var u=Object(r.a)(this,t,void 0,void 0,i);u!==i&&s.add(u)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a),l=n("SpAZ");function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof n?function(i){return i.pipe(t((function(t,r){return Object(u.a)(e(t,r)).pipe(Object(s.a)((function(e,i){return n(t,e,r,i)})))}),r))}:("number"==typeof n&&(r=n),function(t){return t.lift(new a(e,r))})}(l.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return lu})),n.d(e,"b",(function(){return au})),n.d(e,"c",(function(){return cu})),n.d(e,"d",(function(){return na})),n.d(e,"e",(function(){return Qu})),n.d(e,"f",(function(){return cs})),n.d(e,"g",(function(){return mu})),n.d(e,"h",(function(){return ls})),n.d(e,"i",(function(){return vn})),n.d(e,"j",(function(){return su})),n.d(e,"k",(function(){return et})),n.d(e,"l",(function(){return tt})),n.d(e,"m",(function(){return no})),n.d(e,"n",(function(){return Ss})),n.d(e,"o",(function(){return xs})),n.d(e,"p",(function(){return gu})),n.d(e,"q",(function(){return dt})),n.d(e,"r",(function(){return Bu})),n.d(e,"s",(function(){return xu})),n.d(e,"t",(function(){return b})),n.d(e,"u",(function(){return pu})),n.d(e,"v",(function(){return du})),n.d(e,"w",(function(){return ps})),n.d(e,"x",(function(){return hs})),n.d(e,"y",(function(){return ds})),n.d(e,"z",(function(){return ys})),n.d(e,"A",(function(){return nr})),n.d(e,"B",(function(){return Ps})),n.d(e,"C",(function(){return Lu})),n.d(e,"D",(function(){return ms})),n.d(e,"E",(function(){return gs})),n.d(e,"F",(function(){return Rs})),n.d(e,"G",(function(){return _t})),n.d(e,"H",(function(){return lo})),n.d(e,"I",(function(){return Ku})),n.d(e,"J",(function(){return Dn})),n.d(e,"K",(function(){return L})),n.d(e,"L",(function(){return Nn})),n.d(e,"M",(function(){return ta})),n.d(e,"N",(function(){return Uu})),n.d(e,"O",(function(){return yu})),n.d(e,"P",(function(){return qi})),n.d(e,"Q",(function(){return Xs})),n.d(e,"R",(function(){return tr})),n.d(e,"S",(function(){return or})),n.d(e,"T",(function(){return Mn})),n.d(e,"U",(function(){return Cn})),n.d(e,"V",(function(){return In})),n.d(e,"W",(function(){return Sn})),n.d(e,"X",(function(){return Tn})),n.d(e,"Y",(function(){return On})),n.d(e,"Z",(function(){return An})),n.d(e,"ab",(function(){return Ws})),n.d(e,"bb",(function(){return $u})),n.d(e,"cb",(function(){return Zs})),n.d(e,"db",(function(){return Ys})),n.d(e,"eb",(function(){return En})),n.d(e,"fb",(function(){return K})),n.d(e,"gb",(function(){return fo})),n.d(e,"hb",(function(){return To})),n.d(e,"ib",(function(){return Oo})),n.d(e,"jb",(function(){return co})),n.d(e,"kb",(function(){return Js})),n.d(e,"lb",(function(){return zt})),n.d(e,"mb",(function(){return V})),n.d(e,"nb",(function(){return kn})),n.d(e,"ob",(function(){return zo})),n.d(e,"pb",(function(){return Yo})),n.d(e,"qb",(function(){return ss})),n.d(e,"rb",(function(){return Er})),n.d(e,"sb",(function(){return yo})),n.d(e,"tb",(function(){return Vo})),n.d(e,"ub",(function(){return Et})),n.d(e,"vb",(function(){return jt})),n.d(e,"wb",(function(){return I})),n.d(e,"xb",(function(){return O})),n.d(e,"yb",(function(){return At})),n.d(e,"zb",(function(){return Nt})),n.d(e,"Ab",(function(){return mo})),n.d(e,"Bb",(function(){return Eo})),n.d(e,"Cb",(function(){return Co})),n.d(e,"Db",(function(){return ko})),n.d(e,"Eb",(function(){return Io})),n.d(e,"Fb",(function(){return fn})),n.d(e,"Gb",(function(){return ct})),n.d(e,"Hb",(function(){return bo})),n.d(e,"Ib",(function(){return uu})),n.d(e,"Jb",(function(){return Ao})),n.d(e,"Kb",(function(){return jo})),n.d(e,"Lb",(function(){return _o})),n.d(e,"Mb",(function(){return ru})),n.d(e,"Nb",(function(){return iu})),n.d(e,"Ob",(function(){return ue})),n.d(e,"Pb",(function(){return St})),n.d(e,"Qb",(function(){return go})),n.d(e,"Rb",(function(){return Uo})),n.d(e,"Sb",(function(){return Ho})),n.d(e,"Tb",(function(){return qo}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),u=n("7o/Q");function a(){return function(t){return t.lift(new l(t))}}var c,l=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new f(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),f=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(u.a),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new i.a).add(this.source.subscribe(new p(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}},{key:"refCount",value:function(){return a()(this)}}]),n}(o.a),d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(c=h.prototype)._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(r.b);function v(){return new r.a}function y(t){return{toString:t}.toString()}function g(t,e,n){return y((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return s.annotation=o,s;function s(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var m=g("Inject",(function(t){return{token:t}})),b=g("Optional"),_=g("Self"),w=g("SkipSelf"),k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function C(t){for(var e in t)if(t[e]===C)return e;throw Error("Could not find renamed property on target object.")}function E(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function I(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function T(t){return A(t,t[x])||A(t,t[D])}function A(t,e){return e&&e.token===t?e:null}function S(t){return t&&(t.hasOwnProperty(j)||t.hasOwnProperty(P))?t[j]:null}var x=C({"\u0275prov":C}),j=C({"\u0275inj":C}),N=C({"\u0275provFallback":C}),D=C({ngInjectableDef:C}),P=C({ngInjectorDef:C});function V(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(V).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function R(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var M=C({__forward_ref__:C});function L(t){return t.__forward_ref__=L,t.toString=function(){return V(this())},t}function F(t){return U(t)?t():t}function U(t){return"function"==typeof t&&t.hasOwnProperty(M)&&t.__forward_ref__===L}var H,q="undefined"!=typeof globalThis&&globalThis,G="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,K=q||B||G||z,J=C({"\u0275cmp":C}),W=C({"\u0275dir":C}),Z=C({"\u0275pipe":C}),Y=C({"\u0275mod":C}),Q=C({"\u0275loc":C}),X=C({"\u0275fac":C}),$=C({__NG_ELEMENT_ID__:C}),tt=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=I({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),et=new tt("INJECTOR",-1),nt={},rt=/\n/gm,it=C({provide:String,useValue:C}),ot=void 0;function st(t){var e=ot;return ot=t,e}function ut(t){var e=H;return H=t,e}function at(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;if(void 0===ot)throw new Error("inject() must be called from an injection context");return null===ot?lt(t,void 0,e):ot.get(t,e&k.Optional?null:void 0,e)}function ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;return(H||at)(F(t),e)}function lt(t,e,n){var r=T(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&k.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(V(t),"]"))}function ft(t){for(var e=[],n=0;n<t.length;n++){var r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=k.Default,s=0;s<r.length;s++){var u=r[s];u instanceof b||"Optional"===u.ngMetadataName||u===b?o|=k.Optional:u instanceof w||"SkipSelf"===u.ngMetadataName||u===w?o|=k.SkipSelf:u instanceof _||"Self"===u.ngMetadataName||u===_?o|=k.Self:i=u instanceof m||u===m?u.token:u}e.push(ct(i,o))}else e.push(ct(r))}return e}var ht=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt;if(e===nt){var n=new Error("NullInjectorError: No provider for ".concat(V(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),dt=function t(){_classCallCheck(this,t)};function pt(t,e){t.forEach((function(t){return Array.isArray(t)?pt(t,e):e(t)}))}function vt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gt(t,e){var n=mt(t,e);if(n>=0)return t[1|n]}function mt(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),s=t[o<<1];if(e===s)return o<<1;s>e?i=o:r=o+1}return~(i<<1)}(t,e)}var bt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),_t=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),wt={},kt=[],Ct=0;function Et(t){return y((function(){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||kt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||_t.Emulated,id:"c",styles:t.styles||kt,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,s=t.features,u=t.pipes;return i.id+=Ct++,i.inputs=xt(t.inputs,r),i.outputs=xt(t.outputs),s&&s.forEach((function(t){return t(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(It)}:null,i.pipeDefs=u?function(){return("function"==typeof u?u():u).map(Ot)}:null,i}))}function It(t){return Dt(t)||function(t){return t[W]||null}(t)}function Ot(t){return function(t){return t[Z]||null}(t)}var Tt={};function At(t){var e={type:t.type,bootstrap:t.bootstrap||kt,declarations:t.declarations||kt,imports:t.imports||kt,exports:t.exports||kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&y((function(){Tt[t.id]=t.type})),e}function St(t,e){return y((function(){var n=Vt(t,!0);n.declarations=e.declarations||kt,n.imports=e.imports||kt,n.exports=e.exports||kt}))}function xt(t,e){if(null==t)return wt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var jt=Et;function Nt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Dt(t){return t[J]||null}function Pt(t,e){return t.hasOwnProperty(X)?t[X]:null}function Vt(t,e){var n=t[Y]||null;if(!n&&!0===e)throw new Error("Type ".concat(V(t)," does not have '\u0275mod' property."));return n}function Rt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Mt(t){return Array.isArray(t)&&!0===t[1]}function Lt(t){return 0!=(8&t.flags)}function Ft(t){return 2==(2&t.flags)}function Ut(t){return 1==(1&t.flags)}function Ht(t){return null!==t.template}function qt(t){return 0!=(512&t[2])}var Gt=void 0;function zt(t){Gt=t}function Bt(t){return!!t.listen}var Kt={createRenderer:function(t,e){return void 0!==Gt?Gt:"undefined"!=typeof document?document:void 0}};function Jt(t){for(;Array.isArray(t);)t=t[0];return t}function Wt(t,e){return Jt(e[t+20])}function Zt(t,e){return Jt(e[t.index])}function Yt(t,e){return t.data[e+20]}function Qt(t,e){var n=e[t];return Rt(n)?n:n[0]}function Xt(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function $t(t){return 128==(128&t[2])}function te(t,e){return null===t||null==e?null:t[e]}function ee(t){t[18]=0}function ne(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var re={lFrame:we(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ie(){return re.bindingsEnabled}function oe(){return re.lFrame.lView}function se(){return re.lFrame.tView}function ue(t){re.lFrame.contextLView=t}function ae(){return re.lFrame.previousOrParentTNode}function ce(t,e){re.lFrame.previousOrParentTNode=t,re.lFrame.isParent=e}function le(){return re.lFrame.isParent}function fe(){return re.checkNoChangesMode}function he(t){re.checkNoChangesMode=t}function de(){var t=re.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function pe(){return re.lFrame.bindingIndex++}function ve(t,e){var n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,ye(e)}function ye(t){re.lFrame.currentDirectiveIndex=t}function ge(t){re.lFrame.currentQueryIndex=t}function me(t,e){var n=_e();re.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function be(t,e){var n=_e(),r=t[1];re.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function _e(){var t=re.lFrame,e=null===t?null:t.child;return null===e?we(t):e}function we(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function ke(){var t=re.lFrame;return re.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var Ce=ke;function Ee(){var t=ke();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ie(){return re.lFrame.selectedIndex}function Oe(t){re.lFrame.selectedIndex=t}function Te(){var t=re.lFrame;return Yt(t.tView,t.selectedIndex)}function Ae(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];i.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,i.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,i.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i.onDestroy)}}function Se(t,e,n){Ne(t,e,3,n)}function xe(t,e,n,r){(3&t[2])===n&&Ne(t,e,n,r)}function je(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ne(t,e,n,r){for(var i=null!=r?r:-1,o=0,s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(De(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function De(t,e,n,r){var i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}var Pe=function t(e,n,r){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Ve(t,e,n){for(var r=Bt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var s=n[i++],u=n[i++],a=n[i++];r?t.setAttribute(e,u,a,s):e.setAttributeNS(s,u,a)}else{var c=o,l=n[++i];Me(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Re(t){return 3===t||4===t||6===t}function Me(t){return 64===t.charCodeAt(0)}function Le(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Fe(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Fe(t,e,n,r,i){var o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){var u=t[o++];if("number"==typeof u){if(u===e){s=-1;break}if(u>e){s=o-1;break}}}for(;o<t.length;){var a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ue(t){return-1!==t}function He(t){return 32767&t}function qe(t){return t>>16}function Ge(t,e){for(var n=qe(t),r=e;n>0;)r=r[15],n--;return r}function ze(t){return"string"==typeof t?t:null==t?"":""+t}function Be(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ze(t)}var Ke=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(K);function Je(t){return t instanceof Function?t():t}var We=!0;function Ze(t){var e=We;return We=t,e}var Ye=0;function Qe(t,e){var n=$e(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Xe(r.data,t),Xe(e,null),Xe(r.blueprint,null));var i=tn(t,e),o=t.injectorIndex;if(Ue(i))for(var s=He(i),u=Ge(i,e),a=u[1].data,c=0;c<8;c++)e[o+c]=u[s+c]|a[s+c];return e[o+8]=i,o}function Xe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function $e(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function tn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],r=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function en(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[$]:n.charCodeAt(0)||0;null==r&&(r=n[$]=Ye++);var i=255&r,o=1<<i,s=64&i,u=32&i,a=e.data;128&i?s?u?a[t+7]|=o:a[t+6]|=o:u?a[t+5]|=o:a[t+4]|=o:s?u?a[t+3]|=o:a[t+2]|=o:u?a[t+1]|=o:a[t]|=o}(t,e,n)}function nn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[$];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){me(e,t);try{var s=o();if(null!=s||r&k.Optional)return s;throw new Error("No provider for ".concat(Be(n),"!"))}finally{Ce()}}else if("number"==typeof o){if(-1===o)return new cn(t,e);var u=null,a=$e(t,e),c=-1,l=r&k.Host?e[16][6]:null;for((-1===a||r&k.SkipSelf)&&(c=-1===a?tn(t,e):e[a+8],an(r,!1)?(u=e[1],a=He(c),e=Ge(c,e)):a=-1);-1!==a;){c=e[a+8];var f=e[1];if(un(o,a,f.data)){var h=on(a,e,n,u,r,l);if(h!==rn)return h}an(r,e[1].data[a+8]===l)&&un(o,a,e)?(u=f,a=He(c),e=Ge(c,e)):a=-1}}}if(r&k.Optional&&void 0===i&&(i=null),0==(r&(k.Self|k.Host))){var d=e[9],p=ut(void 0);try{return d?d.get(n,i,r&k.Optional):lt(n,i,r&k.Optional)}finally{ut(p)}}if(r&k.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Be(n),"]"))}var rn={};function on(t,e,n,r,i,o){var s=e[1],u=s.data[t+8],a=function(t,e,n,r,i){for(var o=t.providerIndexes,s=e.data,u=65535&o,a=t.directiveStart,c=o>>16,l=i?u+c:t.directiveEnd,f=r?u:u+c;f<l;f++){var h=s[f];if(f<a&&n===h||f>=a&&h.type===n)return f}if(i){var d=s[a];if(d&&Ht(d)&&d.type===n)return a}return null}(u,s,n,null==r?Ft(u)&&We:r!=s&&3===u.type,i&k.Host&&o===u);return null!==a?sn(e,s,a,u):rn}function sn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Pe){var s=i;if(s.resolving)throw new Error("Circular dep for "+Be(o[n]));var u,a=Ze(s.canSeeViewProviders);s.resolving=!0,s.injectImpl&&(u=ut(s.injectImpl)),me(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.onChanges,i=e.onInit,o=e.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&ut(u),Ze(a),s.resolving=!1,Ce()}}return i}function un(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function an(t,e){return!(t&k.Self||t&k.Host&&e)}var cn=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return nn(this._tNode,this._lView,t,void 0,e)}}]),t}();function ln(t){var e=t;if(U(t))return function(){var t=ln(F(e));return t?t():null};var n=Pt(e);if(null===n){var r=S(e);n=r&&r.factory}return n||null}function fn(t){return y((function(){for(var e=t.prototype.constructor,n=e[X]||ln(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[X]||ln(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}}))}function hn(t){return t.ngDebugContext}function dn(t){return t.ngOriginalError}function pn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var vn=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||pn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?hn(t)?hn(t):this._findContext(dn(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=dn(t);e&&dn(e);)e=dn(e);return e}}]),t}(),yn=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}(),gn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(yn),mn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(yn),bn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(yn),_n=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(yn),wn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(yn);function kn(t){return t instanceof yn?t.changingThisBreaksApplicationSecurity:t}function Cn(t,e){var n=En(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function En(t){return t instanceof yn&&t.getTypeName()||null}function In(t){return new gn(t)}function On(t){return new mn(t)}function Tn(t){return new bn(t)}function An(t){return new _n(t)}function Sn(t){return new wn(t)}var xn=!0,jn=!1;function Nn(){return jn=!0,xn}function Dn(){if(jn)throw new Error("Cannot enable prod mode after platform setup.");xn=!1}var Pn=function(){function t(e){_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),Vn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Rn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Mn(t){return(t=String(t)).match(Vn)||t.match(Rn)?t:(Nn()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function Ln(t){var e,n={},r=_createForOfIteratorHelper(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Fn(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];for(var u in s)s.hasOwnProperty(u)&&(t[u]=!0)}return t}var Un,Hn=Ln("area,br,col,hr,img,wbr"),qn=Ln("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gn=Ln("rp,rt"),zn=Fn(Gn,qn),Bn=Fn(Hn,Fn(qn,Ln("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fn(Gn,Ln("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zn),Kn=Ln("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jn=Ln("srcset"),Wn=Fn(Kn,Jn,Ln("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ln("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zn=Ln("script,style,template"),Yn=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!Bn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Zn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),s=o.name,u=s.toLowerCase();if(Wn.hasOwnProperty(u)){var a=o.value;Kn[u]&&(a=Mn(a)),Jn[u]&&(n=a,a=(n=String(n)).split(",").map((function(t){return Mn(t.trim())})).join(", ")),this.buf.push(" ",s,'="',$n(a),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();Bn.hasOwnProperty(e)&&!Hn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push($n(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),Qn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xn=/([^\#-~ |!])/g;function $n(t){return t.replace(/&/g,"&amp;").replace(Qn,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Xn,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function tr(t,e){var n=null;try{Un=Un||new Pn(t);var r=e?String(e):"";n=Un.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Un.getInertBodyElement(r)}while(r!==o);var s=new Yn,u=s.sanitizeChildren(er(n)||n);return Nn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),u}finally{if(n)for(var a=er(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function er(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var nr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),rr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ir=/^url\(([^)]+)\)$/;function or(t){if(!(t=String(t).trim()))return"";var e=t.match(ir);return e&&Mn(e[1])===e[1]||t.match(rr)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Nn()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}function sr(t,e){t.__ngContext__=e}function ur(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function ar(){throw new Error("Cannot mix multi providers and regular providers")}function cr(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function lr(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==cr((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function fr(t){return 0===t.type&&"ng-template"!==t.tagName}function hr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function dr(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Re(t[e]))return e;return t.length}(i),s=!1,u=0;u<e.length;u++){var a=e[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!hr(t,a,n)||""===a&&1===e.length){if(pr(r))return!1;s=!0}}else{var c=8&r?a:e[++u];if(8&r&&null!==t.attrs){if(!lr(t.attrs,c,n)){if(pr(r))return!1;s=!0}continue}var l=vr(8&r?"class":a,i,fr(t),n);if(-1===l){if(pr(r))return!1;s=!0;continue}if(""!==c){var f;f=l>o?"":i[l+1].toLowerCase();var h=8&r?f:null;if(h&&-1!==cr(h,c,0)||2&r&&c!==f){if(pr(r))return!1;s=!0}}}}else{if(!s&&!pr(r)&&!pr(a))return!1;if(s&&pr(a))continue;s=!1,r=a|1&r}}return pr(r)||s}function pr(t){return 0==(1&t)}function vr(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var u=e[++i];"string"==typeof u;)u=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function yr(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(dr(t,e[r],n))return!0;return!1}function gr(t,e){return t?":not("+e.trim()+")":e}function mr(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var s=t[n];if("string"==typeof s)if(2&r){var u=t[++n];i+="["+s+(u.length>0?'="'+u+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||pr(s)||(e+=gr(o,i),i=""),r=s,o=o||!pr(r);n++}return""!==i&&(e+=gr(o,i)),e}var br={};function _r(t){var e=t[3];return Mt(e)?e[3]:e}function wr(t){return Cr(t[13])}function kr(t){return Cr(t[4])}function Cr(t){for(;null!==t&&!Mt(t);)t=t[4];return t}function Er(t){Ir(se(),oe(),Ie()+t,fe())}function Ir(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Se(e,i,n)}else{var o=t.preOrderHooks;null!==o&&xe(e,o,0,n)}Oe(n)}function Or(t,e){return t<<17|e<<2}function Tr(t){return t>>17&32767}function Ar(t){return 2|t}function Sr(t){return(131068&t)>>2}function xr(t,e){return-131069&t|e<<2}function jr(t){return 1|t}function Nr(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var s=t.data[o];ge(i),s.contentQueries(2,e[o],o)}}}function Dr(t,e,n){return Bt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Pr(t,e,n,r,i,o,s,u,a,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ee(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=u||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Vr(t,e,n,r,i,o){var s=n+20,u=t.data[s]||function(t,e,n,r,i,o){var s=ae(),u=le(),a=u?s:s&&s.parent,c=t.data[n]=zr(0,a&&a!==e?a:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),s&&(!u||null!=s.child||null===c.parent&&2!==s.type?u||(s.next=c):s.child=c),c}(t,e,s,r,i,o);return ce(u,!0),u}function Rr(t,e,n){be(e,e[6]);try{var r=t.viewQuery;null!==r&&fi(1,r,n);var i=t.template;null!==i&&Fr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Nr(t,e),t.staticViewQueries&&fi(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)si(t,e[n])}(e,o)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),s}finally{e[2]&=-5,Ee()}}function Mr(t,e,n,r){var i=e[2];if(256!=(256&i)){be(e,e[6]);var o=fe();try{ee(e),re.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Fr(t,e,n,2,r);var s=3==(3&i);if(!o)if(s){var u=t.preOrderCheckHooks;null!==u&&Se(e,u,null)}else{var a=t.preOrderHooks;null!==a&&xe(e,a,0,null),je(e,0)}if(function(t){for(var e=wr(t);null!==e;e=kr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&ne(o,1),i[2]|=1024}}(e),function(t){for(var e=wr(t);null!==e;e=kr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];$t(r)&&Mr(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Nr(t,e),!o)if(s){var c=t.contentCheckHooks;null!==c&&Se(e,c)}else{var l=t.contentHooks;null!==l&&xe(e,l,1),je(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var s=n[o];"number"==typeof s?s<=0?(Oe(0-s),i=r+=9+n[++o]):r+=s:(null!==s&&(ve(r,i),s(2,e[i])),i++)}}finally{Oe(-1)}}(t,e);var f=t.components;null!==f&&function(t,e){for(var n=0;n<e.length;n++)oi(t,e[n])}(e,f);var h=t.viewQuery;if(null!==h&&fi(2,h,r),!o)if(s){var d=t.viewCheckHooks;null!==d&&Se(e,d)}else{var p=t.viewHooks;null!==p&&xe(e,p,2),je(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ne(e[3],-1))}finally{Ee()}}}function Lr(t,e,n,r){var i=e[10],o=!fe(),s=4==(4&e[2]);try{o&&!s&&i.begin&&i.begin(),s&&Rr(t,e,r),Mr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Fr(t,e,n,r,i){var o=Ie();try{Oe(-1),2&r&&e.length>20&&Ir(t,e,0,fe()),n(r,i)}finally{Oe(o)}}function Ur(t,e,n){ie()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Qe(n,e),sr(r,e);for(var s=n.initialInputs,u=i;u<o;u++){var a=t.data[u],c=Ht(a);c&&ei(e,n,a);var l=sn(e,t,u,n);sr(l,e),null!==s&&ni(0,u-i,l,a,0,s),c&&(Qt(n.index,e)[8]=l)}}(t,e,n,Zt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,u=n.index-20,a=re.lFrame.currentDirectiveIndex;try{Oe(u);for(var c=r;c<i;c++){var l=t.data[c],f=e[c];ye(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?Zr(l,f):s&&o.push(null)}}finally{Oe(-1),ye(a)}}(t,e,n))}function Hr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var s=r[o+1],u=-1===s?n(e,t):t[s];t[i++]=u}}function qr(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Gr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Gr(t,e,n,r,i,o,s,u,a,c){var l=20+r,f=l+i,h=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:br);return n}(l,f);return h[1]={type:t,id:e,blueprint:h,template:n,queries:null,viewQuery:u,node:null,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:c,incompleteFirstPass:!1}}function zr(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Br(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Kr(t,e,n,r){var i=!1;if(ie()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var s=r[o];yr(n,s.selectors,!1)&&(i||(i=[]),en(Qe(n,e),t,s.type),Ht(s)?(2&n.flags&&ur(n),Qr(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){var u=0;i=!0,$r(n,t.data.length,o.length);for(var a=0;a<o.length;a++){var c=o[a];c.providersResolver&&c.providersResolver(c)}Yr(t,n,o.length);for(var l=!1,f=!1,h=0;h<o.length;h++){var d=o[h];n.mergedAttrs=Le(n.mergedAttrs,d.hostAttrs),ti(t,e,d),Xr(t.data.length-1,d,s),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),f||!d.onChanges&&!d.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),f=!0),Jr(t,d),u+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],s=null,u=null,a=e.directiveStart;a<n;a++){var c=r[a],l=c.inputs,f=null===i||fr(e)?null:ri(l,i);o.push(f),s=Br(l,a,s),u=Br(c.outputs,a,u)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=u}(t,n),Wr(t,e,u)}s&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,s)}return n.mergedAttrs=Le(n.mergedAttrs,n.attrs),i}function Jr(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Wr(t,e,n){for(var r=0;r<n;r++)e.push(br),t.blueprint.push(br),t.data.push(null)}function Zr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Yr(t,e,n){var r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Qr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Xr(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ht(e)&&(n[""]=t)}}function $r(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ti(t,e,n){t.data.push(n);var r=n.factory||(n.factory=Pt(n.type)),i=new Pe(r,Ht(n),null);t.blueprint.push(i),e.push(i)}function ei(t,e,n){var r=Zt(e,t),i=qr(n),o=t[10],s=ui(t,Pr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function ni(t,e,n,r,i,o){var s=o[e];if(null!==s)for(var u=r.setInput,a=0;a<s.length;){var c=s[a++],l=s[a++],f=s[a++];null!==u?r.setInput(n,f,c,l):n[l]=f}}function ri(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ii(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function oi(t,e){var n=Qt(e,t);if($t(n)){var r=n[1];80&n[2]?Mr(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=wr(e);null!==n;n=kr(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Mr(o,i,o.template,i[8])}else i[5]>0&&t(i)}var s=e[1].components;if(null!==s)for(var u=0;u<s.length;u++){var a=Qt(s[u],e);$t(a)&&a[5]>0&&t(a)}}(n)}}function si(t,e){var n=Qt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Rr(r,n,n[8])}function ui(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ai(t){for(;t;){t[2]|=64;var e=_r(t);if(qt(t)&&!e)return t;t=e}return null}function ci(t,e,n){var r=e[10];r.begin&&r.begin();try{Mr(t,e,t.template,n)}catch(i){throw pi(e,i),i}finally{r.end&&r.end()}}function li(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Xt(n),i=r[1];Lr(i,r,i.template,n)}}(t[8])}function fi(t,e,n){ge(0),e(t,n)}var hi=Promise.resolve(null);function di(t){return t[7]||(t[7]=[])}function pi(t,e){var n=t[9],r=n?n.get(vn,null):null;r&&r.handleError(e)}function vi(t,e,n,r,i){for(var o=0;o<n.length;){var s=n[o++],u=n[o++],a=e[s],c=t.data[s];null!==c.setInput?c.setInput(a,i,r,u):a[u]=i}}function yi(t,e){var n=e[3];return-1===t.index?Mt(n)?n:null:n}function gi(t,e){var n=yi(t,e);return n?Ai(e[11],n[7]):null}function mi(t,e,n,r,i){if(null!=r){var o,s=!1;Mt(r)?o=r:Rt(r)&&(s=!0,r=r[0]);var u=Jt(r);0===t&&null!==n?null==i?Oi(e,n,u):Ii(e,n,u,i||null):1===t&&null!==n?Ii(e,n,u,i||null):2===t?function(t,e,n){var r=Ai(t,e);r&&function(t,e,n,r){Bt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,u,s):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Jt(n)&&mi(e,t,r,o,i);for(var s=10;s<n.length;s++){var u=n[s];Ni(u[1],u,t,e,r,o)}}(e,t,o,n,i)}}function bi(t,e,n,r){var i=gi(t.node,e);i&&Ni(t,e,e[11],n?1:2,i,r)}function _i(t,e){var n=t[9],r=n.indexOf(e);1024&e[2]&&ne(e[3],-1),n.splice(r,1)}function wi(t,e){if(!(t.length<=10)){var n=10+e,r=t[n];if(r){var i=r[17];null!==i&&i!==t&&_i(i,r),e>0&&(t[n-1][4]=r[4]);var o=yt(t,10+e);bi(r[1],r,!1,null);var s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function ki(t,e){if(!(256&e[2])){var n=e[11];Bt(n)&&n.destroyNode&&Ni(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Ei(t[1],t);for(;e;){var n=null;if(Rt(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Rt(e)&&Ei(e[1],e),e=Ci(e,t);null===e&&(e=t),Rt(e)&&Ei(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ci(t,e){var n;return Rt(t)&&(n=t[6])&&2===n.type?yi(n,t):t[3]===e?null:t[3]}function Ei(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Pe)){var o=n[r+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2)o[s+1].call(i[o[s]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],s="function"==typeof o?o(e):Jt(e[o]),u=r[n[i+2]],a=n[i+3];"boolean"==typeof a?s.removeEventListener(n[i],u,a):a>=0?r[a]():r[-a].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&Bt(e[11])&&e[11].destroy();var r=e[17];if(null!==r&&Mt(e[3])){r!==e[3]&&_i(r,e);var i=e[19];null!==i&&i.detachView(t)}}}function Ii(t,e,n,r){Bt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Oi(t,e,n){Bt(t)?t.appendChild(e,n):e.appendChild(n)}function Ti(t,e,n,r){null!==r?Ii(t,e,n,r):Oi(t,e,n)}function Ai(t,e){return Bt(t)?t.parentNode(e):e.parentNode}function Si(t,e,n,r){var i=function(t,e,n){for(var r=e.parent;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){var i=n[6];return 2===i.type?gi(i,n):n[0]}if(e&&5===e.type&&4&e.flags)return Zt(e,n).parentNode;if(2&r.flags){var o=t.data,s=o[o[r.index].directiveStart].encapsulation;if(s!==_t.ShadowDom&&s!==_t.Native)return null}return Zt(r,n)}(t,r,e);if(null!=i){var o=e[11],s=function(t,e){if(2===t.type){var n=yi(t,e);return null===n?null:xi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Zt(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(var u=0;u<n.length;u++)Ti(o,i,n[u],s);else Ti(o,i,n,s)}}function xi(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){var r=n.type;if(3===r)return Zt(n,e);if(0===r)return xi(-1,e[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return t(e,i);var o=e[n.index];return Mt(o)?xi(-1,o):Jt(o)}var s=e[16],u=s[6],a=_r(s),c=u.projection[n.projection];return null!=c?t(a,c):t(e,n.next)}return null}(r,i)}return e[7]}function ji(t,e,n,r,i,o,s){for(;null!=n;){var u=r[n.index],a=n.type;s&&0===e&&(u&&sr(Jt(u),r),n.flags|=4),64!=(64&n.flags)&&(4===a||5===a?(ji(t,e,n.child,r,i,o,!1),mi(e,t,i,u,o)):1===a?Di(t,e,r,n,i,o):mi(e,t,i,u,o)),n=s?n.projectionNext:n.next}}function Ni(t,e,n,r,i,o){ji(n,r,t.node.child,e,i,o,!1)}function Di(t,e,n,r,i,o){var s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(var a=0;a<u.length;a++)mi(e,t,i,u[a],o);else ji(t,e,u,s[3],i,o,!0)}function Pi(t,e,n){Bt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Vi(t,e,n){Bt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var Ri,Mi,Li,Fi=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}ki(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,r;e=this._lView[1],r=t,di(n=this._lView).push(r),e.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(e).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){ai(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){ci(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){he(!0);try{ci(t,e,n)}finally{he(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Ni(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView;return null==t[0]?function t(e,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var s=n[r.index];if(null!==s&&i.push(Jt(s)),Mt(s))for(var u=10;u<s.length;u++){var a=s[u],c=a[1].firstChild;null!==c&&t(a[1],a,c,i)}var l=r.type;if(4===l||5===l)t(e,n,r.child,i);else if(1===l){var f=n[16],h=f[6].projection[r.projection];if(Array.isArray(h))i.push.apply(i,_toConsumableArray(h));else{var d=_r(f);t(d[1],d,h,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),Ui=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t))._view=t,r}return _createClass(n,[{key:"detectChanges",value:function(){li(this._view)}},{key:"checkNoChanges",value:function(){!function(t){he(!0);try{li(t)}finally{he(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Fi);function Hi(t,e,n){return Ri||(Ri=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(t)),new Ri(Zt(e,n))}var qi=new tt("Set Injector scope."),Gi={},zi={},Bi=[],Ki=void 0;function Ji(){return void 0===Ki&&(Ki=new ht),Ki}function Wi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Zi(t,n,e||Ji(),r)}var Zi=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&pt(n,(function(t){return i.processProvider(t,e,n)})),pt([e],(function(t){return i.processInjectorType(t,[],s)})),this.records.set(et,Xi(void 0,this));var u=this.records.get(qi);this.scope=null!=u?u.value:null,this.source=o||("object"==typeof e?null:V(e))}return _createClass(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;this.assertNotDestroyed();var r,i=st(this);try{if(!(n&k.SkipSelf)){var o=this.records.get(t);if(void 0===o){var s=("function"==typeof(r=t)||"object"==typeof r&&r instanceof tt)&&T(t);o=s&&this.injectableDefInScope(s)?Xi(Yi(t),Gi):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&k.Self?Ji():this.parent).get(t,e=n&k.Optional&&e===nt?null:e)}catch(u){if("NullInjectorError"===u.name){if((u.ngTempTokenPath=u.ngTempTokenPath||[]).unshift(V(t)),i)throw u;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=V(e);if(Array.isArray(e))i=e.map(V).join(" -> ");else if("object"==typeof e){var o=[];for(var s in e)if(e.hasOwnProperty(s)){var u=e[s];o.push(s+":"+("string"==typeof u?JSON.stringify(u):V(u)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(rt,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(u,t,0,this.source)}throw u}finally{st(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(V(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=F(t)))return!1;var i=S(t),o=null==i&&t.ngModule||void 0,s=void 0===o?t:o,u=-1!==n.indexOf(s);if(void 0!==o&&(i=S(o)),null==i)return!1;if(null!=i.imports&&!u){var a;n.push(s);try{pt(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===a&&(a=[]),a.push(t))}))}finally{}if(void 0!==a)for(var c=function(t){var e=a[t],n=e.ngModule,i=e.providers;pt(i,(function(t){return r.processProvider(t,n,i||Bi)}))},l=0;l<a.length;l++)c(l)}this.injectorDefTypes.add(s),this.records.set(s,Xi(i.factory,Gi));var f=i.providers;if(null!=f&&!u){var h=t;pt(f,(function(t){return r.processProvider(t,h,f)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=to(t=F(t))?t:F(t&&t.provide),i=function(t,e,n){return $i(t)?Xi(void 0,t.useValue):Xi(Qi(t,e,n),Gi)}(t,e,n);if(to(t)||!0!==t.multi){var o=this.records.get(r);o&&void 0!==o.multi&&ar()}else{var s=this.records.get(r);s?void 0===s.multi&&ar():((s=Xi(void 0,Gi,!0)).factory=function(){return ft(s.multi)},this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===zi?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(V(t)):e.value===Gi&&(e.value=zi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function Yi(t){var e=T(t),n=null!==e?e.factory:Pt(t);if(null!==n)return n;var r=S(t);if(null!==r)return r.factory;if(t instanceof tt)throw new Error("Token ".concat(V(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=function(t,e){for(var n=[],r=0;r<t;r++)n.push("?");return n}(e);throw new Error("Can't resolve all parameters for ".concat(V(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[x]||t[D]||t[N]&&t[N]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Qi(t,e,n){var r,i=void 0;if(to(t)){var o=F(t);return Pt(o)||Yi(o)}if($i(t))i=function(){return F(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,_toConsumableArray(ft(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return ct(F(t.useExisting))};else{var s=F(t&&(t.useClass||t.provide));if(s||function(t,e,n){var r="";throw t&&e&&(r=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(V(t),"'")+r)}(e,n,t),!function(t){return!!t.deps}(t))return Pt(s)||Yi(s);i=function(){return _construct(s,_toConsumableArray(ft(t.deps)))}}return i}function Xi(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function $i(t){return null!==t&&"object"==typeof t&&it in t}function to(t){return"function"==typeof t}var eo=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Wi(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},no=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?eo(t,e,""):eo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=nt,t.NULL=new ht,t.\u0275prov=I({token:t,providedIn:"any",factory:function(){return ct(et)}}),t.__NG_ELEMENT_ID__=-1,t}(),ro=new Map,io=new Set;function oo(t){return"string"==typeof t?t:t.text()}function so(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var s=0;s<e.length;s++){var u=e[s];"number"==typeof u?o=u:1==o?i=R(i,u):2==o&&(r=R(r,u+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var uo=null;function ao(){if(!uo){var t=K.Symbol;if(t&&t.iterator)uo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(uo=r)}}return uo}function co(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}var lo=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function fo(t){return!!ho(t)&&(Array.isArray(t)||!(t instanceof Map)&&ao()in t)}function ho(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function po(t,e,n){return t[e]=n}function vo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function yo(t,e,n,r){var i=oe();return vo(i,pe(),e)&&(se(),function(t,e,n,r,i,o){var s=Zt(t,e),u=e[11];if(null==r)Bt(u)?u.removeAttribute(s,n,o):s.removeAttribute(n);else{var a=null==i?ze(r):i(r,t.tagName||"",n);Bt(u)?u.setAttribute(s,n,a,o):o?s.setAttributeNS(o,n,a):s.setAttribute(n,a)}}(Te(),i,t,e,n,r)),yo}function go(t,e,n,r,i,o,s,u){var a=oe(),c=se(),l=t+20,f=c.firstCreatePass?function(t,e,n,r,i,o,s,u,a){var c=e.consts,l=Vr(e,n[6],t,0,s||null,te(c,u));Kr(e,n,l,te(c,a)),Ae(e,l);var f=l.tViews=Gr(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),h=zr(0,null,2,-1,null,null);return h.injectorIndex=l.injectorIndex,f.node=h,null!==e.queries&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}(t,c,a,e,n,r,i,o,s):c.data[l];ce(f,!1);var h=a[11].createComment("");Si(c,a,h,f),sr(h,a),ui(a,a[l]=ii(h,a,h,f)),Ut(f)&&Ur(c,a,f),null!=s&&Hr(a,f,u)}function mo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default,n=oe();return null==n?ct(t,e):nn(ae(),n,F(t),e)}function bo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Re(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(ae(),t)}function _o(t,e,n){var r=oe();return vo(r,pe(),e)&&function(t,e,n,r,i,o,s,u){var a,c=Zt(e,n),l=e.inputs;null!=l&&(a=l[r])?(vi(t,n,a,r,i),Ft(e)&&function(t,e){var n=Qt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,Bt(o)?o.setProperty(c,r,i):Me(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}(se(),Te(),r,t,e,r[11],n),_o}function wo(t,e,n,r,i){var o=i?"class":"style";vi(t,n,e.inputs[o],o,r)}function ko(t,e,n,r){var i=oe(),o=se(),s=20+t,u=i[11],a=i[s]=Dr(e,u,re.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){var u=e.consts,a=te(u,o),c=Vr(e,n[6],t,3,i,a);return Kr(e,n,c,te(u,s)),null!==c.attrs&&so(c,c.attrs,!1),null!==c.mergedAttrs&&so(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];ce(c,!0);var l=c.mergedAttrs;null!==l&&Ve(u,a,l);var f=c.classes;null!==f&&Vi(u,a,f);var h=c.styles;null!==h&&Pi(u,a,h),Si(o,i,a,c),0===re.lFrame.elementDepthCount&&sr(a,i),re.lFrame.elementDepthCount++,Ut(c)&&(Ur(o,i,c),function(t,e,n){if(Lt(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&Hr(i,c)}function Co(){var t=ae();le()?re.lFrame.isParent=!1:ce(t=t.parent,!1);var e=t;re.lFrame.elementDepthCount--;var n=se();n.firstCreatePass&&(Ae(n,t),Lt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&wo(n,e,oe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&wo(n,e,oe(),e.stylesWithoutHost,!1)}function Eo(t,e,n,r){ko(t,e,n,r),Co()}function Io(){return oe()}function Oo(t){return!!t&&"function"==typeof t.then}function To(t){return!!t&&"function"==typeof t.subscribe}function Ao(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=oe(),o=se(),s=ae();return function(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7?arguments[7]:void 0,a=Ut(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=di(e),f=!0;if(3===r.type){var h=Zt(r,e),d=u?u(h):wt,p=d.target||h,v=l.length,y=u?function(t){return u(Jt(t[r.index])).target}:r.index;if(Bt(n)){var g=null;if(!u&&a&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var s=i[o];if(s===n&&i[o+1]===r){var u=e[7],a=i[o+2];return u.length>a?u[a]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,f=!1;else{o=xo(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=xo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,v,s)}var b,_=r.outputs;if(f&&null!==_&&(b=_[i])){var w=b.length;if(w)for(var k=0;k<w;k+=2){var C=e[b[k]][b[k+1]].subscribe(o),E=l.length;l.push(o,C),c&&c.push(i,r.index,E,-(E+1))}}}(o,i,i[11],s,t,e,n,r),Ao}function So(t,e,n){try{return!1!==e(n)}catch(r){return pi(t,r),!1}}function xo(t,e,n,r){return function i(o){if(o===Function)return n;var s=2&t.flags?Qt(t.index,e):e;0==(32&e[2])&&ai(s);for(var u=So(e,n,o),a=i.__ngNextListenerFn__;a;)u=So(e,a,o)&&u,a=a.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function jo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(re.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,re.lFrame.contextLView))[8]}(t)}var No=[];function Do(t,e,n,r,i){for(var o=t[n+1],s=null===e,u=r?Tr(o):Sr(o),a=!1;0!==u&&(!1===a||s);){var c=t[u+1];Po(t[u],e)&&(a=!0,t[u+1]=r?jr(c):Ar(c)),u=r?Tr(c):Sr(c)}a&&(t[n+1]=r?Ar(o):jr(o))}function Po(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mt(t,e)>=0}function Vo(t,e){return function(t,e,n,r){var i,o,s,u=oe(),a=se(),c=(i=re.lFrame,o=i.bindingIndex,i.bindingIndex=i.bindingIndex+2,o);(a.firstUpdatePass&&function(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Ie()+20],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=re.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Mo(n=Ro(null,t,e,n,!0),e.attrs,!0),o=null);else{var s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ro(i,t,e,n,!0),null===o){var u=function(t,e,n){var r=e.classBindings;if(0!==Sr(r))return t[Tr(r)]}(t,e);void 0!==u&&Array.isArray(u)&&function(t,e,n,r){t[Tr(e.classBindings)]=r}(t,e,0,u=Mo(u=Ro(null,t,e,u[1],!0),e.attrs,!0))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Mo(r,t[o].hostAttrs,!0);return Mo(r,e.attrs,!0)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e),function(t,e,n,r,i,o){var s=e.classBindings,u=Tr(s),a=Sr(s);t[r]=n;var c,l=!1;if(Array.isArray(n)){var f=n;(null===(c=f[1])||mt(f,c)>0)&&(l=!0)}else c=n;if(i)if(0!==a){var h=Tr(t[u+1]);t[r+1]=Or(h,u),0!==h&&(t[h+1]=xr(t[h+1],r)),t[u+1]=131071&t[u+1]|r<<17}else t[r+1]=Or(u,0),0!==u&&(t[u+1]=xr(t[u+1],r)),u=r;else t[r+1]=Or(a,0),0===u?u=r:t[a+1]=xr(t[a+1],r),a=r;l&&(t[r+1]=Ar(t[r+1])),Do(t,c,r,!0),Do(t,c,r,!1),function(t,e,n,r,i){var o=t.residualClasses;null!=o&&"string"==typeof e&&mt(o,e)>=0&&(n[r+1]=jr(n[r+1]))}(e,c,t,r),s=Or(u,a),e.classBindings=s}(i,o,e,n,s)}}(a,t,c),e!==br&&vo(u,c,e))&&(null==n&&(s=function(){var t=re.lFrame;return null===t?null:t.currentSanitizer}())&&(n=s),function(t,e,n,r,i,o,s,u){if(3===e.type){var a=t.data,c=a[u+1];Fo(1==(1&c)?Lo(a,e,n,i,Sr(c),!0):void 0)||(Fo(o)||2==(2&c)&&(o=Lo(a,null,n,i,u,!0)),function(t,e,n,r,i){var o=Bt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Wt(Ie(),n),i,o))}}(a,a.data[Ie()+20],u,u[11],t,u[c+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=V(kn(t)))),t}(e,n),0,c))}(t,e,null),Vo}function Ro(t,e,n,r,i){var o=null,s=n.directiveEnd,u=n.directiveStylingLast;for(-1===u?u=n.directiveStart:u++;u<s&&(r=Mo(r,(o=e[u]).hostAttrs,i),o!==t);)u++;return null!==t&&(n.directiveStylingLast=u),r}function Mo(t,e,n){var r,i,o,s,u=n?1:2,a=-1;if(null!==e)for(var c=0;c<e.length;c++){var l=e[c];"number"==typeof l?a=l:a===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),r=t,i=l,o=!!n||e[++c],s=void 0,(s=mt(r,i))>=0?r[1|s]=o:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(r,s=~s,i,o))}return void 0===t?null:t}function Lo(t,e,n,r,i,o){for(var s=null===e,u=void 0;i>0;){var a=t[i],c=Array.isArray(a),l=c?a[1]:a,f=null===l,h=n[i+1];h===br&&(h=f?No:void 0);var d=f?gt(h,r):l===r?h:void 0;if(c&&!Fo(d)&&(d=gt(a,r)),Fo(d)&&(u=d,s))return u;var p=t[i+1];i=s?Tr(p):Sr(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(u=gt(v,r))}return u}function Fo(t){return void 0!==t}function Uo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=oe(),r=se(),i=t+20,o=r.firstCreatePass?Vr(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return Bt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Si(r,n,s,o),ce(o,!1)}function Ho(t){return qo("",t,""),Ho}function qo(t,e,n){var r=oe(),i=function(t,e,n,r){return vo(t,pe(),n)?e+ze(n)+r:br}(r,t,e,n);return i!==br&&function(t,e,n){var r=Wt(e,t),i=t[11];Bt(i)?i.setValue(r,n):r.textContent=n}(r,Ie(),i),qo}function Go(t,e){var n=Xt(t)[1],r=n.data.length-1;Ae(n,{directiveStart:r,directiveEnd:r+1})}function zo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Bo(t.inputs),o.declaredInputs=Bo(t.declaredInputs),o.outputs=Bo(t.outputs);var s=i.hostBindings;s&&Wo(t,s);var u=i.viewQuery,a=i.contentQueries;if(u&&Ko(t,u),a&&Jo(t,a),E(t.inputs,i.inputs),E(t.declaredInputs,i.declaredInputs),E(t.outputs,i.outputs),Ht(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=t.afterContentInit||i.afterContentInit,o.afterViewChecked=t.afterViewChecked||i.afterViewChecked,o.afterViewInit=t.afterViewInit||i.afterViewInit,o.doCheck=t.doCheck||i.doCheck,o.onDestroy=t.onDestroy||i.onDestroy,o.onInit=t.onInit||i.onInit}var l=i.features;if(l)for(var f=0;f<l.length;f++){var h=l[f];h&&h.ngInherit&&h(t),h===zo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Le(i.hostAttrs,n=Le(n,i.hostAttrs))}}(r)}function Bo(t){return t===wt?{}:t===kt?[]:t}function Ko(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Jo(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function Wo(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var Zo=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Yo(t){t.type.prototype.ngOnChanges&&(t.setInput=Qo,t.onChanges=function(){var t=Xo(this),e=t&&t.current;if(e){var n=t.previous;if(n===wt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}})}function Qo(t,e,n,r){var i=Xo(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:wt,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],a=s[u];o[u]=new Zo(a&&a.currentValue,e,s===wt),t[r]=e}function Xo(t){return t.__ngSimpleChanges__||null}function $o(t,e,n,r,i){if(t=F(t),Array.isArray(t))for(var o=0;o<t.length;o++)$o(t[o],e,n,r,i);else{var s=se(),u=oe(),a=to(t)?t:F(t.provide),c=Qi(t),l=ae(),f=65535&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>16;if(to(t)||!t.multi){var p=new Pe(c,i,mo),v=ns(a,e,i?f:f+d,h);-1===v?(en(Qe(l,u),s,a),ts(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),u.push(p)):(n[v]=p,u[v]=p)}else{var y=ns(a,e,f+d,h),g=ns(a,e,f,f+d),m=y>=0&&n[y],b=g>=0&&n[g];if(i&&!b||!i&&!m){en(Qe(l,u),s,a);var _=function(t,e,n,r,i){var o=new Pe(t,n,mo);return o.multi=[],o.index=e,o.componentProviders=0,es(o,i,r&&!n),o}(i?is:rs,n.length,i,r,c);!i&&b&&(n[g].providerFactory=_),ts(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(_),u.push(_)}else ts(s,t,y>-1?y:g,es(n[i?g:y],c,!i&&r));!i&&r&&b&&n[g].componentProviders++}}}function ts(t,e,n,r){var i=to(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var u=s.indexOf(n);-1===u?s.push(n,[r,o]):s[u+1].push(r,o)}else s.push(n,o)}}}function es(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ns(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function rs(t,e,n,r){return os(this.multi,[])}function is(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,u=sn(n,n[1],this.providerFactory.index,r);os(o,i=u.slice(0,s));for(var a=s;a<u.length;a++)i.push(u[a])}else os(o,i=[]);return i}function os(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function ss(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=se();if(r.firstCreatePass){var i=Ht(t);$o(n,r.data,r.blueprint,i,!0),$o(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}Yo.ngInherit=!0;var us=function t(){_classCallCheck(this,t)},as=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(V(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),cs=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new as,t}(),ls=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return fs(t)},t}(),fs=function(t){return Hi(t,ae(),oe())},hs=function t(){_classCallCheck(this,t)},ds=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),ps=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return vs()},t}(),vs=function(){var t=oe(),e=Qt(ae().index,t);return function(t){var e=t[11];if(Bt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Rt(e)?e:t)},ys=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=I({token:t,providedIn:"root",factory:function(){return null}}),t}(),gs=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},ms=new gs("9.1.13"),bs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return fo(t)}},{key:"create",value:function(t){return new ws(t)}}]),t}(),_s=function(t,e){return e},ws=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_s}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Is(n,r,i)?e:n,s=Is(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var a=s-r,c=u-r;if(a!=c){for(var l=0;l<a;l++){var f=l<i.length?i[l]:i[l]=0,h=f+l;c<=h&&h<a&&(i[l]=f+1)}i[o.previousIndex]=c-a}}s!==u&&t(o,s,u)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!fo(t))throw new Error("Error trying to diff '".concat(V(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var u=0;u<this.length;u++)r=t[u],i=this._trackByFn(u,r),null!==o&&co(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,u)),co(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,u),s=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[ao()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&co(o.trackById,i)?(s&&(o=e._verifyReinsertion(o,t,i,n)),co(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(co(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(co(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ks(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Es),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Es),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),ks=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Cs=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&co(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Es=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Cs,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function Is(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Os=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||ho(t)}},{key:"create",value:function(){return new Ts}}]),t}(),Ts=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||ho(t)))throw new Error("Error trying to diff '".concat(V(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new As(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){co(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),As=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Ss=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new b]]}}}]),t}();return t.\u0275prov=I({token:t,providedIn:"root",factory:function(){return new t([new bs])}}),t}(),xs=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new b]]}}}]),t}();return t.\u0275prov=I({token:t,providedIn:"root",factory:function(){return new t([new Os])}}),t}(),js=[new Os],Ns=new Ss([new bs]),Ds=new xs(js),Ps=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Vs(t,ls)},t}(),Vs=function(t,e){return function(t,e,n,r){return Mi||(Mi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Pr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Rr(e,n,t),new Fi(n)}}]),n}(t)),0===n.type?new Mi(r,n,Hi(e,n,r)):null}(t,e,ae(),oe())},Rs=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ms(t,ls)},t}(),Ms=function(t,e){return function(t,e,n,r){var i;Li||(Li=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,e,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var s=o.get(dt,null);s&&(i=s)}var u=t.create(o,r,void 0,i);return this.insert(u.hostView,e),u}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Mt(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],s=new Li(o,o[6],o[3]);s.detach(s.indexOf(t))}}var u=this._adjustIndex(e);return function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],vt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var s=e[17];null!==s&&n!==s&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);var u=e[19];null!==u&&u.insertView(t),e[2]|=128}(r,n,this._lContainer,u),bi(r,n,!0,xi(u,this._lContainer)),t.attachToViewContainerRef(this),vt(this._lContainer[8],u,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);!function(t,e){var n=wi(t,e);n&&ki(n[1],n)}(this._lContainer,e),yt(this._lContainer[8],e)}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=wi(this._lContainer,e);return n&&null!=yt(this._lContainer[8],e)?new Fi(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return Hi(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new cn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=tn(this._hostTNode,this._hostView),e=Ge(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=qe(t),s=e,u=e[6];o>1;)u=(s=s[15])[6],o--;return u}(t,this._hostView,this._hostTNode);return Ue(t)&&null!=n?new cn(n,e):new cn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(t));var o=r[n.index];if(Mt(o))i=o;else{var s;if(4===n.type)s=Jt(o);else if(s=r[11].createComment(""),qt(r)){var u=r[11],a=Zt(n,r);Ii(u,Ai(u,a),s,function(t,e){return Bt(t)?t.nextSibling(e):e.nextSibling}(u,a))}else Si(r[1],r,s,n);r[n.index]=i=ii(o,r,s,n),ui(r,i)}return new Li(i,n,r)}(t,e,ae(),oe())},Ls={},Fs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).ngModule=t,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(t){var e=Dt(t);return new qs(e,this.ngModule)}}]),n}(cs);function Us(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Hs=new tt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Ke}}),qs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(mr).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(t,e,n,r){var i,o,s=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,Ls,i);return o!==Ls||r===Ls?o:e.get(n,r,i)}}}(t,r.injector):t,u=s.get(hs,Kt),a=s.get(ys,null),c=u.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",f=n?function(t,e,n){if(Bt(t))return t.selectRootElement(e,n===_t.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Dr(l,u.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:Ke,clean:hi,playerHandler:null,flags:0},v=Gr(0,-1,null,1,0,null,null,null,null,null),y=Pr(null,v,p,h,null,null,u,c,a,s);be(y,null);try{var g=function(t,e,n,r,i,o){var s=n[1];n[20]=t;var u=Vr(s,null,0,3,null,null),a=u.mergedAttrs=e.hostAttrs;null!==a&&(so(u,a,!0),null!==t&&(Ve(i,t,a),null!==u.classes&&Vi(i,t,u.classes),null!==u.styles&&Pi(i,t,u.styles)));var c=r.createRenderer(t,e),l=Pr(n,qr(e),null,e.onPush?64:16,n[20],u,r,c,void 0);return s.firstCreatePass&&(en(Qe(u,n),s,e.type),Qr(s,u),$r(u,n.length,1)),ui(n,l),n[20]=l}(f,this.componentDef,y,u,c);if(f)if(n)Ve(c,f,["ng-version",ms.full]);else{var m=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!pr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),b=m.attrs,_=m.classes;b&&Ve(c,f,b),_&&_.length>0&&Vi(c,f,_.join(" "))}if(o=Yt(v,0),void 0!==e)for(var w=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var C=e[k];w.push(null!=C?Array.from(C):null)}i=function(t,e,n,r,i){var o=n[1],s=function(t,e,n){var r=ae();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Yr(t,r,1),ti(t,e,n));var i=sn(e,t,e.length-1,r);sr(i,e);var o=Zt(r,e);return o&&sr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach((function(t){return t(s,e)})),e.contentQueries&&e.contentQueries(1,s,n.length-1);var u=ae();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Oe(u.index-20);var a=n[1];Jr(a,e),Wr(a,n,e.hostVars),Zr(e,s)}return s}(g,this.componentDef,y,p,[Go]),Rr(v,y,null)}finally{Ee()}var E=new Gs(this.componentType,i,Hi(ls,o,y),y,o);return n&&!d||(v.node.child=o),E}},{key:"inputs",get:function(){return Us(this.componentDef.inputs)}},{key:"outputs",get:function(){return Us(this.componentDef.outputs)}}]),n}(us),Gs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,s){var u,a,c,l;return _classCallCheck(this,n),(u=e.call(this)).location=i,u._rootLView=o,u._tNode=s,u.destroyCbs=[],u.instance=r,u.hostView=u.changeDetectorRef=new Ui(o),a=o[1],c=o,null==(l=a.node)&&(a.node=l=zr(0,null,2,-1,null,null)),c[6]=l,u.componentType=t,u}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new cn(this._tNode,this._rootLView)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),zs=void 0,Bs=["en",[["a","p"],["AM","PM"],zs],[["AM","PM"],zs,zs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zs,"{1} 'at' {0}",zs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Ks={};function Js(t,e,n){"string"!=typeof e&&(n=e,e=t[Xs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ks[e]=t,n&&(Ks[e][Xs.ExtraData]=n)}function Ws(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=Qs(e);if(n)return n;var r=e.split("-")[0];if(n=Qs(r))return n;if("en"===r)return Bs;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function Zs(t){return Ws(t)[Xs.CurrencyCode]||null}function Ys(t){return Ws(t)[Xs.PluralCase]}function Qs(t){return t in Ks||(Ks[t]=K.ng&&K.ng.common&&K.ng.common.locales&&K.ng.common.locales[t]),Ks[t]}var Xs=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();function $s(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var tu=new Map,eu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new Fs(_assertThisInitialized(i));var o=Vt(t),s=t[Q]||null;return s&&$s(s),i._bootstrapComponents=Je(o.bootstrap),i._r3Injector=Wi(t,r,[{provide:dt,useValue:_assertThisInitialized(i)},{provide:cs,useValue:i.componentFactoryResolver}],V(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return _createClass(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:no.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;return t===no||t===dt||t===et?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(dt),nu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).moduleType=t,null!==Vt(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(V(e)," vs ").concat(V(e.name)))})(n,tu.get(n),e),tu.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return _createClass(n,[{key:"create",value:function(t){return new eu(this.moduleType,t)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}());function ru(t,e,n,r){return function(t,e,n,r,i,o){var s=e+n;return vo(t,s,i)?po(t,s+1,o?r.call(o,i):r(i)):ou(t,s+1)}(oe(),de(),t,e,n,r)}function iu(t,e,n,r,i){return function(t,e,n,r,i,o,s){var u=e+n;return function(t,e,n,r){var i=vo(t,e,n);return vo(t,e+1,r)||i}(t,u,i,o)?po(t,u+2,s?r.call(s,i,o):r(i,o)):ou(t,u+2)}(oe(),de(),t,e,n,r,i)}function ou(t,e){var n=t[e];return n===br?void 0:n}var su=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=r,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var o,s=function(t){return null},u=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(s=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(u=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(s=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(u=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var a=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,s,u);return t instanceof i.a&&t.add(a),a}}]),n}(r.a);function uu(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.Default,e=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Ft(t)){var r=Qt(t.index,e);return new Fi(r,r)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Fi(e[16],e):null}(ae(),oe(),t)}(!0);if(null!=e||t&k.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}var au=new tt("Application Initializer"),cu=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Oo(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(au,8))},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t}(),lu=new tt("AppId"),fu={provide:lu,useFactory:function(){return"".concat(hu()).concat(hu()).concat(hu())},deps:[]};function hu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var du=new tt("Platform Initializer"),pu=new tt("Platform ID"),vu=new tt("appBootstrapListener"),yu=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t}(),gu=new tt("LocaleId"),mu=new tt("DefaultCurrencyCode"),bu=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},_u=function(t){return new nu(t)},wu=_u,ku=function(t){return Promise.resolve(_u(t))},Cu=function(t){var e=_u(t),n=Je(Vt(t).declarations).reduce((function(t,e){var n=Dt(e);return n&&t.push(new qs(n)),t}),[]);return new bu(e,n)},Eu=Cu,Iu=function(t){return Promise.resolve(Cu(t))},Ou=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=wu,this.compileModuleAsync=ku,this.compileModuleAndAllComponentsSync=Eu,this.compileModuleAndAllComponentsAsync=Iu}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t}(),Tu=new tt("compilerOptions"),Au=Promise.resolve(0);function Su(t){"undefined"==typeof Zone?Au.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var xu=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,s=e.shouldCoalesceEventChangeDetection,u=void 0!==s&&s;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new su(!1),this.onMicrotaskEmpty=new su(!1),this.onStable=new su(!1),this.onError=new su(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=u,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=K.requestAnimationFrame,e=K.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(K,(function(){t.lastRequestAnimationFrameId=-1,Pu(t),Du(t)})),Pu(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,s,u){try{return Vu(n),t.invokeTask(i,o,s,u)}finally{r&&"eventTask"===o.type&&r(),Ru(n)}},onInvoke:function(t,e,r,i,o,s,u){try{return Vu(n),t.invoke(r,i,o,s,u)}finally{Ru(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Pu(n),Du(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Nu,ju,ju);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function ju(){}var Nu={};function Du(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Pu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Vu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ru(t){t._nesting--,Du(t)}var Mu=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new su,this.onMicrotaskEmpty=new su,this.onStable=new su,this.onError=new su}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Lu=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){xu.assertNotInAngularZone(),Su((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Su((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(xu))},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t}(),Fu=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,qu.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return qu.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t}();function Uu(t){qu=t}var Hu,qu=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Gu=function(t,e,n){var r=t.get(Tu,[]).concat(e),i=new nu(n);if(0===ro.size)return Promise.resolve(i);var o,s,u=(o=r.map((function(t){return t.providers})),s=[],o.forEach((function(t){return t&&s.push.apply(s,_toConsumableArray(t))})),s);if(0===u.length)return Promise.resolve(i);var a=function(){var t=K.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),c=no.create({providers:u}).get(a.ResourceLoader);return function(t){var e=[],n=new Map;function r(t){var e=n.get(t);if(!e){var r=function(t){return Promise.resolve(c.get(t))}(t);n.set(t,e=r.then(oo))}return e}return ro.forEach((function(t,n){var i=[];t.templateUrl&&i.push(r(t.templateUrl).then((function(e){t.template=e})));var o=t.styleUrls,s=t.styles||(t.styles=[]),u=t.styles.length;o&&o.forEach((function(e,n){s.push(""),i.push(r(e).then((function(r){s[u+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)})))}));var a=Promise.all(i).then((function(){return function(t){io.delete(t)}(n)}));e.push(a)})),ro=new Map,Promise.all(e).then((function(){}))}().then((function(){return i}))},zu=new tt("AllowMultipleToken"),Bu=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function Ku(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new tt(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Ju();if(!o||o.injector.get(zu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var s=n.concat(e).concat({provide:i,useValue:!0},{provide:qi,useValue:"platform"});!function(t){if(Hu&&!Hu.destroyed&&!Hu.injector.get(zu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Hu=t.get(Wu);var e=t.get(du,null);e&&e.forEach((function(t){return t()}))}(no.create({providers:s,name:r}))}return function(t){var e=Ju();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ju(){return Hu&&!Hu.destroyed?Hu:null}var Wu=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new Mu:("zone.js"===n?void 0:n)||new xu({enableLongStackTrace:Nn(),shouldCoalesceEventChangeDetection:r})),s=[{provide:xu,useValue:o}];return o.run((function(){var e=no.create({providers:s,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(vn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Xu(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((s=n.injector.get(cu)).runInitializers(),s.donePromise.then((function(){return $s(n.injector.get(gu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return Oo(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(u){throw e.runOutsideAngular((function(){return t.handleError(u)})),u}var s}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Zu({},n);return Gu(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Qu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(V(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(no))},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t}();function Zu(t,e){return Array.isArray(e)?e.reduce(Zu,t):Object.assign(Object.assign({},t),e)}var Yu,Qu=((Yu=function(){function t(e,n,r,i,u,c){var l=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=u,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Nn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var f=new o.a((function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){t.next(l._stable),t.complete()}))})),h=new o.a((function(t){var e;l._zone.runOutsideAngular((function(){e=l._zone.onStable.subscribe((function(){xu.assertNotInAngularZone(),Su((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){xu.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(s.a)(f,h.pipe((function(t){return a()((e=v,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof us?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(dt),o=n.create(no.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var s=o.injector.get(Lu,null);return s&&o.injector.get(Fu).registerApplication(o.location.nativeElement,s),this._loadComponent(o),Nn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(s){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(s)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Xu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(vu,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),Xu(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||Yu)(ct(xu),ct(yu),ct(no),ct(vn),ct(cs),ct(cu))},Yu.\u0275prov=I({token:Yu,factory:Yu.\u0275fac}),Yu);function Xu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var $u=function(t){return null},ta=Ku(null,"core",[{provide:pu,useValue:"unknown"},{provide:Wu,deps:[no]},{provide:Fu,deps:[]},{provide:yu,deps:[]}]),ea=[{provide:Qu,useClass:Qu,deps:[xu,yu,no,vn,cs,cu]},{provide:Hs,deps:[xu],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:cu,useClass:cu,deps:[[new b,au]]},{provide:Ou,useClass:Ou,deps:[]},fu,{provide:Ss,useFactory:function(){return Ns},deps:[]},{provide:xs,useFactory:function(){return Ds},deps:[]},{provide:gu,useFactory:function(t){return $s(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new m(gu),new b,new w]]},{provide:mu,useValue:"USD"}],na=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=At({type:t}),t.\u0275inj=O({factory:function(e){return new(e||t)(ct(Qu))},providers:ea}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a((function(n){var r=new i.a,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}]),t}(),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"h",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return f}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}a((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function f(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return f}));var r,i=n("7o/Q"),o=n("EY2u"),s=n("LRne"),u=n("HDdC"),a=((r=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new u.a((function(e){return e.error(t)}));case"C":return Object(o.a)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(t,e))}}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new f(t,this.scheduler,this.delay))}}]),t}(),f=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new h(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(i.a),h=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function h(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return f})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return a})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return h})),n.d(e,"o",(function(){return v}));var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function h(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return u().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return Object(r.c)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new y(i,u,r);return a},t}();function m(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r,i,o=n("DH7j"),s=n("XoHu"),u=n("n6bG"),a=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(u.a)(r))try{r.call(this)}catch(p){e=p instanceof a?l(p.errors):[p]}if(Object(o.a)(i))for(var f=-1,h=i.length;++f<h;){var d=i[f];if(Object(s.a)(d))try{d.unsubscribe()}catch(p){e=e||[],p instanceof a?e=e.concat(l(p.errors)):e.push(p)}}if(e)throw new a(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce((function(t,e){return t.concat(e instanceof a?e.errors:e)}),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return k}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),u=n("pxpQ"),a=n("fXoL"),c=n("Jgta");function l(){}var f=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),h=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)})),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout((function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)}),10)}}]),t}(),d=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new f(Zone.current)})),this.insideAngular=e.run((function(){return new f(Zone.current,i.a)}))};function p(t){return function(e){return(e=e.lift(new h(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(u.b)(t.insideAngular))}}var v=["ngOnDestroy"],y=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(i,o){return n.runOutsideAngular((function(){var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(v.indexOf(o)>-1)return function(){};var s=e.toPromise().then((function(t){var e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then((function(t){return n.run((function(){return t}))})):n.run((function(){return e}))}));return new Proxy((function(){}),{get:function(t,e){return s[e]},apply:function(t,e,n){return s.then((function(t){var e,i=t&&t.apply(void 0,_toConsumableArray(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i}))}})}))}})},g=function(t,e){e.forEach((function(e){Object.getOwnPropertyNames(e.prototype||e).forEach((function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))}))}))},m=new a.l("angularfire2.app.options"),b=new a.l("angularfire2.app.nameOrConfig"),_=new a.E("6.1.4");function w(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=c.a.apps.filter((function(t){return t&&t.name===i.name}))[0]||n.runOutsideAngular((function(){return c.a.initializeApp(e,i)}));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(s){}return o}var k=function(){C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(a.L)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function E(e,n,r,i,o){var s=_toArray(globalThis.\u0275AngularfireInstanceCache.get(e)||[]),u=s[0],a=s.slice(1);if(u){try{o.some((function(t,e){var n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n}))&&C("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(l){}return u}var c=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[c].concat(_toConsumableArray(o))),c}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var I={provide:function t(){_classCallCheck(this,t)},useFactory:w,deps:[m,a.s,[new a.t,b]]},O=function(){var t=function(){function t(e){_classCallCheck(this,t),c.a.registerVersion("angularfire",_.full,e.toString()),c.a.registerVersion("angular",a.D.full)}return _createClass(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}]),t}();return t.\u0275mod=a.yb({type:t}),t.\u0275inj=a.xb({factory:function(e){return new(e||t)(a.Gb(a.u))},providers:[I]}),t}()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("HDdC"),i=1,o=Promise.resolve(),s={};function u(t){return t in s&&(delete s[t],!0)}var a=function(t){var e=i++;return s[e]=!0,o.then((function(){return u(e)&&t()})),e},c=function(t){u(t)},l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=a(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(c(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),f=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(l),h=n("DH7j"),d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.delayTime=o,r.scheduler=s,i=o,(Object(h.a)(i)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),s&&"function"==typeof s.schedule||(r.scheduler=f),r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new v(t,e))}}var v=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new d(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new u(t,e,n))}}var u=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,s,u){var a;return _classCallCheck(this,n),(a=e.call(this,t))._tapNext=i,a._tapError=i,a._tapComplete=i,a._tapError=s||i,a._tapComplete=u||i,Object(o.a)(r)?(a._context=_assertThisInitialized(a),a._tapNext=r):r&&(a._context=r,a._tapNext=r.next||i,a._tapError=r.error||i,a._tapComplete=r.complete||i),a}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),u=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),f=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),h=new a.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,a=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",(function(){return a}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(f){r={error:f}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){h.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(s.c)(e,u))throw l.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&a.push("and"),s&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void h.warn(a.join(" "))}c(new u.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(u){var a,c,f=u.name;if(n.has(f))return h.debug("There were multiple attempts to register component "+f+"."),"PUBLIC"===u.type?r[f]:null;if(n.set(f,u),"PUBLIC"===u.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[f])throw l.create("invalid-app-argument",{appName:f});return t[f]()};void 0!==u.serviceProps&&Object(s.f)(d,u.serviceProps),r[f]=d,t.prototype[f]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,f);return n.apply(this,u.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(u)}catch(y){a={error:y}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(a)throw a.error}}return"PUBLIC"===u.type?r[f]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),g.apply(void 0,t)};var m=p;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(m),e.a=m},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL"),i={apiKey:"AIzaSyDTp1X4aRMOWX8UMANV_U-qxKGUVU2haOQ",authDomain:"firechat-ab8a6.firebaseapp.com",projectId:"firechat-ab8a6",storageBucket:"firechat-ab8a6.appspot.com",messagingSenderId:"453304786263",appId:"1:453304786263:web:85fed252ac1970caf43212"},o=null;function s(){return o}var u,a,c,l,f=new r.l("DocumentToken"),h=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),d=r.db,p=function t(){_classCallCheck(this,t)},v=((a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).locale=t,r}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(d(e||this.locale)(t)){case h.Zero:return"zero";case h.One:return"one";case h.Two:return"two";case h.Few:return"few";case h.Many:return"many";default:return"other"}}}]),n}(p)).\u0275fac=function(t){return new(t||a)(r.Gb(r.p))},a.\u0275prov=r.wb({token:a,factory:a.\u0275fac}),a),y=((u=function(){function t(e,n,r,i){_classCallCheck(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.mb)(t.item));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}},{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.gb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),t}()).\u0275fac=function(t){return new(t||u)(r.Ab(r.n),r.Ab(r.o),r.Ab(r.h),r.Ab(r.w))},u.\u0275dir=r.vb({type:u,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),u),g=function(){function t(e,n,r,i){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),m=((c=function(){function t(e,n,r){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(rv){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new g(null,e._ngForOf,-1,-1),null===i?void 0:i),s=new b(t,o);n.push(s)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var u=e._viewContainer.get(r);e._viewContainer.move(u,i);var a=new b(t,u);n.push(a)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Object(r.L)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||c)(r.Ab(r.F),r.Ab(r.B),r.Ab(r.n))},c.\u0275dir=r.vb({type:c,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),c),b=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},_=((l=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new w,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){k("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){k("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||l)(r.Ab(r.F),r.Ab(r.B))},l.\u0275dir=r.vb({type:l,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),l),w=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function k(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(r.mb)(e),"'."))}var C,E=((C=function t(){_classCallCheck(this,t)}).\u0275mod=r.yb({type:C}),C.\u0275inj=r.xb({factory:function(t){return new(t||C)},providers:[{provide:p,useClass:v}]}),C);function I(t){return"server"===t}var O,T,A,S,x=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=j||(j=document.querySelector("base"))?j.getAttribute("href"):null;return null==n?null:(e=n,O||(O=document.createElement("a")),O.setAttribute("href",e),"/"===O.pathname.charAt(0)?O.pathname:"/"+O.pathname)}},{key:"resetBaseElement",value:function(){j=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return function(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),s=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),u=s[0],a=s[1];if(u.trim()===e)return decodeURIComponent(a)}}catch(c){r.e(c)}finally{r.f()}return null}(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,o||(o=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())),j=null,N=new r.l("TRANSITION_ID"),D=[{provide:r.b,useFactory:function(t,e,n){return function(){n.get(r.c).donePromise.then((function(){var n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[N,f,r.m],multi:!0}],P=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){r.fb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.fb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},r.fb.getAllAngularRootElements=function(){return t.getAllRootElements()},r.fb.frameworkStabilizers||(r.fb.frameworkStabilizers=[]),r.fb.frameworkStabilizers.push((function(t){var e=r.fb.getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.N)(new t)}}]),t}(),V=new r.l("EventManagerPlugins"),R=((T=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||T)(r.Gb(V),r.Gb(r.s))},T.\u0275prov=r.wb({token:T,factory:T.\u0275fac}),T),M=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),L=((S=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||S)},S.\u0275prov=r.wb({token:S,factory:S.\u0275fac}),S),F=((A=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return s().remove(t)}))}}]),n}(L)).\u0275fac=function(t){return new(t||A)(r.Gb(f))},A.\u0275prov=r.wb({token:A,factory:A.\u0275fac}),A),U={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},H=/%COMP%/g;function q(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?q(t,i,n):(i=i.replace(H,t),n.push(i))}return n}function G(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var z,B,K,J,W=((z=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Z(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.G.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Y(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.G.Native:case r.G.ShadowDom:return new Q(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=q(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||z)(r.Gb(R),r.Gb(F),r.Gb(r.a))},z.\u0275prov=r.wb({token:z,factory:z.\u0275fac}),z),Z=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(U[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=U[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=U[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&r.y.DashCase?t.style.setProperty(e,n,i&r.y.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&r.y.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,G(n)):this.eventManager.addEventListener(t,e,G(n))}}]),t}(),Y=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;_classCallCheck(this,n),(s=e.call(this,t)).component=i;var u,a=q(o+"-"+i.id,i.styles,[]);return r.addStyles(a),s.contentAttr="_ngcontent-%COMP%".replace(H,o+"-"+i.id),s.hostAttr=(u=o+"-"+i.id,"_nghost-%COMP%".replace(H,u)),s}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Z),Q=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,s){var u;_classCallCheck(this,n),(u=e.call(this,t)).sharedStylesHost=i,u.hostEl=o,u.component=s,u.shadowRoot=s.encapsulation===r.G.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),u.sharedStylesHost.addHost(u.shadowRoot);for(var a=q(s.id,s.styles,[]),c=0;c<a.length;c++){var l=document.createElement("style");l.textContent=a[c],u.shadowRoot.appendChild(l)}return u}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Z),X=((B=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(M)).\u0275fac=function(t){return new(t||B)(r.Gb(f))},B.\u0275prov=r.wb({token:B,factory:B.\u0275fac}),B),$=["alt","control","meta","shift"],tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},et={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},nt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},rt=((K=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return s().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if($.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&et.hasOwnProperty(e)&&(e=et[e]))}return tt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),$.forEach((function(r){r!=n&&(0,nt[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(M)).\u0275fac=function(t){return new(t||K)(r.Gb(f))},K.\u0275prov=r.wb({token:K,factory:K.\u0275fac}),K),it=[{provide:r.u,useValue:"browser"},{provide:r.v,useValue:function(){x.makeCurrent(),P.init()},multi:!0},{provide:f,useFactory:function(){return Object(r.lb)(document),document},deps:[]}],ot=Object(r.I)(r.M,"browser",it),st=[[],{provide:r.P,useValue:"root"},{provide:r.i,useFactory:function(){return new r.i},deps:[]},{provide:V,useClass:X,multi:!0,deps:[f,r.s,r.u]},{provide:V,useClass:rt,multi:!0,deps:[f]},[],{provide:W,useClass:W,deps:[R,F,r.a]},{provide:r.x,useExisting:W},{provide:L,useExisting:F},{provide:F,useClass:F,deps:[f]},{provide:r.C,useClass:r.C,deps:[r.s]},{provide:R,useClass:R,deps:[V,r.s]},[]],ut=((J=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:r.a,useValue:e.appId},{provide:N,useExisting:r.a},D]}}}]),t}()).\u0275mod=r.yb({type:J}),J.\u0275inj=r.xb({factory:function(t){return new(t||J)(r.Gb(J,12))},providers:st,imports:[E,r.d]}),J);"undefined"!=typeof window&&window;var at=n("HDdC"),ct=n("DH7j"),lt=n("lJxs"),ft=n("XoHu"),ht=n("Cfvw");function dt(t,e){return new at.a((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,s=0,u=function(u){var a=Object(ht.a)(t[u]),c=!1;n.add(a.subscribe({next:function(t){c||(c=!0,s++),i[u]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(s===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},a=0;a<r;a++)u(a);else n.complete()}))}var pt,vt,yt,gt,mt=new r.l("NgValueAccessor"),bt={provide:mt,useExisting:Object(r.K)((function(){return _t})),multi:!0},_t=((pt=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||pt)(r.Ab(r.w),r.Ab(r.h))},pt.\u0275dir=r.vb({type:pt,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Jb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.qb([bt])]}),pt),wt={provide:mt,useExisting:Object(r.K)((function(){return Ct})),multi:!0},kt=new r.l("CompositionEventMode"),Ct=((gt=function(){function t(e,n,r){var i;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=s()?s().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||gt)(r.Ab(r.w),r.Ab(r.h),r.Ab(kt,8))},gt.\u0275dir=r.vb({type:gt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Jb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.qb([wt])]}),gt),Et=((yt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||yt)},yt.\u0275dir=r.vb({type:yt}),yt),It=((vt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Et)).\u0275fac=function(t){return Ot(t||vt)},vt.\u0275dir=r.vb({type:vt,features:[r.ob]}),vt),Ot=r.Fb(It);function Tt(){throw new Error("unimplemented")}var At,St=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _createClass(n,[{key:"validator",get:function(){return Tt()}},{key:"asyncValidator",get:function(){return Tt()}}]),n}(Et),xt=((At=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}())).\u0275fac=function(t){return new(t||At)(r.Ab(St,2))},At.\u0275dir=r.vb({type:At,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.tb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.ob]}),At);function jt(t){return null==t||0===t.length}var Nt=new r.l("NgValidators"),Dt=new r.l("NgAsyncValidators"),Pt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Vt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(jt(e.value)||jt(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(jt(e.value)||jt(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return jt(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return jt(t.value)||Pt.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(jt(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(jt(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(Rt);return 0==e.length?null:function(t){return Lt(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(Rt);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(Object(ct.a)(r))return dt(r,null);if(Object(ft.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return dt(i.map((function(t){return r[t]})),i)}}if("function"==typeof e[e.length-1]){var o=e.pop();return dt(e=1===e.length&&Object(ct.a)(e[0])?e[0]:e,null).pipe(Object(lt.a)((function(t){return o.apply(void 0,_toConsumableArray(t))})))}return dt(e,null)}(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(Mt)).pipe(Object(lt.a)(Lt))}}}]),t}();function Rt(t){return null!=t}function Mt(t){var e=Object(r.ib)(t)?Object(ht.a)(t):t;if(!Object(r.hb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Lt(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function Ft(t){return t.validate?function(e){return t.validate(e)}:t}function Ut(t){return t.validate?function(e){return t.validate(e)}:t}var Ht,qt,Gt,zt,Bt,Kt,Jt={provide:mt,useExisting:Object(r.K)((function(){return Wt})),multi:!0},Wt=((Ht=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Ht)(r.Ab(r.w),r.Ab(r.h))},Ht.\u0275dir=r.vb({type:Ht,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Jb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.qb([Jt])]}),Ht),Zt={provide:mt,useExisting:Object(r.K)((function(){return Qt})),multi:!0},Yt=((Gt=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||Gt)},Gt.\u0275prov=r.wb({token:Gt,factory:Gt.\u0275fac}),Gt),Qt=((qt=function(){function t(e,n,r,i){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(St),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()).\u0275fac=function(t){return new(t||qt)(r.Ab(r.w),r.Ab(r.h),r.Ab(Yt),r.Ab(r.m))},qt.\u0275dir=r.vb({type:qt,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Jb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.qb([Zt])]}),qt),Xt={provide:mt,useExisting:Object(r.K)((function(){return $t})),multi:!0},$t=((zt=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||zt)(r.Ab(r.w),r.Ab(r.h))},zt.\u0275dir=r.vb({type:zt,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Jb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.qb([Xt])]}),zt),te='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',ee='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ne={provide:mt,useExisting:Object(r.K)((function(){return re})),multi:!0},re=((Bt=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.jb}return _createClass(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||Bt)(r.Ab(r.w),r.Ab(r.h))},Bt.\u0275dir=r.vb({type:Bt,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Jb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.qb([ne])]}),Bt),ie={provide:mt,useExisting:Object(r.K)((function(){return oe})),multi:!0},oe=((Kt=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.jb}return _createClass(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var s=i.item(o),u=e._getOptionValue(s.value);r.push(u)}else for(var a=n.options,c=0;c<a.length;c++){var l=a.item(c);if(l.selected){var f=e._getOptionValue(l.value);r.push(f)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||Kt)(r.Ab(r.w),r.Ab(r.h))},Kt.\u0275dir=r.vb({type:Kt,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Jb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.qb([ie])]}),Kt);function se(t,e){return[].concat(_toConsumableArray(e.path),[t])}function ue(t,e){t||ce(e,"Cannot find control with"),e.valueAccessor||ce(e,"No value accessor for form control with"),t.validator=Vt.compose([t.validator,e.validator]),t.asyncValidator=Vt.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ae(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ae(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function ae(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ce(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function le(t){return null!=t?Vt.compose(t.map(Ft)):null}function fe(t){return null!=t?Vt.composeAsync(t.map(Ut)):null}var he=[_t,$t,Wt,re,oe,Qt];function de(t){var e=ve(t)?t.validators:t;return Array.isArray(e)?le(e):e||null}function pe(t,e){var n=ve(e)?e.asyncValidators:t;return Array.isArray(n)?fe(n):n||null}function ve(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var ye,ge,me,be,_e,we,ke=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=de(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=pe(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=Mt(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof Ee?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ie&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new r.j,this.statusChanges=new r.j}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){ve(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),Ce=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,de(i),pe(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(ke),Ee=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,de(r),pe(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof Ce?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(r,i){n=n||e.contains(i)&&t(r)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(ke),Ie=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,de(r),pe(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof Ce?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(ke),Oe={provide:It,useExisting:Object(r.K)((function(){return Ae}))},Te=Promise.resolve(null),Ae=((ge=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new r.j,o.form=new Ee({},le(t),fe(i)),o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;Te.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),ue(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;Te.then((function(){var n,r,i,o=e._findContainer(t.path);o&&o.removeControl(t.name),n=e._directives,r=t,(i=n.indexOf(r))>-1&&n.splice(i,1)}))}},{key:"addFormGroup",value:function(t){var e=this;Te.then((function(){var n=e._findContainer(t.path),r=new Ee({});(function(t,e){null==t&&ce(e,"Cannot find control with"),t.validator=Vt.compose([t.validator,e.validator]),t.asyncValidator=Vt.composeAsync([t.asyncValidator,e.asyncValidator])})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;Te.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;Te.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})),this.ngSubmit.emit(t),!1;var e}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(It)).\u0275fac=function(t){return new(t||ge)(r.Ab(Nt,10),r.Ab(Dt,10))},ge.\u0275dir=r.vb({type:ge,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Jb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.qb([Oe]),r.ob]}),ge),Se=((ye=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return se(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return le(this._validators)}},{key:"asyncValidator",get:function(){return fe(this._asyncValidators)}}]),n}(It)).\u0275fac=function(t){return xe(t||ye)},ye.\u0275dir=r.vb({type:ye,features:[r.ob]}),ye),xe=r.Fb(Se),je=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(te,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(ee))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(te,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(ee))}}]),t}(),Ne={provide:It,useExisting:Object(r.K)((function(){return De}))},De=((me=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof Ae||je.modelGroupParentException()}}]),n}(Se)).\u0275fac=function(t){return new(t||me)(r.Ab(It,5),r.Ab(Nt,10),r.Ab(Dt,10))},me.\u0275dir=r.vb({type:me,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r.qb([Ne]),r.ob]}),me),Pe={provide:St,useExisting:Object(r.K)((function(){return Re}))},Ve=Promise.resolve(null),Re=((we=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,s){var u;return _classCallCheck(this,n),(u=e.call(this)).control=new Ce,u._registered=!1,u.update=new r.j,u._parent=t,u._rawValidators=i||[],u._rawAsyncValidators=o||[],u.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||ce(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach((function(e){var o;e.constructor===Ct?n=e:(o=e,he.some((function(t){return o.constructor===t}))?(r&&ce(t,"More than one built-in value accessor matches form control with"),r=e):(i&&ce(t,"More than one custom value accessor matches form control with"),i=e))})),i||r||n||(ce(t,"No valid value accessor for form control with"),null)}(_assertThisInitialized(u),s),u}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(r.jb)(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){ue(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof De)&&this._parent instanceof Se?je.formGroupNameException():this._parent instanceof De||this._parent instanceof Ae||je.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||je.missingNameException()}},{key:"_updateValue",value:function(t){var e=this;Ve.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Ve.then((function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()}))}},{key:"path",get:function(){return this._parent?se(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return le(this._rawValidators)}},{key:"asyncValidator",get:function(){return fe(this._rawAsyncValidators)}}]),n}(St)).\u0275fac=function(t){return new(t||we)(r.Ab(It,9),r.Ab(Nt,10),r.Ab(Dt,10),r.Ab(mt,10))},we.\u0275dir=r.vb({type:we,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.qb([Pe]),r.ob,r.pb]}),we),Me=((_e=function t(){_classCallCheck(this,t)}).\u0275mod=r.yb({type:_e}),_e.\u0275inj=r.xb({factory:function(t){return new(t||_e)}}),_e),Le=((be=function t(){_classCallCheck(this,t)}).\u0275mod=r.yb({type:be}),be.\u0275inj=r.xb({factory:function(t){return new(t||be)},providers:[Yt],imports:[Me]}),be),Fe=n("spgP"),Ue=n("D0XW"),He=n("LRne"),qe=n("bHdf");function Ge(){return Object(qe.a)(1)(Object(He.a).apply(void 0,arguments))}var ze=n("z+Ro");function Be(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(ze.a)(r)?(e.pop(),function(t){return Ge(e,t,r)}):function(t){return Ge(e,t)}}var Ke=n("7o/Q");function Je(){return function(t){return t.lift(new We)}}var We=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ze(t))}}]),t}(),Ze=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).hasPrev=!1,r}return _createClass(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(Ke.a);function Ye(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Qe(t,e,n))}}var Qe=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Xe(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Xe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,t)).accumulator=r,s._seed=i,s.hasSeed=o,s.index=0,s}return _createClass(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(Ke.a),$e=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new tn(t,this.compare,this.keySelector))}}]),t}(),tn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(Ke.a);function en(t,e){return function(n){return n.lift(new nn(t,e))}}var nn=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new rn(t,this.predicate,this.thisArg))}}]),t}(),rn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(Ke.a),on=n("pxpQ"),sn=n("Jgta"),un=n("zIRd"),an=n("q/0M"),cn=n("qOnz"),ln=function(t,e){return(ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function fn(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var hn,dn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pn=pn||{},vn=dn||self;function yn(){}function gn(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function mn(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var bn="closure_uid_"+(1e9*Math.random()>>>0),_n=0;function wn(t,e,n){return t.call.apply(t.bind,arguments)}function kn(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Cn(t,e,n){return(Cn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wn:kn).apply(null,arguments)}function En(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function In(){return Date.now()}function On(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Tn(){this.j=this.j,this.i=this.i}Tn.prototype.j=!1,Tn.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,bn)&&t[bn]||(t[bn]=++_n)}(this)},Tn.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var An=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Sn=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function xn(t){return Array.prototype.concat.apply([],arguments)}function jn(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Nn(t){return/^[\s\xa0]*$/.test(t)}var Dn,Pn=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Vn(t,e){return-1!=t.indexOf(e)}function Rn(t,e){return t<e?-1:t>e?1:0}t:{var Mn=vn.navigator;if(Mn){var Ln=Mn.userAgent;if(Ln){Dn=Ln;break t}}Dn=""}function Fn(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Un(t){var e={};for(var n in t)e[n]=t[n];return e}var Hn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qn(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Hn.length;o++)n=Hn[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Gn(t){return Gn[" "](t),t}Gn[" "]=yn;var zn,Bn,Kn=Vn(Dn,"Opera"),Jn=Vn(Dn,"Trident")||Vn(Dn,"MSIE"),Wn=Vn(Dn,"Edge"),Zn=Wn||Jn,Yn=Vn(Dn,"Gecko")&&!(Vn(Dn.toLowerCase(),"webkit")&&!Vn(Dn,"Edge"))&&!(Vn(Dn,"Trident")||Vn(Dn,"MSIE"))&&!Vn(Dn,"Edge"),Qn=Vn(Dn.toLowerCase(),"webkit")&&!Vn(Dn,"Edge");function Xn(){var t=vn.document;return t?t.documentMode:void 0}t:{var $n="",tr=(Bn=Dn,Yn?/rv:([^\);]+)(\)|;)/.exec(Bn):Wn?/Edge\/([\d\.]+)/.exec(Bn):Jn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bn):Qn?/WebKit\/(\S+)/.exec(Bn):Kn?/(?:Version)[ \/]?(\S+)/.exec(Bn):void 0);if(tr&&($n=tr?tr[1]:""),Jn){var er=Xn();if(null!=er&&er>parseFloat($n)){zn=String(er);break t}}zn=$n}var nr={};function rr(t){return function(t,e){var n=nr;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Pn(String(zn)).split("."),r=Pn(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=Rn(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||Rn(0==s[2].length,0==u[2].length)||Rn(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e}))}var ir=vn.document&&Jn&&(Xn()||parseInt(zn,10))||void 0,or=!Jn||9<=Number(ir),sr=Jn&&!rr("9"),ur=function(){if(!vn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{vn.addEventListener("test",yn,e),vn.removeEventListener("test",yn,e)}catch(n){}return t}();function ar(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function cr(t,e){if(ar.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Yn){t:{try{Gn(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:lr[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ar.prototype.b=function(){this.defaultPrevented=!0},On(cr,ar);var lr={2:"touch",3:"pen",4:"mouse"};cr.prototype.b=function(){cr.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,sr)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var fr="closure_listenable_"+(1e6*Math.random()|0),hr=0;function dr(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++hr,this.Y=this.Z=!1}function pr(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function vr(t){this.src=t,this.a={},this.b=0}function yr(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=An(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(pr(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function gr(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}vr.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=gr(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new dr(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var mr="closure_lm_"+(1e6*Math.random()|0),br={};function _r(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Ar(r),e&&e[fr]?e.wa(n,r,mn(i)?!!i.capture:!!i,o):wr(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)_r(t,e[o],n,r,i);return null}return n=Ar(n),t&&t[fr]?t.va(e,n,mn(r)?!!r.capture:!!r,i):wr(t,e,n,!1,r,i)}function wr(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=mn(i)?!!i.capture:!!i;if(s&&!or)return null;var u=Or(t);if(u||(t[mr]=u=new vr(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Ir,e=or?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ur||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Cr(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function kr(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[fr])yr(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Cr(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Or(e))?(yr(n,t),0==n.b&&(n.src=null,e[mr]=null)):pr(t)}}}function Cr(t){return t in br?br[t]:br[t]="on"+t}function Er(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&kr(t),n.call(r,e)}function Ir(t,e){if(t.Y)return!0;if(!or){if(!e)t:{e=["window","event"];for(var n=vn,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Er(t,e=new cr(e,this))}return Er(t,new cr(e,this))}function Or(t){return(t=t[mr])instanceof vr?t:null}var Tr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ar(t){return"function"==typeof t?t:(t[Tr]||(t[Tr]=function(e){return t.handleEvent(e)}),t[Tr])}function Sr(){Tn.call(this),this.c=new vr(this),this.J=this,this.C=null}function xr(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ar(e,t);else if(e instanceof ar)e.target=e.target||t;else{var i=e;qn(e=new ar(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=jr(s,r,!0,e)&&i}if(i=jr(s=e.a=t,r,!0,e)&&i,i=jr(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=jr(s=e.a=n[o],r,!1,e)&&i}function jr(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&yr(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}On(Sr,Tn),Sr.prototype[fr]=!0,(hn=Sr.prototype).addEventListener=function(t,e,n,r){_r(this,t,e,n,r)},hn.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=mn(i)?!!i.capture:!!i,r=Ar(r),e&&e[fr]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=gr(s=e.a[n],r,i,o))&&(pr(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Or(e))&&(n=e.a[n.toString()],e=-1,n&&(e=gr(n,r,i,o)),(r=-1<e?n[e]:null)&&kr(r))}(this,t,e,n,r)},hn.G=function(){if(Sr.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)pr(n[r]);delete e.a[t],e.b--}}this.C=null},hn.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},hn.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Nr=vn.JSON.stringify;function Dr(){this.b=this.a=null}var Pr,Vr=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Mr}),(function(t){t.reset()}));function Rr(){var t=Hr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Mr(){this.next=this.b=this.a=null}function Lr(t){vn.setTimeout((function(){throw t}),0)}function Fr(t,e){Pr||function(){var t=vn.Promise.resolve(void 0);Pr=function(){t.then(qr)}}(),Ur||(Pr(),Ur=!0),Hr.add(t,e)}Dr.prototype.add=function(t,e){var n=Vr.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Mr.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Mr.prototype.reset=function(){this.next=this.b=this.a=null};var Ur=!1,Hr=new Dr;function qr(){for(var t;t=Rr();){try{t.a.call(t.b)}catch(n){Lr(n)}var e=Vr;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ur=!1}function Gr(t,e){Sr.call(this),this.b=t||1,this.a=e||vn,this.f=Cn(this.Za,this),this.g=In()}function zr(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Br(t,e,n){if("function"==typeof t)n&&(t=Cn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Cn(t.handleEvent,t)}return 2147483647<Number(e)?-1:vn.setTimeout(t,e||0)}function Kr(t){t.a=Br((function(){t.a=null,t.c&&(t.c=!1,Kr(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}On(Gr,Sr),(hn=Gr.prototype).aa=!1,hn.M=null,hn.Za=function(){if(this.aa){var t=In()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),xr(this,"tick"),this.aa&&(zr(this),this.start()))}},hn.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=In())},hn.G=function(){Gr.X.G.call(this),zr(this),delete this.a};var Jr=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ln(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Kr(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(vn.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Tn);function Wr(t){Tn.call(this),this.b=t,this.a={}}On(Wr,Tn);var Zr=[];function Yr(t,e,n,r){Array.isArray(n)||(n&&(Zr[0]=n.toString()),n=Zr);for(var i=0;i<n.length;i++){var o=_r(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Qr(t){Fn(t.a,(function(t,e){this.a.hasOwnProperty(e)&&kr(t)}),t),t.a={}}function Xr(){this.a=!0}function $r(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Nr(n)}catch(u){return e}}(t,n)+(r?" "+r:"")}))}Wr.prototype.G=function(){Wr.X.G.call(this),Qr(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xr.prototype.info=function(){};var ti={},ei=null;function ni(){return ei=ei||new Sr}function ri(t){ar.call(this,ti.Fa,t)}function ii(t){var e=ni();xr(e,new ri(e,t))}function oi(t,e){ar.call(this,ti.STAT_EVENT,t),this.stat=e}function si(t){var e=ni();xr(e,new oi(e,t))}function ui(t){ar.call(this,ti.Ga,t)}function ai(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return vn.setTimeout((function(){t()}),e)}ti.Fa="serverreachability",On(ri,ar),ti.STAT_EVENT="statevent",On(oi,ar),ti.Ga="timingevent",On(ui,ar);var ci={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},li={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function fi(){}function hi(){}fi.prototype.a=null;var di,pi={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function vi(){ar.call(this,"d")}function yi(){ar.call(this,"c")}function gi(){}function mi(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Wr(this),this.P=bi,this.R=new Gr(t=Zn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}On(vi,ar),On(yi,ar),On(gi,fi),di=new gi;var bi=45e3,_i={},wi={};function ki(t,e,n){t.H=1,t.i=zi(Li(e)),t.j=n,t.I=!0,Ci(t,null)}function Ci(t,e){t.u=In(),Oi(t),t.l=Li(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),ro(n.b,"t",r),t.D=0,t.a=Xo(t.g,t.g.C?e:null),0<t.O&&(t.F=new Jr(Cn(t.Ca,t,t.a),t.O)),Yr(t.J,t.a,"readystatechange",t.Xa),e=t.B?Un(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ii(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");s=2<=f.length&&"type"==f[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ei(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ii(t,n);if(i==wi){4==e&&(t.h=4,si(14),r=!1),$r(t.c,t.f,null,"[Incomplete Response]");break}if(i==_i){t.h=4,si(15),$r(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}$r(t.c,t.f,i,null),ji(t,i)}4==e&&0==n.length&&(t.h=1,si(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),zo(e),e.F=!0,si(11))):($r(t.c,t.f,n,"[Invalid Chunked Response]"),xi(t),Si(t))}function Ii(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?wi:(n=Number(e.substring(n,r)),isNaN(n)?_i:(r+=1)+n>e.length?wi:(e=e.substr(r,n),t.D=r+n,e))}function Oi(t){t.T=In()+t.P,Ti(t,t.P)}function Ti(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ai(Cn(t.Va,t),e)}function Ai(t){t.o&&(vn.clearTimeout(t.o),t.o=null)}function Si(t){0==t.g.v||t.A||Jo(t.g,t)}function xi(t){Ai(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,zr(t.R),Qr(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ji(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||lo(n.b,t)))if(n.I=t.N,!t.C&&lo(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Pv){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ko(n),Vo(n)}Go(n),si(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ai(Cn(n.Sa,n),6e3));if(1>=co(n.b)&&n.ea){try{n.ea()}catch(Pv){}n.ea=void 0}}else Zo(n,11)}else if((t.C||n.a==t)&&Ko(n),!Nn(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=a.b;!f.a&&(Vn(l,"spdy")||Vn(l,"quic")||Vn(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(fo(f,f.b),f.b=null))}if(a.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(a.na=h,Gi(a.B,a.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=In()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=Qo(a,a.C?a.ga:null,a.fa),d.C){ho(a.b,d);var p=d,v=a.D;v&&p.setTimeout(v),p.o&&(Ai(p),Oi(p)),a.a=d}else qo(a);0<n.g.length&&Lo(n)}else"stop"!=i[0]&&"close"!=i[0]||Zo(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Zo(n,7):Po(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ii(4)}catch(Pv){}}function Ni(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(gn(t)||"string"==typeof t)Sn(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(gn(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(gn(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Di(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Di)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Pi(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Vi(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Vi(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Vi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(hn=mi.prototype).setTimeout=function(t){this.P=t},hn.Xa=function(t){t=t.target;var e=this.F;e&&3==xo(t)?e.f():this.Ca(t)},hn.Ca=function(t){try{if(t==this.a)t:{var e=xo(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Zn&&!this.a.$())){this.A||4!=e||7==n||ii(8==n||0>=r?3:2),Ai(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nn(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,si(12),xi(this),Si(this);break t}$r(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ji(this,a)}this.I?(Ei(this,e,o),Zn&&this.b&&3==e&&(Yr(this.J,this.R,"tick",this.Wa),this.R.start())):($r(this.c,this.f,o,null),ji(this,o)),4==e&&xi(this),this.b&&!this.A&&(4==e?Jo(this.g,this):(this.b=!1,Oi(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,si(12)):(this.h=0,si(13)),xi(this),Si(this)}}}catch(c){}},hn.Wa=function(){if(this.a){var t=xo(this.a),e=this.a.$();this.D<e.length&&(Ai(this),Ei(this,t,e),this.b&&4!=t&&Oi(this))}},hn.cancel=function(){this.A=!0,xi(this)},hn.Va=function(){this.o=null;var t=In();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(ii(3),si(17)),xi(this),this.h=2,Si(this)):Ti(this,this.T-t)},(hn=Di.prototype).K=function(){Pi(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},hn.L=function(){return Pi(this),this.a.concat()},hn.get=function(t,e){return Vi(this.b,t)?this.b[t]:e},hn.set=function(t,e){Vi(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},hn.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ri=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mi(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Mi){this.a=void 0!==e?e:t.a,Fi(this,t.f),this.j=t.j,Ui(this,t.c),Hi(this,t.h),this.g=t.g,e=t.b;var n=new $i;n.c=e.c,e.a&&(n.a=new Di(e.a),n.b=e.b),qi(this,n),this.i=t.i}else t&&(n=String(t).match(Ri))?(this.a=!!e,Fi(this,n[1]||"",!0),this.j=Bi(n[2]||""),Ui(this,n[3]||"",!0),Hi(this,n[4]),this.g=Bi(n[5]||"",!0),qi(this,n[6]||"",!0),this.i=Bi(n[7]||"")):(this.a=!!e,this.b=new $i(null,this.a))}function Li(t){return new Mi(t)}function Fi(t,e,n){t.f=n?Bi(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ui(t,e,n){t.c=n?Bi(e,!0):e}function Hi(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function qi(t,e,n){e instanceof $i?(t.b=e,function(t,e){e&&!t.f&&(to(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(eo(this,e),ro(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ki(e,Qi)),t.b=new $i(e,t.a))}function Gi(t,e,n){t.b.set(e,n)}function zi(t){return Gi(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^In()).toString(36)),t}function Bi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ki(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ji),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ji(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Mi.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ki(e,Wi,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ki(e,Wi,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ki(n,"/"==n.charAt(0)?Yi:Zi,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ki(n,Xi)),t.join("")};var Wi=/[#\/\?@]/g,Zi=/[#\?:]/g,Yi=/[#\?]/g,Qi=/[#\?@]/g,Xi=/#/g;function $i(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function to(t){t.a||(t.a=new Di,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function eo(t,e){to(t),e=io(t,e),Vi(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Vi((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Pi(t)))}function no(t,e){return to(t),e=io(t,e),Vi(t.a.b,e)}function ro(t,e,n){eo(t,e),0<n.length&&(t.c=null,t.a.set(io(t,e),jn(n)),t.b+=n.length)}function io(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(hn=$i.prototype).add=function(t,e){to(this),this.c=null,t=io(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},hn.forEach=function(t,e){to(this),this.a.forEach((function(n,r){Sn(n,(function(n){t.call(e,n,r,this)}),this)}),this)},hn.L=function(){to(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},hn.K=function(t){to(this);var e=[];if("string"==typeof t)no(this,t)&&(e=xn(e,this.a.get(io(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=xn(e,t[n])}return e},hn.set=function(t,e){return to(this),this.c=null,no(this,t=io(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},hn.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},hn.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var oo=function(t,e){this.b=t,this.a=e};function so(t){this.g=t||uo,t=vn.PerformanceNavigationTiming?0<(t=vn.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(vn.ia&&vn.ia.ya&&vn.ia.ya()&&vn.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var uo=10;function ao(t){return!!t.b||!!t.a&&t.a.size>=t.f}function co(t){return t.b?1:t.a?t.a.size:0}function lo(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function fo(t,e){t.a?t.a.add(e):t.b=e}function ho(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function po(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=fn(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return jn(t.c)}function vo(){}function yo(){this.a=new vo}function go(t,e,n){var r=n||"";try{Ni(t,(function(t,n){var i=t;mn(t)&&(i=Nr(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(wy){throw e.push(r+"type="+encodeURIComponent("_badmap")),wy}}function mo(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}so.prototype.cancel=function(){var t,e;if(this.c=po(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=fn(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},vo.prototype.stringify=function(t){return vn.JSON.stringify(t,void 0)},vo.prototype.parse=function(t){return vn.JSON.parse(t,void 0)};var bo=vn.JSON.parse;function _o(t){Sr.call(this),this.headers=new Di,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=wo,this.D=this.F=!1}On(_o,Sr);var wo="",ko=/^https?$/i,Co=["POST","PUT"];function Eo(t){return"content-type"==t.toLowerCase()}function Io(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Oo(t),Ao(t)}function Oo(t){t.u||(t.u=!0,xr(t,"complete"),xr(t,"error"))}function To(t){if(t.b&&void 0!==pn&&(!t.s[1]||4!=xo(t)||2!=t.W()))if(t.l&&4==xo(t))Br(t.za,0,t);else if(xr(t,"readystatechange"),4==xo(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ri)[1]||null;if(!o&&vn.self&&vn.self.location){var s=vn.self.location.protocol;o=s.substr(0,s.length-1)}i=!ko.test(o?o.toLowerCase():"")}e=i}if(e)xr(t,"complete"),xr(t,"success");else{t.h=6;try{var u=2<xo(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",Oo(t)}}finally{Ao(t)}}}function Ao(t,e){if(t.a){So(t);var n=t.a,r=t.s[0]?yn:null;t.a=null,t.s=null,e||xr(t,"ready");try{n.onreadystatechange=r}catch(wy){}}}function So(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(vn.clearTimeout(t.m),t.m=null)}function xo(t){return t.a?t.a.readyState:0}function jo(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Fn(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Gi(t,e,n))}function No(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Do(t){this.pa=0,this.g=[],this.c=new Xr,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=No("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=No("baseRetryDelayMs",5e3,t),this.Ra=No("retryDelaySeedMs",1e4,t),this.Ma=No("forwardChannelMaxRetries",2,t),this.ma=No("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new so(t&&t.concurrentRequestLimit),this.ka=new yo,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Po(t){if(Ro(t),3==t.v){var e=t.R++,n=Li(t.B);Gi(n,"SID",t.J),Gi(n,"RID",e),Gi(n,"TYPE","terminate"),Uo(t,n),(e=new mi(t,t.c,e,void 0)).H=2,e.i=zi(Li(n)),n=!1,vn.navigator&&vn.navigator.sendBeacon&&(n=vn.navigator.sendBeacon(e.i.toString(),"")),!n&&vn.Image&&((new Image).src=e.i,n=!0),n||(e.a=Xo(e.g,null),e.a.ba(e.i)),e.u=In(),Oi(e)}Yo(t)}function Vo(t){t.a&&(zo(t),t.a.cancel(),t.a=null)}function Ro(t){Vo(t),t.j&&(vn.clearTimeout(t.j),t.j=null),Ko(t),t.b.cancel(),t.h&&("number"==typeof t.h&&vn.clearTimeout(t.h),t.h=null)}function Mo(t,e){t.g.push(new oo(t.Oa++,e)),3==t.v&&Lo(t)}function Lo(t){ao(t.b)||t.h||(t.h=!0,Fr(t.Ba,t),t.u=0)}function Fo(t,e){var n;n=e?e.f:t.R++;var r=Li(t.B);Gi(r,"SID",t.J),Gi(r,"RID",n),Gi(r,"AID",t.P),Uo(t,r),t.i&&t.l&&jo(r,t.i,t.l),n=new mi(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ho(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),fo(t.b,n),ki(n,r,e)}function Uo(t,e){t.f&&Ni({},(function(t,n){Gi(e,n,t)}))}function Ho(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Cn(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{go(l,s,"req"+c+"_")}catch(Ps){r&&r(l)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function qo(t){t.a||t.j||(t.T=1,Fr(t.Aa,t),t.o=0)}function Go(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=ai(Cn(t.Aa,t),Wo(t,t.o)),t.o++,0))}function zo(t){null!=t.s&&(vn.clearTimeout(t.s),t.s=null)}function Bo(t){t.a=new mi(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Li(t.la);Gi(e,"RID","rpc"),Gi(e,"SID",t.J),Gi(e,"CI",t.H?"0":"1"),Gi(e,"AID",t.P),Uo(t,e),Gi(e,"TYPE","xmlhttp"),t.i&&t.l&&jo(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=zi(Li(e)),n.j=null,n.I=!0,Ci(n,t)}function Ko(t){null!=t.m&&(vn.clearTimeout(t.m),t.m=null)}function Jo(t,e){var n=null;if(t.a==e){Ko(t),zo(t),t.a=null;var r=2}else{if(!lo(t.b,e))return;n=e.s,ho(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=In()-e.u;var i=t.u;xr(r=ni(),new ui(r,n,e,i)),Lo(t)}else qo(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(co(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=ai(Cn(t.Ba,t,e),Wo(t,t.u)),t.u++,0)))}(t,e)||2==r&&Go(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Zo(t,5);break;case 4:Zo(t,10);break;case 3:Zo(t,6);break;default:Zo(t,2)}}function Wo(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Zo(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Cn(t.Ya,t);n||(n=new Mi("//www.google.com/images/cleardot.gif"),vn.location&&"http"==vn.location.protocol||Fi(n,"https"),zi(n)),function(t,e){var n=new Xr;if(vn.Image){var r=new Image;r.onload=En(mo,n,r,"TestLoadImage: loaded",!0,e),r.onerror=En(mo,n,r,"TestLoadImage: error",!1,e),r.onabort=En(mo,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=En(mo,n,r,"TestLoadImage: timeout",!1,e),vn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else si(2);t.v=0,t.f&&t.f.ra(e),Yo(t),Ro(t)}function Yo(t){t.v=0,t.I=-1,t.f&&(0==po(t.b).length&&0==t.g.length||(t.b.c.length=0,jn(t.g),t.g.length=0),t.f.qa())}function Qo(t,e,n){var r=function(t){return t instanceof Mi?Li(t):new Mi(t,void 0)}(n);if(""!=r.c)e&&Ui(r,e+"."+r.c),Hi(r,r.h);else{var i=vn.location;r=function(t,e,n,r){var i=new Mi(null,void 0);return t&&Fi(i,t),e&&Ui(i,e),n&&Hi(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Fn(t.V,(function(t,e){Gi(r,e,t)})),n=t.na,(e=t.A)&&n&&Gi(r,e,n),Gi(r,"VER",t.ha),Uo(t,r),r}function Xo(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _o(t.Na)).F=t.C,e}function $o(){}function ts(){if(Jn&&!(10<=Number(ir)))throw Error("Environmental error: no available transport.")}function es(t,e){Sr.call(this),this.a=new Do(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Nn(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nn(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new is(this)}function ns(t){vi.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function rs(){yi.call(this),this.status=1}function is(t){this.a=t}(hn=_o.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:di),this.a.onreadystatechange=Cn(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Io(this,o)}t=n||"";var i=new Di(this.headers);r&&Ni(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Eo,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=vn.FormData&&t instanceof vn.FormData,!(0<=An(Co,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{So(this),0<this.o&&((this.D=function(t){return Jn&&rr(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Cn(this.xa,this)):this.m=Br(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Io(this,o)}},hn.xa=function(){void 0!==pn&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,xr(this,"timeout"),this.abort(8))},hn.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,xr(this,"complete"),xr(this,"abort"),Ao(this))},hn.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ao(this,!0)),_o.X.G.call(this)},hn.za=function(){this.j||(this.A||this.l||this.g?To(this):this.Ua())},hn.Ua=function(){To(this)},hn.W=function(){try{return 2<xo(this)?this.a.status:-1}catch(Bn){return-1}},hn.$=function(){try{return this.a?this.a.responseText:""}catch(Bn){return""}},hn.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),bo(e)}},hn.ua=function(){return this.h},hn.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(hn=Do.prototype).ha=8,hn.v=1,hn.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new mi(this,this.c,t,void 0),r=this.l;if(this.O&&(r?qn(r=Un(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ho(this,n,e),Gi(i=Li(this.B),"RID",t),Gi(i,"CVER",22),this.A&&Gi(i,"X-HTTP-Session-Id",this.A),Uo(this,i),this.i&&r&&jo(i,this.i,r),fo(this.b,n),this.Ia&&Gi(i,"TYPE","init"),this.da?(Gi(i,"$req",e),Gi(i,"SID","null"),n.U=!0,ki(n,i,null)):ki(n,i,e),this.v=2}}else 3==this.v&&(t?Fo(this,t):0==this.g.length||ao(this.b)||Fo(this))},hn.Aa=function(){if(this.j=null,Bo(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ai(Cn(this.Ta,this),t)}},hn.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,si(10),Vo(this),Bo(this))},hn.Sa=function(){null!=this.m&&(this.m=null,Vo(this),Go(this),si(19))},hn.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),si(2)):(this.c.info("Failed to ping google.com"),si(1))},(hn=$o.prototype).ta=function(){},hn.sa=function(){},hn.ra=function(){},hn.qa=function(){},hn.Ja=function(){},ts.prototype.a=function(t,e){return new es(t,e)},On(es,Sr),es.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;si(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Qo(t,null,t.fa),Lo(t)},es.prototype.close=function(){Po(this.a)},es.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Mo(this.a,e)}else this.l?((e={}).__data__=Nr(t),Mo(this.a,e)):Mo(this.a,t)},es.prototype.G=function(){this.a.f=null,delete this.f,Po(this.a),delete this.a,es.X.G.call(this)},On(ns,vi),On(rs,yi),On(is,$o),is.prototype.ta=function(){xr(this.a,"a")},is.prototype.sa=function(t){xr(this.a,new ns(t))},is.prototype.ra=function(t){xr(this.a,new rs(t))},is.prototype.qa=function(){xr(this.a,"b")},ts.prototype.createWebChannel=ts.prototype.a,es.prototype.send=es.prototype.h,es.prototype.open=es.prototype.g,es.prototype.close=es.prototype.close,ci.NO_ERROR=0,ci.TIMEOUT=8,ci.HTTP_ERROR=6,li.COMPLETE="complete",hi.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",Sr.prototype.listen=Sr.prototype.va,_o.prototype.listenOnce=_o.prototype.wa,_o.prototype.getLastError=_o.prototype.Qa,_o.prototype.getLastErrorCode=_o.prototype.ua,_o.prototype.getStatus=_o.prototype.W,_o.prototype.getResponseJson=_o.prototype.Pa,_o.prototype.getResponseText=_o.prototype.$,_o.prototype.send=_o.prototype.ba;var os=ci,ss=li,us=ti,as=hi,cs=_o,ls=n("mrSG"),fs=new an.b("@firebase/firestore");function hs(){return fs.logLevel}function ds(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(fs.logLevel<=an.a.DEBUG){var r=e.map(ys);fs.debug.apply(fs,Object(ls.g)(["Firestore (8.2.1): "+t],r))}}function ps(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(fs.logLevel<=an.a.ERROR){var r=e.map(ys);fs.error.apply(fs,Object(ls.g)(["Firestore (8.2.1): "+t],r))}}function vs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(fs.logLevel<=an.a.WARN){var r=e.map(ys);fs.warn.apply(fs,Object(ls.g)(["Firestore (8.2.1): "+t],r))}}function ys(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(wy){return t}}function gs(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t;throw ps(e),new Error(e)}function ms(t,e){t||gs()}function bs(t,e){return t}function _s(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ws=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=_s(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ks(t,e){return t<e?-1:t>e?1:0}function Cs(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Es(t){return t+"\0"}var Is=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return ks(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Is.h=new Is("");var Os={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ts=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(ls.c)(e,t),e}(Error),As=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Is.fromBase64String(e))}catch(e){throw new Ts(Os.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Is.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Ss=function(t){this._=t};function xs(){if("undefined"==typeof Uint8Array)throw new Ts(Os.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function js(){if("undefined"==typeof atob)throw new Ts(Os.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ns=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ls.c)(e,t),e.fromBase64String=function(t){return js(),new e(As.fromBase64String(t))},e.fromUint8Array=function(t){return xs(),new e(As.fromUint8Array(t))},e.prototype.toBase64=function(){return js(),this._.toBase64()},e.prototype.toUint8Array=function(){return xs(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Ss),Ds=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},Ps=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Vs=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Vs.UNAUTHENTICATED=new Vs(null),Vs.P=new Vs("google-credentials-uid"),Vs.g=new Vs("first-party-uid");var Rs=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Ms=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Vs.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Ls=function(){function t(t){var e=this;this.C=null,this.currentUser=Vs.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.F!==e?(ds("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ms("string"==typeof n.accessToken),new Rs(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return ms(null===t||"string"==typeof t),new Vs(t)},t}(),Fs=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Vs.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Us=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Fs(this.k,this.M))},t.prototype.S=function(t){t(Vs.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Hs=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Hs.U=-1;var qs=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ts(Os.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ts(Os.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ts(Os.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ts(Os.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?ks(this.nanoseconds,t.nanoseconds):ks(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Gs=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new qs(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),zs=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&gs(),void 0===n?n=t.length-e:n>t.length-e&&gs(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Bs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ls.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Ts(Os.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(zs),Ks=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Js=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ls.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Ks.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ts(Os.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new Ts(Os.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new Ts(Os.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new Ts(Os.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(zs),Ws=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Bs.ct(e))},t.dt=function(e){return new t(Bs.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Bs.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Bs.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Bs(e.slice()))},t}();function Zs(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ys(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qs(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Xs=function(){function t(t){this.fields=t,t.sort(Js.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Cs(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),$s=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tu(t){if(ms(!!t),"string"==typeof t){var e=0,n=$s.exec(t);if(ms(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:eu(t.seconds),nanos:eu(t.nanos)}}function eu(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function nu(t){return"string"==typeof t?Is.fromBase64String(t):Is.fromUint8Array(t)}function ru(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function iu(t){var e=tu(t.mapValue.fields.__local_write_time__.timestampValue);return new qs(e.seconds,e.nanos)}function ou(t){return null==t}function su(t){return 0===t&&1/t==-1/0}function uu(t){return"number"==typeof t&&Number.isInteger(t)&&!su(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function au(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ru(t)?4:10:gs()}function cu(t,e){var n=au(t);if(n!==au(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return iu(t).isEqual(iu(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=tu(t.timestampValue),r=tu(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return nu(t.bytesValue).isEqual(nu(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return eu(t.geoPointValue.latitude)===eu(e.geoPointValue.latitude)&&eu(t.geoPointValue.longitude)===eu(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return eu(t.integerValue)===eu(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=eu(t.doubleValue),r=eu(e.doubleValue);return n===r?su(n)===su(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Cs(t.arrayValue.values||[],e.arrayValue.values||[],cu);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Zs(n)!==Zs(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cu(n[i],r[i])))return!1;return!0}(t,e);default:return gs()}}function lu(t,e){return void 0!==(t.values||[]).find((function(t){return cu(t,e)}))}function fu(t,e){var n=au(t),r=au(e);if(n!==r)return ks(n,r);switch(n){case 0:return 0;case 1:return ks(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=eu(t.integerValue||t.doubleValue),r=eu(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return hu(t.timestampValue,e.timestampValue);case 4:return hu(iu(t),iu(e));case 5:return ks(t.stringValue,e.stringValue);case 6:return function(t,e){var n=nu(t),r=nu(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ks(n[i],r[i]);if(0!==o)return o}return ks(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ks(eu(t.latitude),eu(e.latitude));return 0!==n?n:ks(eu(t.longitude),eu(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=fu(n[i],r[i]);if(o)return o}return ks(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=ks(r[s],o[s]);if(0!==u)return u;var a=fu(n[r[s]],i[o[s]]);if(0!==a)return a}return ks(r.length,o.length)}(t.mapValue,e.mapValue);default:throw gs()}}function hu(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ks(t,e);var n=tu(t),r=tu(e),i=ks(n.seconds,r.seconds);return 0!==i?i:ks(n.nanos,r.nanos)}function du(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=tu(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?nu(e.bytesValue).toBase64():"referenceValue"in e?Ws.dt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):gs();var n}(t)}function pu(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function vu(t){return!!t&&"integerValue"in t}function yu(t){return!!t&&"arrayValue"in t}function gu(t){return!!t&&"nullValue"in t}function mu(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bu(t){return!!t&&"mapValue"in t}var _u=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!bu(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return cu(this.proto,t.proto)},t}(),wu=function(){function t(t){void 0===t&&(t=_u.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===au(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Js.at(),this.Rt);return null!=t?new _u(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=bu(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function ku(t){var e=[];return Ys(t.fields||{},(function(t,n){var r=new Js([t]);if(bu(n)){var i=ku(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Xs(e)}var Cu=function(t,e){this.key=t,this.version=e},Eu=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(ls.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Cu),Iu=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(ls.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Cu),Ou=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ls.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Cu),Tu=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function Au(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Tu(t,e,n,r,i,o,s)}function Su(t){var e=bs(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+du(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),ou(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=qu(e.startAt)),e.endAt&&(n+="|ub:",n+=qu(e.endAt)),e.St=n}return e.St}function xu(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!zu(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!cu(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ku(t.startAt,e.startAt)&&Ku(t.endAt,e.endAt)}function ju(t){return Ws.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Nu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(ls.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Du(t,n,r):"array-contains"===n?new Mu(t,r):"in"===n?new Lu(t,r):"not-in"===n?new Fu(t,r):"array-contains-any"===n?new Uu(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Pu(t,n):new Vu(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(fu(e,this.value)):null!==e&&au(this.value)===au(e)&&this.Ct(fu(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return gs()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Du=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ws.dt(r.referenceValue),i}return Object(ls.c)(e,t),e.prototype.matches=function(t){var e=Ws.J(t.key,this.key);return this.Ct(e)},e}(Nu),Pu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ru(0,n),r}return Object(ls.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Nu),Vu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ru(0,n),r}return Object(ls.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Nu);function Ru(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Ws.dt(t.referenceValue)}))}var Mu=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(ls.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return yu(e)&&lu(e.arrayValue,this.value)},e}(Nu),Lu=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(ls.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&lu(this.value.arrayValue,e)},e}(Nu),Fu=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(ls.c)(e,t),e.prototype.matches=function(t){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!lu(this.value.arrayValue,e)},e}(Nu),Uu=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(ls.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!yu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return lu(e.value.arrayValue,t)}))},e}(Nu),Hu=function(t,e){this.position=t,this.before=e};function qu(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return du(t)})).join(",")}var Gu=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function zu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Bu(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?Ws.J(Ws.dt(s.referenceValue),n.key):fu(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ku(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!cu(t.position[n],e.position[n]))return!1;return!0}var Ju=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.Ft=null,this.Ot=null};function Wu(t,e,n,r,i,o,s,u){return new Ju(t,e,n,r,i,o,s,u)}function Zu(t){return new Ju(t)}function Yu(t){return!ou(t.limit)&&"F"===t.limitType}function Qu(t){return!ou(t.limit)&&"L"===t.limitType}function Xu(t){return t.Nt.length>0?t.Nt[0].field:null}function $u(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function ta(t){return null!==t.collectionGroup}function ea(t){var e=bs(t);if(null===e.Ft){e.Ft=[];var n=$u(e),r=Xu(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new Gu(n)),e.Ft.push(new Gu(Js.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var u=s[o];e.Ft.push(u),u.field.ht()&&(i=!0)}if(!i){var a=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new Gu(Js.lt(),a))}}}return e.Ft}function na(t){var e=bs(t);if(!e.Ot)if("F"===e.limitType)e.Ot=Au(e.path,e.collectionGroup,ea(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ea(e);r<i.length;r++){var o=i[r];n.push(new Gu(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Hu(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Hu(e.startAt.position,!e.startAt.before):null;e.Ot=Au(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.Ot}function ra(t,e,n){return new Ju(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ia(t,e){return xu(na(t),na(e))&&t.limitType===e.limitType}function oa(t){return Su(na(t))+"|lt:"+t.limitType}function sa(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+du(e.value);var e})).join(", ")+"]"),ou(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+qu(t.startAt)),t.endAt&&(e+=", endAt: "+qu(t.endAt)),"Target("+e+")"}(na(t))+"; limitType="+t.limitType+")"}function ua(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Ws.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Bu(t.startAt,ea(t),e)||t.endAt&&Bu(t.endAt,ea(t),e))}(t,e)}function aa(t){return function(e,n){for(var r=!1,i=0,o=ea(t);i<o.length;i++){var s=o[i],u=ca(s,e,n);if(0!==u)return u;r=r||s.field.ht()}return 0}}function ca(t,e,n){var r=t.field.ht()?Ws.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?fu(r,i):gs()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return gs()}}var la=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Gs.min()),void 0===o&&(o=Gs.min()),void 0===s&&(s=Is.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function fa(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:su(e)?"-0":e}}function ha(t){return{integerValue:""+t}}function da(t,e){return uu(e)?ha(e):fa(t,e)}var pa=function(){this.Ut=void 0};function va(t,e,n){return t instanceof ma?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ba?_a(t,e):t instanceof wa?ka(t,e):function(t,e){var n=ga(t,e),r=Ea(n)+Ea(t.Qt);return vu(n)&&vu(t.Qt)?ha(r):fa(t.Kt,r)}(t,e)}function ya(t,e,n){return t instanceof ba?_a(t,e):t instanceof wa?ka(t,e):n}function ga(t,e){return t instanceof Ca?vu(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ma=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ls.c)(e,t),e}(pa),ba=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ls.c)(e,t),e}(pa);function _a(t,e){for(var n=Ia(e),r=function(t){n.some((function(e){return cu(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var wa=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ls.c)(e,t),e}(pa);function ka(t,e){for(var n=Ia(e),r=function(t){n=n.filter((function(e){return!cu(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ca=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(ls.c)(e,t),e}(pa);function Ea(t){return eu(t.integerValue||t.doubleValue)}function Ia(t){return yu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Oa=function(t,e){this.field=t,this.transform=e},Ta=function(t,e){this.version=t,this.transformResults=e},Aa=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Sa(t,e){return void 0!==t.updateTime?e instanceof Eu&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Eu}var xa=function(){};function ja(t,e,n){return t instanceof Ra?function(t,e,n){var r=t.value;if(n.transformResults){var i=Fa(t.fieldTransforms,e,n.transformResults);r=Ha(t.fieldTransforms,r,i)}return new Eu(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ma?function(t,e,n){if(!Sa(t.Gt,e))return new Ou(t.key,n.version);var r=La(t,e,n.transformResults?Fa(t.fieldTransforms,e,n.transformResults):[]);return new Eu(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Iu(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Na(t,e,n,r){return t instanceof Ra?function(t,e,n,r){if(!Sa(t.Gt,e))return e;var i=t.value;if(t.fieldTransforms){var o=Ua(t.fieldTransforms,n,e,r);i=Ha(t.fieldTransforms,i,o)}var s=Va(e);return new Eu(t.key,s,i,{bt:!0})}(t,e,r,n):t instanceof Ma?function(t,e,n,r){if(!Sa(t.Gt,e))return e;var i=Va(e),o=La(t,e,Ua(t.fieldTransforms,n,e,r));return new Eu(t.key,i,o,{bt:!0})}(t,e,r,n):function(t,e){return Sa(t.Gt,e)?new Iu(t.key,Gs.min()):e}(t,e)}function Da(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Eu?e.field(o.field):void 0,u=ga(o.transform,s||null);null!=u&&(n=null==n?(new wu).set(o.field,u):n.set(o.field,u))}return n?n.yt():null}(t.fieldTransforms,e):null}function Pa(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Cs(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ba&&e instanceof ba||t instanceof wa&&e instanceof wa?Cs(t.elements,e.elements,cu):t instanceof Ca&&e instanceof Ca?cu(t.Qt,e.Qt):t instanceof ma&&e instanceof ma}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Va(t){return t instanceof Eu?t.version:Gs.min()}var Ra=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(ls.c)(e,t),e}(xa),Ma=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(ls.c)(e,t),e}(xa);function La(t,e,n){var r;return r=function(t,e){var n=new wu(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof Eu?e.data():_u.empty()),Ha(t.fieldTransforms,r,n)}function Fa(t,e,n){var r=[];ms(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof Eu&&(u=e.field(o.field)),r.push(ya(s,u,n[i]))}return r}function Ua(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var u=s[o],a=u.transform,c=null;n instanceof Eu&&(c=n.field(u.field)),null===c&&r instanceof Eu&&(c=r.field(u.field)),i.push(va(a,c,e))}return i}function Ha(t,e,n){for(var r=new wu(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var qa,Ga,za=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(ls.c)(e,t),e}(xa),Ba=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(ls.c)(e,t),e}(xa),Ka=function(t){this.count=t};function Ja(t){switch(t){case Os.OK:return gs();case Os.CANCELLED:case Os.UNKNOWN:case Os.DEADLINE_EXCEEDED:case Os.RESOURCE_EXHAUSTED:case Os.INTERNAL:case Os.UNAVAILABLE:case Os.UNAUTHENTICATED:return!1;case Os.INVALID_ARGUMENT:case Os.NOT_FOUND:case Os.ALREADY_EXISTS:case Os.PERMISSION_DENIED:case Os.FAILED_PRECONDITION:case Os.ABORTED:case Os.OUT_OF_RANGE:case Os.UNIMPLEMENTED:case Os.DATA_LOSS:return!0;default:return gs()}}function Wa(t){if(void 0===t)return ps("GRPC error has no .code"),Os.UNKNOWN;switch(t){case qa.OK:return Os.OK;case qa.CANCELLED:return Os.CANCELLED;case qa.UNKNOWN:return Os.UNKNOWN;case qa.DEADLINE_EXCEEDED:return Os.DEADLINE_EXCEEDED;case qa.RESOURCE_EXHAUSTED:return Os.RESOURCE_EXHAUSTED;case qa.INTERNAL:return Os.INTERNAL;case qa.UNAVAILABLE:return Os.UNAVAILABLE;case qa.UNAUTHENTICATED:return Os.UNAUTHENTICATED;case qa.INVALID_ARGUMENT:return Os.INVALID_ARGUMENT;case qa.NOT_FOUND:return Os.NOT_FOUND;case qa.ALREADY_EXISTS:return Os.ALREADY_EXISTS;case qa.PERMISSION_DENIED:return Os.PERMISSION_DENIED;case qa.FAILED_PRECONDITION:return Os.FAILED_PRECONDITION;case qa.ABORTED:return Os.ABORTED;case qa.OUT_OF_RANGE:return Os.OUT_OF_RANGE;case qa.UNIMPLEMENTED:return Os.UNIMPLEMENTED;case qa.DATA_LOSS:return Os.DATA_LOSS;default:return gs()}}(Ga=qa||(qa={}))[Ga.OK=0]="OK",Ga[Ga.CANCELLED=1]="CANCELLED",Ga[Ga.UNKNOWN=2]="UNKNOWN",Ga[Ga.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ga[Ga.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ga[Ga.NOT_FOUND=5]="NOT_FOUND",Ga[Ga.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ga[Ga.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ga[Ga.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ga[Ga.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ga[Ga.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ga[Ga.ABORTED=10]="ABORTED",Ga[Ga.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ga[Ga.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ga[Ga.INTERNAL=13]="INTERNAL",Ga[Ga.UNAVAILABLE=14]="UNAVAILABLE",Ga[Ga.DATA_LOSS=15]="DATA_LOSS";var Za=function(){function t(t,e){this.J=t,this.root=e||Qa.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Qa.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Qa.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new Ya(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new Ya(this.root,t,this.J,!1)},t.prototype.se=function(){return new Ya(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new Ya(this.root,t,this.J,!0)},t}(),Ya=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Qa=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw gs();if(this.right._e())throw gs();var t=this.left.me();if(t!==this.right.me())throw gs();return t+(this._e()?0:1)},t}();Qa.EMPTY=null,Qa.RED=!0,Qa.Jt=!1,Qa.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw gs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw gs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw gs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw gs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw gs()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Qa(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Xa=function(){function t(t){this.J=t,this.data=new Za(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new $a(this.data.ee())},t.prototype.ne=function(t){return new $a(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),$a=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),tc=new Za(Ws.J);function ec(){return tc}function nc(){return ec()}var rc=new Za(Ws.J);function ic(){return rc}var oc=new Za(Ws.J);function sc(){return oc}var uc=new Xa(Ws.J);function ac(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=uc,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var cc=new Xa(ks);function lc(){return cc}var fc=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Ws.J(e.key,n.key)}:function(t,e){return Ws.J(t.key,e.key)},this.Ve=ic(),this.pe=new Za(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),hc=function(){function t(){this.ve=new Za(Ws.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):gs():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),dc=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=u}return t.Fe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,fc.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&ia(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),pc=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,vc.Be(e,n)),new t(Gs.min(),r,lc(),ec(),ac())},t}(),vc=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Is.h,n,ac(),ac(),ac())},t}(),yc=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},gc=function(t,e){this.targetId=t,this.Ge=e},mc=function(t,e,n,r){void 0===n&&(n=Is.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},bc=function(){function t(){this.ze=0,this.He=kc(),this.Je=Is.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=ac(),e=ac(),n=ac();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:gs()}})),new vc(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=kc()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),_c=function(){function t(t){this.hn=t,this.ln=new Map,this._n=ec(),this.fn=wc(),this.dn=new Xa(ks)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof Eu?this.En(r,t.je):t.je instanceof Iu&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:gs()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(ju(i))if(0===n){var o=new Ws(i.path);this.Tn(e,o,new Iu(o,Gs.min()))}else ms(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&ju(o.target)){var s=new Ws(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new Iu(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=ac();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new pc(t,n,this.dn,this._n,r);return this._n=ec(),this.fn=wc(),this.dn=new Xa(ks),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new bc,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Xa(ks),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||ds("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new bc),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function wc(){return new Za(Ws.J)}function kc(){return new Za(Ws.J)}var Cc={asc:"ASCENDING",desc:"DESCENDING"},Ec={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ic=function(t,e){this.T=t,this.qt=e};function Oc(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tc(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Ac(t,e){return Oc(t,e.G())}function Sc(t){return ms(!!t),Gs.W(function(t){var e=tu(t);return new qs(e.seconds,e.nanos)}(t))}function xc(t,e){return function(t){return new Bs(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function jc(t){var e=Bs.ct(t);return ms(tl(e)),e}function Nc(t,e){return xc(t.T,e.path)}function Dc(t,e){var n=jc(e);if(n.get(1)!==t.T.projectId)throw new Ts(Os.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Ts(Os.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Ws(Mc(n))}function Pc(t,e){return xc(t.T,e)}function Vc(t){var e=jc(t);return 4===e.length?Bs.at():Mc(e)}function Rc(t){return new Bs(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Mc(t){return ms(t.length>4&&"documents"===t.get(4)),t.X(5)}function Lc(t,e,n){return{name:Nc(t,e),fields:n.proto.mapValue.fields}}function Fc(t,e,n){var r=Dc(t,e.name),i=Sc(e.updateTime),o=new _u({mapValue:{fields:e.fields}});return new Eu(r,i,o,{hasCommittedMutations:!!n})}function Uc(t,e){var n;if(e instanceof Ra)n={update:Lc(t,e.key,e.value)};else if(e instanceof za)n={delete:Nc(t,e.key)};else if(e instanceof Ma)n={update:Lc(t,e.key,e.data),updateMask:$c(e.zt)};else{if(!(e instanceof Ba))return gs();n={verify:Nc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof ma)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof ba)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof wa)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Ca)return{fieldPath:e.field.ot(),increment:n.Qt};throw gs()}(0,t)}))),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ac(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:gs()}(t,e.Gt)),n}function Hc(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Aa.updateTime(Sc(t.updateTime)):void 0!==t.exists?Aa.exists(t.exists):Aa.Wt()}(e.currentDocument):Aa.Wt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(ms("REQUEST_TIME"===e.setToServerValue),n=new ma):"appendMissingElements"in e?n=new ba(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new wa(e.removeAllFromArray.values||[]):"increment"in e?n=new Ca(t,e.increment):gs();var r=Js._t(e.fieldPath);return new Oa(r,n)}(t,e)})):[];if(e.update){var i=Dc(t,e.update.name),o=new _u({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Xs((t.fieldPaths||[]).map((function(t){return Js._t(t)})))}(e.updateMask);return new Ma(i,o,s,n,r)}return new Ra(i,o,n,r)}if(e.delete){var u=Dc(t,e.delete);return new za(u,n)}if(e.verify){var a=Dc(t,e.verify);return new Ba(a,n)}return gs()}function qc(t,e){return{documents:[Pc(t,e.path)]}}function Gc(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Pc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Pc(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(mu(t.value))return{unaryFilter:{field:Zc(t.field),op:"IS_NAN"}};if(gu(t.value))return{unaryFilter:{field:Zc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(mu(t.value))return{unaryFilter:{field:Zc(t.field),op:"IS_NOT_NAN"}};if(gu(t.value))return{unaryFilter:{field:Zc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zc(t.field),op:Wc(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Zc(t.field),direction:Jc(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||ou(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Bc(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Bc(e.endAt)),n}function zc(t){var e=Vc(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ms(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Xc(e)]:void 0!==e.fieldFilter?[Qc(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):gs():[]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(t){return function(t){return new Gu(Yc(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var a=null;n.limit&&(a=function(t){var e;return ou(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Kc(n.startAt));var l=null;return n.endAt&&(l=Kc(n.endAt)),Wu(e,i,u,s,a,"F",c,l)}function Bc(t){return{before:t.before,values:t.position}}function Kc(t){return new Hu(t.values||[],!!t.before)}function Jc(t){return Cc[t]}function Wc(t){return Ec[t]}function Zc(t){return{fieldPath:t.ot()}}function Yc(t){return Js._t(t.fieldPath)}function Qc(t){return Nu.create(Yc(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return gs()}}(t.fieldFilter.op),t.fieldFilter.value)}function Xc(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Yc(t.unaryFilter.field);return Nu.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Yc(t.unaryFilter.field);return Nu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Yc(t.unaryFilter.field);return Nu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Yc(t.unaryFilter.field);return Nu.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return gs()}}function $c(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function tl(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var el=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},nl=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&gs(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),rl=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new el,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new sl(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=fl(e.target.error);n.qn.reject(new sl(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new sl(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(ds("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new al(e)},t}(),il=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(cn.g)())&&ps("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ds("SimpleDb","Removing database:",t),cl(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(cn.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(ls.b)(this,void 0,void 0,(function(){var e,n=this;return Object(ls.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(ds("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new sl(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ts(Os.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new sl(t,n))},i.onupgradeneeded=function(t){ds("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){ds("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(ls.b)(this,void 0,void 0,(function(){var i,o,s,u,a;return Object(ls.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,l;return Object(ls.d)(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,u.Jn(t)];case 2:return u.db=f.sent(),e=rl.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),nl.reject(t)})).Mn(),a={},s.catch((function(){})),[4,e.Un];case 3:return[2,(a.value=(f.sent(),s),a)];case 4:return ds("SimpleDb","Transaction failed with error:",(c=f.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ol=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return cl(this.ts.delete())},t}(),sl=function(t){function e(e,n){var r=this;return(r=t.call(this,Os.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(ls.c)(e,t),e}(Ts);function ul(t){return"IndexedDbTransactionError"===t.name}var al=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ds("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ds("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),cl(n)},t.prototype.add=function(t){return ds("SimpleDb","ADD",this.store.name,t,t),cl(this.store.add(t))},t.prototype.get=function(t){var e=this;return cl(this.store.get(t)).next((function(n){return void 0===n&&(n=null),ds("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return ds("SimpleDb","DELETE",this.store.name,t),cl(this.store.delete(t))},t.prototype.count=function(){return ds("SimpleDb","COUNT",this.store.name),cl(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){ds("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new nl((function(n,r){e.onerror=function(t){var e=fl(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new nl((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ol(i),s=e(i.primaryKey,i.value,o);if(s instanceof nl){var u=s.catch((function(t){return o.done(),nl.reject(t)}));n.push(u)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return nl.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function cl(t){return new nl((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=fl(t.target.error);n(e)}}))}var ll=!1;function fl(t){var e=il.Kn(Object(cn.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ts("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ll||(ll=!0,setTimeout((function(){throw r}),0)),r}}return t}var hl=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new el,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Ts(Os.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function dl(t,e){if(ps("AsyncQueue",e+": "+t),ul(t))return new Ts(Os.UNAVAILABLE,e+": "+t);throw t}var pl=function(t,e){this.progress=t,this.gs=e},vl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",yl=function(){function t(){this.Vs=[]}return t.prototype.ps=function(t){this.Vs.push(t)},t.prototype.bs=function(){this.Vs.forEach((function(t){return t()}))},t}();function gl(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=bl(e)),e=ml(t.get(n),e);return bl(e)}function ml(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function bl(t){return t+"\x01\x01"}function _l(t){var e=t.length;if(ms(e>=2),2===e)return ms("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Bs.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&gs(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:gs()}o=s+2}return new Bs(r)}var wl=function(t,e){this.seconds=t,this.nanoseconds=e},kl=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};kl.store="owner",kl.key="owner";var Cl=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Cl.store="mutationQueues",Cl.keyPath="userId";var El=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};El.store="mutations",El.keyPath="batchId",El.userMutationsIndex="userMutationsIndex",El.userMutationsKeyPath=["userId","batchId"];var Il=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,gl(e)]},t.key=function(t,e,n){return[t,gl(e),n]},t}();Il.store="documentMutations",Il.PLACEHOLDER=new Il;var Ol=function(t,e){this.path=t,this.readTime=e},Tl=function(t,e){this.path=t,this.version=e},Al=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Al.store="remoteDocuments",Al.readTimeIndex="readTimeIndex",Al.readTimeIndexPath="readTime",Al.collectionReadTimeIndex="collectionReadTimeIndex",Al.collectionReadTimeIndexPath=["parentPath","readTime"];var Sl=function(t){this.byteSize=t};Sl.store="remoteDocumentGlobal",Sl.key="remoteDocumentGlobalKey";var xl=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};xl.store="targets",xl.keyPath="targetId",xl.queryTargetsIndexName="queryTargetsIndex",xl.queryTargetsKeyPath=["canonicalId","targetId"];var jl=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};jl.store="targetDocuments",jl.keyPath=["targetId","path"],jl.documentTargetsIndex="documentTargetsIndex",jl.documentTargetsKeyPath=["path","targetId"];var Nl=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Nl.key="targetGlobalKey",Nl.store="targetGlobal";var Dl=function(t,e){this.collectionId=t,this.parent=e};Dl.store="collectionParents",Dl.keyPath=["collectionId","parent"];var Pl=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Pl.store="clientMetadata",Pl.keyPath="clientId";var Vl=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Vl.store="bundles",Vl.keyPath="bundleId";var Rl=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Rl.store="namedQueries",Rl.keyPath="name";var Ml=Object(ls.g)(Object(ls.g)(Object(ls.g)(Object(ls.g)([Cl.store,El.store,Il.store,Al.store,xl.store,kl.store,Nl.store,jl.store],[Pl.store]),[Sl.store]),[Dl.store]),[Vl.store,Rl.store]),Ll=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vs=e,r.Ss=n,r}return Object(ls.c)(e,t),e}(yl);function Fl(t,e){var n=bs(t);return il.Hn(n.vs,e)}var Ul=function(){function t(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}return t.prototype.Cs=function(t,e,n){for(var r=n.xs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=ja(o,e,r[i]))}return e},t.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Na(i,e,e,this.Ds))}for(var o=e,s=0,u=this.mutations;s<u.length;s++){var a=u[s];a.key.isEqual(t)&&(e=Na(a,e,o,this.Ds))}return e},t.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ac())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Cs(this.mutations,t.mutations,(function(t,e){return Pa(t,e)}))&&Cs(this.baseMutations,t.baseMutations,(function(t,e){return Pa(t,e)}))},t}(),Hl=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}return t.from=function(e,n,r){ms(e.mutations.length===r.length);for(var i=sc(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),ql=function(t){this.Ms=t};function Gl(t,e){if(e.document)return Fc(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ws.Tt(e.noDocument.path),r=Wl(e.noDocument.readTime);return new Iu(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Ws.Tt(e.unknownDocument.path);return r=Wl(e.unknownDocument.version),new Ou(i,r)}return gs()}function zl(t,e,n){var r=Bl(n),i=e.key.path.Z().rt();if(e instanceof Eu){var o=function(t,e){return{name:Nc(t,e.key),fields:e.vt().mapValue.fields,updateTime:Oc(t,e.version.G())}}(t.Ms,e),s=e.hasCommittedMutations;return new Al(null,null,o,s,r,i)}if(e instanceof Iu){var u=e.key.path.rt(),a=Jl(e.version);return s=e.hasCommittedMutations,new Al(null,new Ol(u,a),null,s,r,i)}if(e instanceof Ou){var c=e.key.path.rt(),l=Jl(e.version);return new Al(new Tl(c,l),null,null,!0,r,i)}return gs()}function Bl(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Kl(t){var e=new qs(t[0],t[1]);return Gs.W(e)}function Jl(t){var e=t.G();return new wl(e.seconds,e.nanoseconds)}function Wl(t){var e=new qs(t.seconds,t.nanoseconds);return Gs.W(e)}function Zl(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Hc(t.Ms,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return Hc(t.Ms,e)})),s=qs.fromMillis(e.localWriteTimeMs);return new Ul(e.batchId,s,n,o)}function Yl(t){var e,n,r=Wl(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Wl(t.lastLimboFreeSnapshotVersion):Gs.min();return void 0!==t.query.documents?(ms(1===(n=t.query).documents.length),e=na(Zu(Vc(n.documents[0])))):e=function(t){return na(zc(t))}(t.query),new la(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Is.fromBase64String(t.resumeToken))}function Ql(t,e){var n,r=Jl(e.Mt),i=Jl(e.lastLimboFreeSnapshotVersion);n=ju(e.target)?qc(t.Ms,e.target):Gc(t.Ms,e.target);var o=e.resumeToken.toBase64();return new xl(e.targetId,Su(e.target),r,o,e.sequenceNumber,i,n)}function Xl(t){var e=zc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ra(e,e.limit,"L"):e}var $l=function(){function t(){}return t.prototype.Ls=function(t,e){return tf(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Wl(e.createTime),version:e.version};var e}))},t.prototype.$s=function(t,e){return tf(t).put({bundleId:(n=e).id,createTime:Jl(Sc(n.createTime)),version:n.version});var n},t.prototype.Bs=function(t,e){return ef(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Xl(e.bundledQuery),readTime:Wl(e.readTime)};var e}))},t.prototype.qs=function(t,e){return ef(t).put(function(t){return{name:t.name,readTime:Jl(Sc(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function tf(t){return Fl(t,Vl.store)}function ef(t){return Fl(t,Rl.store)}var nf=function(){function t(){this.Us=new rf}return t.prototype.Qs=function(t,e){return this.Us.add(e),nl.resolve()},t.prototype.Ks=function(t,e){return nl.resolve(this.Us.getEntries(e))},t}(),rf=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Xa(Bs.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Xa(Bs.J)).rt()},t}(),of=function(){function t(){this.Ws=new rf}return t.prototype.Qs=function(t,e){var n=this;if(!this.Ws.has(e)){var r=e.et(),i=e.Z();t.ps((function(){n.Ws.add(e)}));var o={collectionId:r,parent:gl(i)};return sf(t).put(o)}return nl.resolve()},t.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Es(e),""],!1,!0);return sf(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(_l(o.parent))}return n}))},t}();function sf(t){return Fl(t,Dl.store)}var uf={js:!1,Gs:0,zs:0,Hs:0},af=function(){function t(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}return t.Zs=function(e){return new t(e,t.ti,t.ei)},t}();function cf(t){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(e){if(t.code!==Os.FAILED_PRECONDITION||t.message!==vl)throw t;return ds("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}af.ti=10,af.ei=1e3,af.ni=new af(41943040,af.ti,af.ei),af.si=new af(-1,0,0);var lf=function(){function t(t,e){this.ii=t,this.ri=e,this.oi={}}return t.prototype.get=function(t){var e=this.ii(t),n=this.oi[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ri(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Ys(this.oi,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.nt=function(){return Qs(this.oi)},t}(),ff=function(){function t(){this.ci=new lf((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ai=!1}return t.prototype.ui=function(t){var e=this.ci.get(t);return e?e.readTime:Gs.min()},t.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},t.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},t.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?nl.resolve(n._i):this.wi(t,e)},t.prototype.getEntries=function(t,e){return this.Ei(t,e)},t.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},t.prototype.li=function(){},t}();function hf(t,e,n){var r=t.store(El.store),i=t.store(Il.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.ls({range:s},(function(t,e,n){return u++,n.delete()}));o.push(a.next((function(){ms(1===u)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Il.key(e,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return nl.$n(o).next((function(){return c}))}function df(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw gs();e=t.noDocument}return JSON.stringify(e).length}var pf=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}return t.Ri=function(e,n,r,i){return ms(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yf(t).ls({index:El.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.yi=function(t,e,n,r){var i=this,o=gf(t),s=yf(t);return s.add({}).next((function(u){ms("number"==typeof u);for(var a=new Ul(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Uc(t.Ms,e)})),i=n.mutations.map((function(e){return Uc(t.Ms,e)}));return new El(e,n.batchId,n.Ds.toMillis(),r,i)}(i.Kt,i.userId,a),l=[],f=new Xa((function(t,e){return ks(t.ot(),e.ot())})),h=0,d=r;h<d.length;h++){var p=d[h],v=Il.key(i.userId,p.key.path,u);f=f.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(v,Il.PLACEHOLDER))}return f.forEach((function(e){l.push(i.Ii.Qs(t,e))})),t.ps((function(){i.Ai[u]=a.keys()})),nl.$n(l).next((function(){return a}))}))},t.prototype.gi=function(t,e){var n=this;return yf(t).get(e).next((function(t){return t?(ms(t.userId===n.userId),Zl(n.Kt,t)):null}))},t.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?nl.resolve(this.Ai[e]):this.gi(t,e).next((function(t){if(t){var r=t.keys();return n.Ai[e]=r,r}return null}))},t.prototype.pi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return yf(t).ls({index:El.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(ms(e.batchId>=r),o=Zl(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return yf(t).ls({index:El.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yf(t).os(El.userMutationsIndex,n).next((function(t){return t.map((function(t){return Zl(e.Kt,t)}))}))},t.prototype.Si=function(t,e){var n=this,r=Il.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return gf(t).ls({range:i},(function(r,i,s){var u=r[0],a=r[2],c=_l(r[1]);if(u===n.userId&&e.path.isEqual(c))return yf(t).get(a).next((function(t){if(!t)throw gs();ms(t.userId===n.userId),o.push(Zl(n.Kt,t))}));s.done()})).next((function(){return o}))},t.prototype.Di=function(t,e){var n=this,r=new Xa(ks),i=[];return e.forEach((function(e){var o=Il.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=gf(t).ls({range:s},(function(t,i,o){var s=t[0],u=t[2],a=_l(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()}));i.push(u)})),nl.$n(i).next((function(){return n.Ci(t,r)}))},t.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,o=Il.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new Xa(ks);return gf(t).ls({range:s},(function(t,e,o){var s=t[0],a=t[2],c=_l(t[1]);s===n.userId&&r.st(c)?c.length===i&&(u=u.add(a)):o.done()})).next((function(){return n.Ci(t,u)}))},t.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(yf(t).get(e).next((function(t){if(null===t)throw gs();ms(t.userId===n.userId),r.push(Zl(n.Kt,t))})))})),nl.$n(i).next((function(){return r}))},t.prototype.Ni=function(t,e){var n=this;return hf(t.vs,this.userId,e).next((function(r){return t.ps((function(){n.Fi(e.batchId)})),nl.forEach(r,(function(e){return n.mi.Oi(t,e)}))}))},t.prototype.Fi=function(t){delete this.Ai[t]},t.prototype.ki=function(t){var e=this;return this.Pi(t).next((function(n){if(!n)return nl.resolve();var r=IDBKeyRange.lowerBound(Il.prefixForUser(e.userId)),i=[];return gf(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=_l(t[1]);i.push(o)}else r.done()})).next((function(){ms(0===i.length)}))}))},t.prototype.Mi=function(t,e){return vf(t,this.userId,e)},t.prototype.Li=function(t){var e=this;return mf(t).get(this.userId).next((function(t){return t||new Cl(e.userId,-1,"")}))},t}();function vf(t,e,n){var r=Il.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return gf(t).ls({range:o,hs:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function yf(t){return Fl(t,El.store)}function gf(t){return Fl(t,Il.store)}function mf(t){return Fl(t,Cl.store)}var bf=function(){function t(t){this.$i=t}return t.prototype.next=function(){return this.$i+=2,this.$i},t.Bi=function(){return new t(0)},t.qi=function(){return new t(-1)},t}(),_f=function(){function t(t,e){this.mi=t,this.Kt=e}return t.prototype.Ui=function(t){var e=this;return this.Qi(t).next((function(n){var r=new bf(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Wi=function(t){return this.Qi(t).next((function(t){return Gs.W(new qs(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)}))},t.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next((function(){return n.Qi(t).next((function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)}))}))},t.prototype.Yi=function(t,e){return this.Hi(t,e)},t.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next((function(){return wf(t).delete(e.targetId)})).next((function(){return n.Qi(t)})).next((function(e){return ms(e.targetCount>0),e.targetCount-=1,n.Ki(t,e)}))},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return wf(t).ls((function(s,u){var a=Yl(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Xi(t,a)))})).next((function(){return nl.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return wf(t).ls((function(t,n){var r=Yl(n);e(r)}))},t.prototype.Qi=function(t){return kf(t).get(Nl.key).next((function(t){return ms(null!==t),t}))},t.prototype.Ki=function(t,e){return kf(t).put(Nl.key,e)},t.prototype.Hi=function(t,e){return wf(t).put(Ql(this.Kt,e))},t.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.er=function(t){return this.Qi(t).next((function(t){return t.targetCount}))},t.prototype.nr=function(t,e){var n=Su(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return wf(t).ls({range:r,index:xl.queryTargetsIndexName},(function(t,n,r){var o=Yl(n);xu(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.sr=function(t,e,n){var r=this,i=[],o=Cf(t);return e.forEach((function(e){var s=gl(e.path);i.push(o.put(new jl(n,s))),i.push(r.mi.ir(t,n,e))})),nl.$n(i)},t.prototype.rr=function(t,e,n){var r=this,i=Cf(t);return nl.forEach(e,(function(e){var o=gl(e.path);return nl.$n([i.delete([n,o]),r.mi.cr(t,n,e)])}))},t.prototype.Zi=function(t,e){var n=Cf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ar=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Cf(t),i=ac();return r.ls({range:n,hs:!0},(function(t,e,n){var r=_l(t[1]),o=new Ws(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Mi=function(t,e){var n=gl(e.path),r=IDBKeyRange.bound([n],[Es(n)],!1,!0),i=0;return Cf(t).ls({index:jl.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return wf(t).get(e).next((function(t){return t?Yl(t):null}))},t}();function wf(t){return Fl(t,xl.store)}function kf(t){return Fl(t,Nl.store)}function Cf(t){return Fl(t,jl.store)}function Ef(t,e){var n=t[1],r=e[1],i=ks(t[0],e[0]);return 0===i?ks(n,r):i}var If=function(){function t(t){this.ur=t,this.buffer=new Xa(Ef),this.hr=0}return t.prototype.lr=function(){return++this.hr},t.prototype._r=function(t){var e=[t,this.lr()];if(this.buffer.size<this.ur)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ef(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Of=function(){function t(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}return t.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},t.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(t.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;ds("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,(function(){return Object(ls.b)(e,void 0,void 0,(function(){var e;return Object(ls.d)(this,(function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return ul(e=n.sent())?(ds("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,cf(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Tf=function(){function t(t,e){this.Rr=t,this.params=e}return t.prototype.Pr=function(t,e){return this.Rr.yr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.gr=function(t,e){var n=this;if(0===e)return nl.resolve(Hs.U);var r=new If(e);return this.Rr.mn(t,(function(t){return r._r(t.sequenceNumber)})).next((function(){return n.Rr.Vr(t,(function(t){return r._r(t)}))})).next((function(){return r.maxValue}))},t.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},t.prototype.pr=function(t,e){return this.Rr.pr(t,e)},t.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(ds("LruGarbageCollector","Garbage collection skipped; disabled"),nl.resolve(uf)):this.vr(t).next((function(r){return r<n.params.Js?(ds("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),uf):n.Sr(t,e)}))},t.prototype.vr=function(t){return this.Rr.vr(t)},t.prototype.Sr=function(t,e){var n,r,i,o,s,u,a,c=this,l=Date.now();return this.Pr(t,this.params.Ys).next((function(e){return e>c.params.Xs?(ds("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Xs+" from "+e),r=c.params.Xs):r=e,o=Date.now(),c.gr(t,r)})).next((function(r){return n=r,s=Date.now(),c.tr(t,n,e)})).next((function(e){return i=e,u=Date.now(),c.pr(t,n)})).next((function(t){return a=Date.now(),hs()<=an.a.DEBUG&&ds("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-l)+"ms"),nl.resolve({js:!0,Gs:r,zs:i,Hs:t})}))},t}(),Af=function(){function t(t,e){this.db=t,this.dr=function(t,e){return new Tf(t,e)}(this,e)}return t.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Dr=function(t){var e=0;return this.Vr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},t.prototype.Vr=function(t,e){return this.Nr(t,(function(t,n){return e(n)}))},t.prototype.ir=function(t,e,n){return Sf(t,n)},t.prototype.cr=function(t,e,n){return Sf(t,n)},t.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},t.prototype.Oi=function(t,e){return Sf(t,e)},t.prototype.Fr=function(t,e){return function(t,e){var n=!1;return mf(t)._s((function(r){return vf(t,r,e).next((function(t){return t&&(n=!0),nl.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],o=0;return this.Nr(t,(function(s,u){if(u<=e){var a=n.Fr(t,s).next((function(e){if(!e)return o++,r.di(t,s).next((function(){return r.fi(s),Cf(t).delete([0,gl(s.path)])}))}));i.push(a)}})).next((function(){return nl.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.Ss);return this.db.Cr().Yi(t,n)},t.prototype.Mr=function(t,e){return Sf(t,e)},t.prototype.Nr=function(t,e){var n,r=Cf(t),i=Hs.U;return r.ls({index:jl.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Hs.U&&e(new Ws(_l(n)),i),i=s,n=o):i=Hs.U})).next((function(){i!==Hs.U&&e(new Ws(_l(n)),i)}))},t.prototype.vr=function(t){return this.db.kr().Lr(t)},t}();function Sf(t,e){return Cf(t).put(function(t,e){return new jl(0,gl(t.path),e)}(e,t.Ss))}var xf=function(){function t(t,e){this.Kt=t,this.Ii=e}return t.prototype.hi=function(t,e,n){return Df(t).put(Pf(e),n)},t.prototype.fi=function(t,e){var n=Df(t),r=Pf(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.$r(t,r)}))},t.prototype.di=function(t,e){var n=this;return Df(t).get(Pf(e)).next((function(t){return n.Br(t)}))},t.prototype.qr=function(t,e){var n=this;return Df(t).get(Pf(e)).next((function(t){var e=n.Br(t);return e?{_i:e,size:df(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=nc();return this.Ur(t,e,(function(t,e){var i=n.Br(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Qr=function(t,e){var n=this,r=nc(),i=new Za(Ws.J);return this.Ur(t,e,(function(t,e){var o=n.Br(e);o?(r=r.Ht(t,o),i=i.Ht(t,df(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Kr:r,Wr:i}}))},t.prototype.Ur=function(t,e,n){if(e.nt())return nl.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return Df(t).ls({range:r},(function(t,e,r){for(var s=Ws.Tt(t);o&&Ws.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=ic(),o=e.path.length+1,s={};if(n.isEqual(Gs.min())){var u=e.path.rt();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.rt(),c=Bl(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=Al.collectionReadTimeIndex}return Df(t).ls(s,(function(t,n,s){if(t.length===o){var u=Gl(r.Kt,n);e.path.st(u.key.path)?u instanceof Eu&&ua(e,u)&&(i=i.Ht(u.key,u)):s.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new jf(this,!!t&&t.Gr)},t.prototype.Lr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Nf(t).get(Sl.key).next((function(t){return ms(!!t),t}))},t.prototype.$r=function(t,e){return Nf(t).put(Sl.key,e)},t.prototype.Br=function(t){if(t){var e=Gl(this.Kt,t);return e instanceof Iu&&e.version.isEqual(Gs.min())?null:e}return null},t}(),jf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zr=e,r.Gr=n,r.Hr=new lf((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(ls.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[],r=0,i=new Xa((function(t,e){return ks(t.ot(),e.ot())}));return this.ci.forEach((function(o,s){var u=e.Hr.get(o);if(s._i){var a=zl(e.zr.Kt,s._i,e.ui(o));i=i.add(o.path.Z());var c=df(a);r+=c-u,n.push(e.zr.hi(t,o,a))}else if(r-=u,e.Gr){var l=zl(e.zr.Kt,new Iu(o,Gs.min()),e.ui(o));n.push(e.zr.hi(t,o,l))}else n.push(e.zr.fi(t,o))})),i.forEach((function(r){n.push(e.zr.Ii.Qs(t,r))})),n.push(this.zr.updateMetadata(t,r)),nl.$n(n)},e.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next((function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)}))},e.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next((function(t){var e=t.Kr;return t.Wr.forEach((function(t,e){n.Hr.set(t,e)})),e}))},e}(ff);function Nf(t){return Fl(t,Sl.store)}function Df(t){return Fl(t,Al.store)}function Pf(t){return t.path.rt()}var Vf=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;ms(n<r&&n>=0&&r<=11);var o=new rl("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(kl.store)}(t),function(t){t.createObjectStore(Cl.store,{keyPath:Cl.keyPath}),t.createObjectStore(El.store,{keyPath:El.keyPath,autoIncrement:!0}).createIndex(El.userMutationsIndex,El.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Il.store)}(t),Rf(t),function(t){t.createObjectStore(Al.store)}(t));var s=nl.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(jl.store),t.deleteObjectStore(xl.store),t.deleteObjectStore(Nl.store)}(t),Rf(t)),s=s.next((function(){return function(t){var e=t.store(Nl.store),n=new Nl(0,0,Gs.min().G(),0);return e.put(Nl.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(El.store).os().next((function(n){t.deleteObjectStore(El.store),t.createObjectStore(El.store,{keyPath:El.keyPath,autoIncrement:!0}).createIndex(El.userMutationsIndex,El.userMutationsKeyPath,{unique:!0});var r=e.store(El.store),i=n.map((function(t){return r.put(t)}));return nl.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Pl.store,{keyPath:Pl.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Jr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Sl.store)}(t),i.Yr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Xr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Zr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Al.store);e.createIndex(Al.readTimeIndex,Al.readTimeIndexPath,{unique:!1}),e.createIndex(Al.collectionReadTimeIndex,Al.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.eo(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Vl.store,{keyPath:Vl.keyPath})}(t),function(t){t.createObjectStore(Rl.store,{keyPath:Rl.keyPath})}(t)}))),s},t.prototype.Yr=function(t){var e=0;return t.store(Al.store).ls((function(t,n){e+=df(n)})).next((function(){var n=new Sl(e);return t.store(Sl.store).put(Sl.key,n)}))},t.prototype.Jr=function(t){var e=this,n=t.store(Cl.store),r=t.store(El.store);return n.os().next((function(n){return nl.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(El.userMutationsIndex,i).next((function(r){return nl.forEach(r,(function(r){ms(r.userId===n.userId);var i=Zl(e.Kt,r);return hf(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Xr=function(t){var e=t.store(jl.store),n=t.store(Al.store);return t.store(Nl.store).get(Nl.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new Bs(n),s=function(t){return[0,gl(t)]}(o);r.push(e.get(s).next((function(n){return n?nl.resolve():function(n){return e.put(new jl(0,gl(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return nl.$n(r)}))}))},t.prototype.Zr=function(t,e){t.createObjectStore(Dl.store,{keyPath:Dl.keyPath});var n=e.store(Dl.store),r=new rf,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:gl(i)})}};return e.store(Al.store).ls({hs:!0},(function(t,e){var n=new Bs(t);return i(n.Z())})).next((function(){return e.store(Il.store).ls({hs:!0},(function(t,e){var n=_l(t[1]);return i(n.Z())}))}))},t.prototype.eo=function(t){var e=this,n=t.store(xl.store);return n.ls((function(t,r){var i=Yl(r),o=Ql(e.Kt,i);return n.put(o)}))},t}();function Rf(t){t.createObjectStore(jl.store,{keyPath:jl.keyPath}).createIndex(jl.documentTargetsIndex,jl.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(xl.store,{keyPath:xl.keyPath}).createIndex(xl.queryTargetsIndexName,xl.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Nl.store)}var Mf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Lf=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.no=o,this.window=s,this.document=u,this.so=c,this.io=l,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!t.Wn())throw new Ts(Os.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new Af(this,i),this._o=n+"main",this.Kt=new ql(a),this.fo=new il(this._o,11,new Vf(this.Kt)),this.wo=new _f(this.mi,this.Kt),this.Ii=new of,this.Eo=function(t,e){return new xf(t,e)}(this.Kt,this.Ii),this.To=new $l,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===l&&ps("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.mo().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ts(Os.FAILED_PRECONDITION,Mf);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.wo.ji(e)}))})).then((function(e){t.ro=new Hs(e,t.so)})).then((function(){t.oo=!0})).catch((function(e){return t.fo&&t.fo.close(),Promise.reject(e)}))},t.prototype.yo=function(t){var e=this;return this.lo=function(n){return Object(ls.b)(e,void 0,void 0,(function(){return Object(ls.d)(this,(function(e){return this.Ir?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Vo=function(t){var e=this;this.fo.Zn((function(n){return Object(ls.b)(e,void 0,void 0,(function(){return Object(ls.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys((function(){return Object(ls.b)(e,void 0,void 0,(function(){return Object(ls.d)(this,(function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Uf(e).put(new Pl(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.bo(e).next((function(e){e||(t.isPrimary=!1,t.no.vo((function(){return t.lo(!1)})))}))})).next((function(){return t.So(e)})).next((function(n){return t.isPrimary&&!n?t.Do(e).next((function(){return!1})):!!n&&t.Co(e).next((function(){return!0}))}))})).catch((function(e){if(ul(e))return ds("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ds("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.no.vo((function(){return t.lo(e)})),t.isPrimary=e}))},t.prototype.bo=function(t){var e=this;return Ff(t).get(kl.key).next((function(t){return nl.resolve(e.xo(t))}))},t.prototype.No=function(t){return Uf(t).delete(this.clientId)},t.prototype.Fo=function(){return Object(ls.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(ls.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Fl(t,Pl.store);return e.os().next((function(t){var n=r.ko(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return nl.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Io)for(e=0,n=t;e<n.length;e++)this.Io.removeItem(this.Mo(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,(function(){return t.mo().then((function(){return t.Fo()})).then((function(){return t.Po()}))}))},t.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.So=function(t){var e=this;return this.io?nl.resolve(!0):Ff(t).get(kl.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new Ts(Os.FAILED_PRECONDITION,Mf);return!1}}return!(!e.networkEnabled||!e.inForeground)||Uf(t).os().next((function(t){return void 0===e.ko(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&ds("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.$o=function(){return Object(ls.b)(this,void 0,void 0,(function(){var t=this;return Object(ls.d)(this,(function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[kl.store,Pl.store],(function(e){var n=new Ll(e,Hs.U);return t.Do(n).next((function(){return t.No(n)}))}))];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}}))}))},t.prototype.ko=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)}))},t.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Uf(e).os().next((function(e){return t.ko(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Wo=function(t){return pf.Ri(t,this.Kt,this.Ii,this.mi)},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.jo=function(){return this.Ii},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ds("IndexedDbPersistence","Starting transaction:",t),this.fo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ml,(function(o){return r=new Ll(o,i.ro?i.ro.next():Hs.U),"readwrite-primary"===e?i.bo(r).next((function(t){return!!t||i.So(r)})).next((function(e){if(!e)throw ps("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.no.vo((function(){return i.lo(!1)})),new Ts(Os.FAILED_PRECONDITION,vl);return n(r)})).next((function(t){return i.Co(r).next((function(){return t}))})):i.zo(r).next((function(){return n(r)}))})).then((function(t){return r.bs(),t}))},t.prototype.zo=function(t){var e=this;return Ff(t).get(kl.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ts(Os.FAILED_PRECONDITION,Mf)}))},t.prototype.Co=function(t){var e=new kl(this.clientId,this.allowTabSynchronization,Date.now());return Ff(t).put(kl.key,e)},t.Wn=function(){return il.Wn()},t.prototype.Do=function(t){var e=this,n=Ff(t);return n.get(kl.key).next((function(t){return e.xo(t)?(ds("IndexedDbPersistence","Releasing primary lease."),n.delete(kl.key)):nl.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ps("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()}))},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},t.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},t.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys((function(){return e.$o()}))},this.window.addEventListener("unload",this.co))},t.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},t.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return ds("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ps("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){ps("Failed to set zombie client id.",t)}},t.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},t.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ff(t){return Fl(t,kl.store)}function Uf(t){return Fl(t,Pl.store)}function Hf(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var qf=function(){function t(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=nc();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ns(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next((function(r){var i=n.Xo(t,e,r),o=ec();return i.forEach((function(t,e){e||(e=new Iu(t,Gs.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return Ws.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):ta(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Ws(e)).next((function(t){var e=ic();return t instanceof Eu&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=ic();return this.Ii.Ks(t,i).next((function(s){return nl.forEach(s,(function(s){var u=function(t,e){return new Ju(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,u,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.Eo.jr(t,e,n).next((function(n){return r=n,o.Ho.xi(t,e)})).next((function(e){return o.ic(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=r.get(c),f=Na(a,l,l,o.Ds);r=f instanceof Eu?r.Ht(c,f):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){ua(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=ac(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof Ma&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.Eo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Eu&&(c=c.Ht(t,e))})),c}))},t}(),Gf=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=ac(),i=ac(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),zf=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Gs.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var s=i.lc(e,o);return(Yu(e)||Qu(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(hs()<=an.a.DEBUG&&ds("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),sa(e)),i.uc.jr(t,e,n).next((function(t){return s.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new Xa(aa(t));return e.forEach((function(e,r){r instanceof Eu&&ua(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return hs()<=an.a.DEBUG&&ds("QueryEngine","Using full collection scan to execute query:",sa(e)),this.uc.jr(t,e,Gs.min())},t}(),Bf=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Za(ks),this.wc=new lf((function(t){return Su(t)}),xu),this.Ec=Gs.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new qf(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}return t.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.br(n,e.dc)}))},t}();function Kf(t,e,n,r){return new Bf(t,e,n,r)}function Jf(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(ls.d)(this,(function(s){switch(s.label){case 0:return n=bs(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.vi(t).next((function(s){return o=s,r=n.persistence.Wo(e),i=new qf(n.Tc,r,n.persistence.jo()),r.vi(t)})).next((function(e){for(var n=[],r=[],s=ac(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++)s=s.add(f[l].key)}for(var h=0,d=e;h<d.length;h++){var p=d[h];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)s=s.add(y[v].key)}return i.Zo(t,s).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function Wf(t,e){var n=bs(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Gr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=nl.resolve();return o.forEach((function(t){s=s.next((function(){return r.di(e,t)})).next((function(e){var o=e,s=n.ks.get(t);ms(null!==s),(!o||o.version.u(s)<0)&&(o=i.Cs(t,o,n))&&r.hi(o,n.Os)}))})),s.next((function(){return t.Ho.Ni(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function Zf(t){var e=bs(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.wo.Wi(t)}))}function Yf(t,e){var n=bs(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Gr:!0});i=n.dc;var s=[];e.Oe.forEach((function(e,o){var u=i.get(o);if(u){s.push(n.wo.rr(t,e.Ke,o).next((function(){return n.wo.sr(t,e.Ue,o)})));var a=e.resumeToken;if(a.o()>0){var c=u.$t(a,r).Lt(t.Ss);i=i.Ht(o,c),function(t,e,n){return ms(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(u,c,e)&&s.push(n.wo.Yi(t,c))}}}));var u=ec();if(e.Me.forEach((function(r,i){e.Le.has(r)&&s.push(n.persistence.mi.Mr(t,r))})),s.push(Qf(t,o,e.Me,r,void 0).next((function(t){u=t}))),!r.isEqual(Gs.min())){var a=n.wo.Wi(t).next((function(e){return n.wo.Gi(t,t.Ss,r)}));s.push(a)}return nl.$n(s).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,u)}))})).then((function(t){return n.dc=i,t}))}function Qf(t,e,n,r,i){var o=ac();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=ec();return n.forEach((function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof Iu&&s.version.isEqual(Gs.min())?(e.fi(n,a),o=o.Ht(n,s)):null==u||s.version.u(u.version)>0||0===s.version.u(u.version)&&u.hasPendingWrites?(e.hi(s,a),o=o.Ht(n,s)):ds("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)})),o}))}function Xf(t,e){var n=bs(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)}))}function $f(t,e){var n=bs(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.wo.nr(t,e).next((function(i){return i?nl.resolve(r=i):n.wo.Ui(t).next((function(i){return r=new la(e,i,0,t.Ss),n.wo.zi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function th(t,e,n){return Object(ls.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(ls.d)(this,(function(u){switch(u.label){case 0:r=bs(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.mi.removeTarget(t,i)}))];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!ul(s=u.sent()))throw s;return ds("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function eh(t,e,n){var r=bs(t),i=Gs.min(),o=ac();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=bs(t),i=r.wc.get(n);return void 0!==i?nl.resolve(r.dc.get(i)):r.wo.nr(e,n)}(r,t,na(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:Gs.min(),n?o:ac())})).next((function(t){return{documents:t,Pc:o}}))}))}function nh(t,e){var n=bs(t),r=bs(n.wo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function rh(t){var e=bs(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=bs(t),i=ec(),o=Bl(n),s=Df(e),u=IDBKeyRange.lowerBound(o,!0);return s.ls({index:Al.readTimeIndex,range:u},(function(t,e){var n=Gl(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{gs:i,readTime:Kl(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.gs;return e.Ec=t.readTime,n}))}function ih(t){return Object(ls.b)(this,void 0,void 0,(function(){var e;return Object(ls.d)(this,(function(n){return[2,(e=bs(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Df(t),n=Gs.min();return e.ls({index:Al.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Kl(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function oh(t,e,n,r){return Object(ls.b)(this,void 0,void 0,(function(){var i,o,s,u,a,c,l,f,h,d;return Object(ls.d)(this,(function(p){switch(p.label){case 0:for(i=bs(t),o=ac(),s=ec(),u=sc(),a=0,c=n;a<c.length;a++)f=e.yc((l=c[a]).metadata.name),l.document&&(o=o.add(f)),s=s.Ht(f,e.gc(l)),u=u.Ht(f,e.Vc(l.metadata.readTime));return h=i.Tc.Or({Gr:!0}),[4,$f(i,function(t){return na(Zu(Bs.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Qf(t,h,s,Gs.min(),u).next((function(e){return h.apply(t),e})).next((function(e){return i.wo.Zi(t,d.targetId).next((function(){return i.wo.sr(t,o,d.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function sh(t,e,n){return void 0===n&&(n=ac()),Object(ls.b)(this,void 0,void 0,(function(){var r,i;return Object(ls.d)(this,(function(o){switch(o.label){case 0:return[4,$f(t,na(Xl(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=bs(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Sc(e.readTime);if(r.Mt.u(o)>=0)return i.To.qs(t,e);var s=r.$t(Is.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.wo.Yi(t,s).next((function(){return i.wo.Zi(t,r.targetId)})).next((function(){return i.wo.sr(t,n,r.targetId)})).next((function(){return i.To.qs(t,e)}))}))]}}))}))}var uh=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ls=function(t,e){return nl.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Sc(n.createTime)}),nl.resolve()},t.prototype.Bs=function(t,e){return nl.resolve(this.vc.get(e))},t.prototype.qs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Xl(t.bundledQuery),readTime:Sc(t.readTime)}}(e)),nl.resolve()},t}(),ah=function(){function t(){this.Sc=new Xa(ch.Dc),this.Cc=new Xa(ch.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.ir=function(t,e){var n=new ch(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.cr=function(t,e){this.Fc(new ch(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach((function(t){return n.cr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new Ws(new Bs([])),r=new ch(n,t),i=new ch(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Fc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Fc(e)}))},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Ws(new Bs([])),n=new ch(e,t),r=new ch(e,t+1),i=ac();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Mi=function(t){var e=new ch(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),ch=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Ws.J(t.key,e.key)||ks(t.$c,e.$c)},t.xc=function(t,e){return ks(t.$c,e.$c)||Ws.J(t.key,e.key)},t}(),lh=function(){function t(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new Xa(ch.Dc)}return t.prototype.Pi=function(t){return nl.resolve(0===this.Ho.length)},t.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new Ul(i,e,n,r);this.Ho.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.qc=this.qc.add(new ch(a.key,i)),this.Ii.Qs(t,a.key.path.Z())}return nl.resolve(o)},t.prototype.gi=function(t,e){return nl.resolve(this.Uc(e))},t.prototype.pi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return nl.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.bi=function(){return nl.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.vi=function(t){return nl.resolve(this.Ho.slice())},t.prototype.Si=function(t,e){var n=this,r=new ch(e,0),i=new ch(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),nl.resolve(o)},t.prototype.Di=function(t,e){var n=this,r=new Xa(ks);return e.forEach((function(t){var e=new ch(t,0),i=new ch(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),nl.resolve(this.Kc(r))},t.prototype.xi=function(t,e){var n=e.path,r=n.length+1,i=n;Ws.Et(i)||(i=i.child(""));var o=new ch(new Ws(i),0),s=new Xa(ks);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)}),o),nl.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.Ni=function(t,e){var n=this;ms(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return nl.forEach(e.mutations,(function(i){var o=new ch(i.key,e.batchId);return r=r.delete(o),n.mi.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Fi=function(t){},t.prototype.Mi=function(t,e){var n=new ch(e,0),r=this.qc.Pe(n);return nl.resolve(e.isEqual(r&&r.key))},t.prototype.ki=function(t){return nl.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),fh=function(){function t(t,e){this.Ii=t,this.jc=e,this.docs=new Za(Ws.J),this.size=0}return t.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:s,readTime:n}),this.size+=s-o,this.Ii.Qs(t,r.path.Z())},t.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.di=function(t,e){var n=this.docs.get(e);return nl.resolve(n?n._i:null)},t.prototype.getEntries=function(t,e){var n=this,r=nc();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)})),nl.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=ic(),i=new Ws(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),u=s.value,a=u._i,c=u.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||a instanceof Eu&&ua(e,a)&&(r=r.Ht(a.key,a))}return nl.resolve(r)},t.prototype.Gc=function(t,e){return nl.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new hh(this)},t.prototype.Lr=function(t){return nl.resolve(this.size)},t}(),hh=function(t){function e(e){var n=this;return(n=t.call(this)||this).zr=e,n}return Object(ls.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach((function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)})),nl.$n(n)},e.prototype.wi=function(t,e){return this.zr.di(t,e)},e.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},e}(ff),dh=function(){function t(t){this.persistence=t,this.zc=new lf((function(t){return Su(t)}),xu),this.lastRemoteSnapshotVersion=Gs.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new ah,this.targetCount=0,this.Yc=bf.Bi()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),nl.resolve()},t.prototype.Wi=function(t){return nl.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return nl.resolve(this.Hc)},t.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),nl.resolve(this.highestTargetId)},t.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),nl.resolve()},t.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new bf(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,nl.resolve()},t.prototype.Yi=function(t,e){return this.Hi(e),nl.resolve()},t.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,nl.resolve()},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.zc.delete(s),o.push(r.Zi(t,u.targetId)),i++)})),nl.$n(o).next((function(){return i}))},t.prototype.er=function(t){return nl.resolve(this.targetCount)},t.prototype.nr=function(t,e){var n=this.zc.get(e)||null;return nl.resolve(n)},t.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),nl.resolve()},t.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),nl.$n(i)},t.prototype.Zi=function(t,e){return this.Jc.kc(e),nl.resolve()},t.prototype.ar=function(t,e){var n=this.Jc.Lc(e);return nl.resolve(n)},t.prototype.Mi=function(t,e){return nl.resolve(this.Jc.Mi(e))},t}(),ph=function(){function t(t,e){var n=this;this.Xc={},this.ro=new Hs(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new dh(this),this.Ii=new nf,this.Eo=function(t,e){return new fh(t,(function(t){return n.mi.Zc(t)}))}(this.Ii),this.Kt=new ql(e),this.To=new uh(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Vo=function(){},t.prototype.po=function(){},t.prototype.jo=function(){return this.Ii},t.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new lh(this.Ii,this.mi),this.Xc[t.R()]=e),e},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;ds("MemoryPersistence","Starting transaction:",t);var i=new vh(this.ro.next());return this.mi.ta(),n(i).next((function(t){return r.mi.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.bs(),t}))},t.prototype.na=function(t,e){return nl.Bn(Object.values(this.Xc).map((function(n){return function(){return n.Mi(t,e)}})))},t}(),vh=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ss=e,n}return Object(ls.c)(e,t),e}(yl),yh=function(){function t(t){this.persistence=t,this.sa=new ah,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw gs()},enumerable:!1,configurable:!0}),t.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),nl.resolve()},t.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),nl.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),nl.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Cr();return r.ar(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Xi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return nl.forEach(this.oa,(function(r){var i=Ws.ft(r);return e.ca(t,i).next((function(t){t||n.fi(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return nl.Bn([function(){return nl.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},t}();function gh(t,e){return"firestore_clients_"+t+"_"+e}function mh(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function bh(t,e){return"firestore_targets_"+t+"_"+e}var _h=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Ts(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(ps("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),wh=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Ts(r.error.code,r.error.message)),i?new t(e,r.state,o):(ps("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),kh=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=lc(),s=0;i&&s<r.activeTargetIds.length;++s)i=uu(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(ps("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ch=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ps("SharedClientState","Failed to parse online state: "+e),null)},t}(),Eh=function(){function t(){this.activeTargetIds=lc()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ih=function(){function t(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Za(ks),this.Ir=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=gh(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Eh),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(ls.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,u,a,c,l=this;return Object(ls.d)(this,(function(f){switch(f.label){case 0:return[4,this.fa.Ko()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(gh(this.persistenceKey,r)))&&(o=kh.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(u=this.ba(s))&&this.va(u),a=0,c=this.Ia;a<c.length;a++)this.Ea(c[a]);return this.Ia=[],this.window.addEventListener("unload",(function(){return l.$o()})),this.Ir=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(bh(this.persistenceKey,t));if(n){var r=wh.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(bh(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Oa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ds("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ds("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ds("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ds("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void ps("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo((function(){return Object(ls.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(ls.d)(this,(function(u){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=Hs.U;if(null!=t)try{var n=JSON.parse(t);ms("number"==typeof n),e=n}catch(t){ps("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Hs.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new _h(this.currentUser,t,e,n),i=mh(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=mh(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=bh(this.persistenceKey,t),i=new wh(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return kh.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return _h.aa(new Vs(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return wh.aa(r,e)},t.prototype.ba=function(t){return Ch.aa(t)},t.prototype.Xa=function(t){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(ds("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],u=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||u.push(t)})),this.fa.iu(s,u).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=lc();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),Oh=function(){function t(){this.ru=new Eh,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Eh,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.$o=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),Th=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.$o=function(){},t}(),Ah=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){ds("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){ds("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Sh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},xh=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),jh=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(ls.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var s=new cs;s.listenOnce(ss.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case os.NO_ERROR:var e=s.getResponseJson();ds("Connection","XHR received:",JSON.stringify(e)),i(e);break;case os.TIMEOUT:ds("Connection",'RPC "'+t+'" timed out'),o(new Ts(Os.DEADLINE_EXCEEDED,"Request time out"));break;case os.HTTP_ERROR:var n=s.getStatus();if(ds("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Os).indexOf(e)>=0?e:Os.UNKNOWN}(r.status);o(new Ts(u,r.message))}else o(new Ts(Os.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Ts(Os.UNAVAILABLE,"Connection failed."));break;default:gs()}}finally{ds("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);s.send(e,"POST",u,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ts,i=ni(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(cn.l)()||Object(cn.n)()||Object(cn.j)()||Object(cn.k)()||Object(cn.o)()||Object(cn.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");ds("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),a=!1,c=!1,l=new xh({du:function(t){c?ds("Connection","Not sending because WebChannel is closed:",t):(a||(ds("Connection","Opening WebChannel transport."),u.open(),a=!0),ds("Connection","WebChannel sending:",t),u.send(t))},wu:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,as.EventType.OPEN,(function(){c||ds("Connection","WebChannel transport opened.")})),f(u,as.EventType.CLOSE,(function(){c||(c=!0,ds("Connection","WebChannel transport closed"),l.Pu())})),f(u,as.EventType.ERROR,(function(t){c||(c=!0,vs("Connection","WebChannel transport errored:",t),l.Pu(new Ts(Os.UNAVAILABLE,"The operation could not be completed")))})),f(u,as.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];ms(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ds("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=qa[t];if(void 0!==e)return Wa(e)}(i),s=r.message;void 0===o&&(o=Os.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new Ts(o,s)),u.close()}else ds("Connection","WebChannel received:",n),l.yu(n)}})),f(i,us.STAT_EVENT,(function(t){10===t.stat?ds("Connection","Detected buffering proxy"):11===t.stat&&ds("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ru()}),0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);ds("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return ds("RestConnection","Received: ",t),t}),(function(e){throw vs("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Sh[t]},t}());function Nh(){return"undefined"!=typeof window?window:null}function Dh(){return"undefined"!=typeof document?document:null}function Ph(t){return new Ic(t,!0)}var Vh=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&ds("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Rh=function(){function t(t,e,n,r,i,o){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new Vh(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===Os.RESOURCE_EXHAUSTED?(ps(e.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Os.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then((function(e){t.ju===n&&t.rh(e)}),(function(n){e((function(){var e=new Ts(Os.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Object(ls.b)(t,void 0,void 0,(function(){return Object(ls.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return ds("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.no.ys((function(){return e.ju===t?n():(ds("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Mh=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(ls.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:gs()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(ms(void 0===e||"string"==typeof e),Is.fromBase64String(e||"")):(ms(void 0===e||e instanceof Uint8Array),Is.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?Os.UNKNOWN:Wa(t.code);return new Ts(e,t.message||"")}(u);n=new mc(r,i,o,s||null)}else if("documentChange"in e){i=Dc(t,(r=e.documentChange).document.name),o=Sc(r.document.updateTime);var u=new _u({mapValue:{fields:r.document.fields}}),a=(s=new Eu(i,o,u,{}),r.targetIds||[]);n=new yc(a,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Dc(t,(r=e.documentDelete).document),o=r.readTime?Sc(r.readTime):Gs.min(),u=new Iu(i,o),n=new yc([],s=r.removedTargetIds||[],u.key,u);else if("documentRemove"in e)i=Dc(t,(r=e.documentRemove).document),n=new yc([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return gs();var c=e.filter;i=new Ka(r=c.count||0),n=new gc(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Gs.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Gs.min():e.readTime?Sc(e.readTime):Gs.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Rc(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=ju(r)?{documents:qc(t,r)}:{query:Gc(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Tc(t,e.resumeToken):e.Mt.u(Gs.min())>0&&(n.readTime=Oc(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gs()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Rc(this.Kt),e.removeTarget=t,this.eh(e)},e}(Rh),Lh=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(ls.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(ms(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(ms(void 0!==e),t.map((function(t){return function(t,e){var n=Sc(t.updateTime?t.updateTime:e);n.isEqual(Gs.min())&&(n=Sc(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ta(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Sc(t.commitTime);return this.listener.wh(n,e)}return ms(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Rc(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Uc(e.Kt,t)}))};this.eh(n)},e}(Rh),Fh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(ls.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Ts(Os.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===Os.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===Os.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),Uh=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(ps(e),this.Ph=!1):ds("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),Hh=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return Object(ls.b)(o,void 0,void 0,(function(){return Object(ls.d)(this,(function(t){switch(t.label){case 0:return Yh(this)?(ds("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(ls.b)(this,void 0,void 0,(function(){var e;return Object(ls.d)(this,(function(n){switch(n.label){case 0:return(e=bs(t)).Fh.add(4),[4,Gh(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,qh(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new Uh(n,r)};function qh(t){return Object(ls.b)(this,void 0,void 0,(function(){var e,n;return Object(ls.d)(this,(function(r){switch(r.label){case 0:if(!Yh(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Gh(t){return Object(ls.b)(this,void 0,void 0,(function(){var e,n;return Object(ls.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function zh(t,e){var n=bs(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Zh(n)?Wh(n):fd(n).Ju()&&Kh(n,e))}function Bh(t,e){var n=bs(t),r=fd(n);n.Nh.delete(e),r.Ju()&&Jh(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():Yh(n)&&n.Mh.set("Unknown"))}function Kh(t,e){t.Lh.cn(e.targetId),fd(t).hh(e)}function Jh(t,e){t.Lh.cn(e),fd(t).lh(e)}function Wh(t){t.Lh=new _c({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),fd(t).start(),t.Mh.yh()}function Zh(t){return Yh(t)&&!fd(t).Hu()&&t.Nh.size>0}function Yh(t){return 0===bs(t).Fh.size}function Qh(t){t.Lh=void 0}function Xh(t){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(e){return t.Nh.forEach((function(e,n){Kh(t,e)})),[2]}))}))}function $h(t,e){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(n){return Qh(t),Zh(t)?(t.Mh.ph(e),Wh(t)):t.Mh.set("Unknown"),[2]}))}))}function td(t,e,n){return Object(ls.b)(this,void 0,void 0,(function(){var r,i,o;return Object(ls.d)(this,(function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof mc&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(ls.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),ds("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ed(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof yc?t.Lh.wn(e):e instanceof gc?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Gs.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Zf(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Is.h,n.Mt)),Jh(t,e);var r=new la(n.target,e,1,n.sequenceNumber);Kh(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return ds("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,ed(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function ed(t,e,n){return Object(ls.b)(this,void 0,void 0,(function(){var r=this;return Object(ls.d)(this,(function(i){switch(i.label){case 0:if(!ul(e))throw e;return t.Fh.add(1),[4,Gh(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Zf(t.Sh)}),t.fs.vo((function(){return Object(ls.b)(r,void 0,void 0,(function(){return Object(ls.d)(this,(function(e){switch(e.label){case 0:return ds("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,qh(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function nd(t,e){return e().catch((function(n){return ed(t,n,e)}))}function rd(t){return Object(ls.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(ls.d)(this,(function(s){switch(s.label){case 0:e=bs(t),n=hd(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Yh(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Xf(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=hd(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,ed(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return id(e)&&od(e),[2]}}))}))}function id(t){return Yh(t)&&!hd(t).Hu()&&t.xh.length>0}function od(t){hd(t).start()}function sd(t){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(e){return hd(t).Th(),[2]}))}))}function ud(t){return Object(ls.b)(this,void 0,void 0,(function(){var e,n,r;return Object(ls.d)(this,(function(i){for(e=hd(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]}))}))}function ad(t,e,n){return Object(ls.b)(this,void 0,void 0,(function(){var r,i;return Object(ls.d)(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=Hl.from(r,e,n),[4,nd(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,rd(t)];case 2:return o.sent(),[2]}}))}))}function cd(t,e){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(n){switch(n.label){case 0:return e&&hd(t).fh?[4,function(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r;return Object(ls.d)(this,(function(i){switch(i.label){case 0:return Ja(r=e.code)&&r!==Os.ABORTED?(n=t.xh.shift(),hd(t).Xu(),[4,nd(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,rd(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return id(t)&&od(t),[2]}}))}))}function ld(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n;return Object(ls.d)(this,(function(r){switch(r.label){case 0:return n=bs(t),e?(n.Fh.delete(2),[4,qh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,Gh(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function fd(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=bs(t);return r.mh(),new Mh(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Xh.bind(null,t),Iu:$h.bind(null,t),uh:td.bind(null,t)}),t.Oh.push((function(n){return Object(ls.b)(e,void 0,void 0,(function(){return Object(ls.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Zh(t)?Wh(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Qh(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function hd(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=bs(t);return r.mh(),new Lh(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:sd.bind(null,t),Iu:cd.bind(null,t),Eh:ud.bind(null,t),wh:ad.bind(null,t)}),t.Oh.push((function(n){return Object(ls.b)(e,void 0,void 0,(function(){return Object(ls.d)(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,rd(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(ds("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var dd=function(){this.Wh=void 0,this.listeners=[]},pd=function(){this.queries=new lf((function(t){return oa(t)}),ia),this.onlineState="Unknown",this.jh=new Set};function vd(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a;return Object(ls.d)(this,(function(c){switch(c.label){case 0:if(n=bs(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new dd),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.Wh=c.sent(),[3,4];case 3:return u=c.sent(),a=dl(u,"Initialization of query '"+sa(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&bd(n),[2]}}))}))}function yd(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(ls.d)(this,(function(u){return n=bs(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function gd(t,e){for(var n=bs(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].Hh(s)&&(r=!0);u.Wh=s}}r&&bd(n)}function md(t,e,n){var r=bs(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function bd(t){t.jh.forEach((function(t){t.next()}))}var _d=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new dc(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=dc.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),wd=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),kd=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Dc(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Fc(this.Kt,t.document,!1):new Iu(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Sc(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new kd(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],l=(e.get(c)||ac()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(ls.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(ls.d)(this,(function(o){switch(o.label){case 0:return[4,oh(this.Sh,new kd(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,sh(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new pl(Object.assign({},this.progress),t))]}}))}))}}();var Cd=function(t){this.key=t},Ed=function(t){this.key=t},Id=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=ac(),this.Ce=ac(),this.ll=aa(t),this._l=new fc(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new hc,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,u=!1,a=Yu(this.query)&&i.size===this.query.limit?i.last():null,c=Qu(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var l=i.get(t),f=e instanceof Eu?e:null;f&&(f=ua(n.query,f)?f:null);var h=!!l&&n.Ce.has(l.key),d=!!f&&(f.bt||n.Ce.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data().isEqual(f.data())?h!==d&&(r.track({type:3,doc:f}),p=!0):n.El(l,f)||(r.track({type:2,doc:f}),p=!0,(a&&n.ll(f,a)>0||c&&n.ll(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(f?(s=s.add(f),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Yu(this.query)||Qu(this.query))for(;s.size>this.query.limit;){var l=Yu(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:u,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gs()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var s=e?this.Il():[],u=0===this.hl.size&&this.qe?1:0,a=u!==this.ul;return this.ul=u,0!==o.length||a?{snapshot:new dc(this.query,t._l,i,o,t.Ce,0===u,a,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new hc,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=ac(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new Ed(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new Cd(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=ac();var e=this.dl(t.documents);return this.Ti(e,!0)},t.prototype.Pl=function(){return dc.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),Od=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Td=function(t){this.key=t,this.yl=!1},Ad=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new lf((function(t){return oa(t)}),ia),this.Dl=new Map,this.Cl=[],this.xl=new Za(Ws.J),this.Nl=new Map,this.Fl=new ah,this.Ol={},this.kl=new Map,this.Ml=bf.qi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Sd(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(ls.d)(this,(function(u){switch(u.label){case 0:return n=ip(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,$f(n.Sh,na(e))];case 2:return o=u.sent(),s=n.pl.ka(o.targetId),[4,xd(n,e,o.targetId,"current"===s)];case 3:r=u.sent(),n.$l&&zh(n.gl,o),u.label=4;case 4:return[2,r]}}))}))}function xd(t,e,n,r){return Object(ls.b)(this,void 0,void 0,(function(){var i,o,s,u,a,c;return Object(ls.d)(this,(function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(ls.b)(this,void 0,void 0,(function(){var i,o,s;return Object(ls.d)(this,(function(u){switch(u.label){case 0:return(i=e.view.dl(n))._c?[4,eh(t.Sh,e.query,!1).then((function(t){return e.view.dl(t.documents,i)}))]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.Oe.get(e.targetId),s=e.view.Ti(i,t.$l,o),[2,(Gd(t,e.targetId,s.ml),s.snapshot)]}}))}))}(t,e,n,r)},[4,eh(t.Sh,e,!0)];case 1:return i=l.sent(),o=new Id(e,i.Pc),s=o.dl(i.documents),u=vc.Be(n,r&&"Offline"!==t.onlineState),a=o.Ti(s,t.$l,u),Gd(t,n,a.ml),c=new Od(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),a.snapshot)]}}))}))}function jd(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ls.d)(this,(function(o){switch(o.label){case 0:return n=bs(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!ia(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,th(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),Bh(n.gl,r.targetId),Hd(n,r.targetId)})).catch(cf)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Hd(n,r.targetId),[4,th(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Nd(t,e,n){return Object(ls.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(ls.d)(this,(function(u){switch(u.label){case 0:r=op(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=bs(t),i=qs.now(),o=e.reduce((function(t,e){return t.add(e.key)}),ac());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=Da(c,n.get(c.key));null!=l&&s.push(new Ma(c.key,l,ku(l.proto.mapValue),Aa.exists(!0)))}return r.Ho.yi(t,i,s,e)}))})).then((function(t){var e=t.Fs(n);return{batchId:t.batchId,ci:e}}))}(r.Sh,e)];case 2:return i=u.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new Za(ks)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,Kd(r,i.ci)];case 3:return u.sent(),[4,rd(r.gl)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=dl(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Dd(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r;return Object(ls.d)(this,(function(i){switch(i.label){case 0:n=bs(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Yf(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach((function(t,e){var r=n.Nl.get(e);r&&(ms(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?ms(r.yl):t.Ke.size>0&&(ms(r.yl),r.yl=!1))})),[4,Kd(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,cf(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Pd(t,e,n){var r=bs(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=bs(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&bd(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Vd(t,e,n){return Object(ls.b)(this,void 0,void 0,(function(){var r,i,o,s,u,a;return Object(ls.d)(this,(function(c){switch(c.label){case 0:return(r=bs(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new Za(Ws.J)).Ht(o,new Iu(o,Gs.min())),u=ac().add(o),a=new pc(Gs.min(),new Map,new Xa(ks),s,u),[4,Dd(r,a)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),Bd(r),[3,4];case 2:return[4,th(r.Sh,e,!1).then((function(){return Hd(r,e,n)})).catch(cf)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Rd(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ls.d)(this,(function(o){switch(o.label){case 0:n=bs(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Wf(n.Sh,e)];case 2:return i=o.sent(),Ud(n,r,null),Fd(n,r),n.pl.Fa(r,"acknowledged"),[4,Kd(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,cf(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Md(t,e,n){return Object(ls.b)(this,void 0,void 0,(function(){var r,i;return Object(ls.d)(this,(function(o){switch(o.label){case 0:r=bs(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=bs(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.gi(t,e).next((function(e){return ms(null!==e),r=e.keys(),n.Ho.Ni(t,e)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),Ud(r,e,n),Fd(r,e),r.pl.Fa(e,"rejected",n),[4,Kd(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,cf(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Ld(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(ls.d)(this,(function(u){switch(u.label){case 0:Yh((n=bs(t)).gl)||ds("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=bs(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.bi(t)}))}(n.Sh)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=u.sent(),s=dl(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Fd(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function Ud(t,e,n){var r=bs(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function Hd(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach((function(e){t.Fl.Mi(e)||qd(t,e)}))}function qd(t,e){var n=t.xl.get(e);null!==n&&(Bh(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Bd(t))}function Gd(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Cd?(t.Fl.ir(o.key,e),zd(t,o)):o instanceof Ed?(ds("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.cr(o.key,e),t.Fl.Mi(o.key)||qd(t,o.key)):gs()}}function zd(t,e){var n=e.key;t.xl.get(n)||(ds("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Bd(t))}function Bd(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Td(e)),t.xl=t.xl.Ht(e,n),zh(t.gl,new la(na(Zu(e.path)),n,2,Hs.U))}}function Kd(t,e,n){return Object(ls.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(ls.d)(this,(function(u){switch(u.label){case 0:return r=bs(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,u){s.push(r.Bl(u,e,n).then((function(t){if(t){r.$l&&r.pl.qa(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Gf.cc(u.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.vl.uh(i),[4,function(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a,c;return Object(ls.d)(this,(function(l){switch(l.label){case 0:n=bs(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return nl.forEach(e,(function(e){return nl.forEach(e.rc,(function(r){return n.persistence.mi.ir(t,e.targetId,r)})).next((function(){return nl.forEach(e.oc,(function(r){return n.persistence.mi.cr(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!ul(r=l.sent()))throw r;return ds("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(s=o[i]).targetId,s.fromCache||(a=n.dc.get(u),c=a.Bt(a.Mt),n.dc=n.dc.Ht(u,c));return[2]}}))}))}(r.Sh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Jd(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r;return Object(ls.d)(this,(function(i){switch(i.label){case 0:return(n=bs(t)).currentUser.isEqual(e)?[3,3]:(ds("SyncEngine","User change. New user:",e.R()),[4,Jf(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new Ts(Os.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Kd(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Wd(t,e){var n=bs(t),r=n.Nl.get(e);if(r&&r.yl)return ac().add(r.key);var i=ac(),o=n.Dl.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.Sl.get(u[s]);i=i.ye(a.view.fl)}return i}function Zd(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ls.d)(this,(function(o){switch(o.label){case 0:return[4,eh((n=bs(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&Gd(n,e.targetId,i.ml),i)]}}))}))}function Yd(t){return Object(ls.b)(this,void 0,void 0,(function(){var e;return Object(ls.d)(this,(function(n){return[2,rh((e=bs(t)).Sh).then((function(t){return Kd(e,t)}))]}))}))}function Qd(t,e,n,r){return Object(ls.b)(this,void 0,void 0,(function(){var i,o;return Object(ls.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=bs(t),r=bs(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Vi(t,e).next((function(e){return e?n.Ic.Zo(t,e):nl.resolve(null)}))}))}((i=bs(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,rd(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ud(i,e,r||null),Fd(i,e),function(t,e){bs(bs(t).Ho).Fi(e)}(i.Sh,e)):gs(),s.label=4;case 4:return[4,Kd(i,o)];case 5:return s.sent(),[3,7];case 6:ds("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Xd(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a;return Object(ls.d)(this,(function(c){switch(c.label){case 0:return ip(n=bs(t)),op(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,$d(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,ld(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)zh(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(u=[],a=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?u.push(e):a=a.then((function(){return Hd(n,e),th(n.Sh,e,!0)})),Bh(n.gl,e)})),[4,a]);case 4:return c.sent(),[4,$d(n,u)];case 5:return c.sent(),function(t){var e=bs(t);e.Nl.forEach((function(t,n){Bh(e.gl,n)})),e.Fl.Mc(),e.Nl=new Map,e.xl=new Za(Ws.J)}(n),n.Ll=!1,[4,ld(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function $d(t,e,n){return Object(ls.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a,c,l,f,h,d,p;return Object(ls.d)(this,(function(v){switch(v.label){case 0:n=bs(t),r=[],i=[],o=0,s=e,v.label=1;case 1:return o<s.length?(a=void 0,(c=n.Dl.get(u=s[o]))&&0!==c.length?[4,$f(n.Sh,na(c[0]))]:[3,7]):[3,13];case 2:a=v.sent(),l=0,f=c,v.label=3;case 3:return l<f.length?(h=n.Sl.get(f[l]),[4,Zd(n,h)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,nh(n.Sh,u)];case 8:return p=v.sent(),[4,$f(n.Sh,p)];case 9:return a=v.sent(),[4,xd(n,tp(p),u,!1)];case 10:v.sent(),v.label=11;case 11:r.push(a),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function tp(t){return Wu(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ep(t){var e=bs(t);return bs(bs(e.Sh).persistence).Ko()}function np(t,e,n,r){return Object(ls.b)(this,void 0,void 0,(function(){var i,o,s;return Object(ls.d)(this,(function(u){switch(u.label){case 0:return(i=bs(t)).Ll?(ds("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,rh(i.Sh)];case 3:return o=u.sent(),s=pc.$e(e,"current"===n),[4,Kd(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,th(i.Sh,e,!0)];case 6:return u.sent(),Hd(i,e,r),[3,8];case 7:gs(),u.label=8;case 8:return[2]}}))}))}function rp(t,e,n){return Object(ls.b)(this,void 0,void 0,(function(){var r,i,o,s,u,a,c,l,f;return Object(ls.d)(this,(function(h){switch(h.label){case 0:if(!(r=ip(t)).Ll)return[3,10];i=0,o=e,h.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(ds("SyncEngine","Adding an already active target "+s),[3,5]):[4,nh(r.Sh,s)]:[3,6];case 2:return u=h.sent(),[4,$f(r.Sh,u)];case 3:return a=h.sent(),[4,xd(r,tp(u),a.targetId,!1)];case 4:h.sent(),zh(r.gl,a),h.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(ls.d)(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,th(r.Sh,t,!1).then((function(){Bh(r.gl,t),Hd(r,t)})).catch(cf)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,f=n,h.label=7;case 7:return l<f.length?[5,c(f[l])]:[3,10];case 8:h.sent(),h.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function ip(t){var e=bs(t);return e.gl.Ch.Bh=Dd.bind(null,e),e.gl.Ch.Sn=Wd.bind(null,e),e.gl.Ch.$h=Vd.bind(null,e),e.vl.uh=gd.bind(null,e.Vl),e.vl.ql=md.bind(null,e.Vl),e}function op(t){var e=bs(t);return e.gl.Ch.qh=Rd.bind(null,e),e.gl.Ch.Uh=Md.bind(null,e),e}var sp=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(e){switch(e.label){case 0:return this.Kt=Ph(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Kf(this.persistence,new zf,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new ph(yh.ra,this.Kt)},t.prototype.jl=function(t){return new Oh},t.prototype.terminate=function(){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}}))}))},t}(),up=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(ls.c)(e,t),e.prototype.initialize=function(e){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ih(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,op(this.Xl.fa)];case 4:return n.sent(),[4,rd(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return Kf(this.persistence,new zf,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Of(this.persistence.mi.dr,t.fs)},e.prototype.Gl=function(t){var e=Hf(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?af.Zs(this.cacheSizeBytes):af.ni;return new Lf(this.synchronizeTabs,e,t.clientId,n,t.fs,Nh(),Dh(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new Oh},e}(sp),ap=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(ls.c)(e,t),e.prototype.initialize=function(e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r=this;return Object(ls.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Ih?(this.pl.fa={nu:Qd.bind(null,n),su:np.bind(null,n),iu:rp.bind(null,n),Ko:ep.bind(null,n),eu:Yd.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.yo((function(t){return Object(ls.b)(r,void 0,void 0,(function(){return Object(ls.d)(this,(function(e){switch(e.label){case 0:return[4,Xd(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=Nh();if(!Ih.Wn(e))throw new Ts(Os.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Hf(t.gu.T,t.gu.persistenceKey);return new Ih(e,t.fs,n,t.clientId,t.Yl)},e}(up),cp=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n=this;return Object(ls.d)(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Pd(n.fa,t,1)},this.gl.Ch.s_=Jd.bind(null,this.fa),[4,ld(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new pd},t.prototype.Zl=function(t){var e=Ph(t.gu.T),n=new jh(t.gu);return function(t,e,n){return new Fh(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Pd(s.fa,t,0)},o=Ah.Wn()?new Ah:new Th,new Hh(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var u=new Ad(t,e,n,r,i,o);return s&&(u.Ll=!0),u}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(ls.b)(this,void 0,void 0,(function(){var e;return Object(ls.d)(this,(function(n){switch(n.label){case 0:return e=bs(t),ds("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,Gh(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),lp=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),fp=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new el,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return Object(ls.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(ls.d)(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new wd(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return Object(ls.b)(this,void 0,void 0,(function(){var t,e;return Object(ls.d)(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return Object(ls.b)(this,void 0,void 0,(function(){var e;return Object(ls.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(ls.b)(this,void 0,void 0,(function(){var t,e;return Object(ls.d)(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ts(Os.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Js(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),hp=function(t){this._methodName=t};function dp(t,e,n){if(!n)throw new Ts(Os.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function pp(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ts(Os.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function vp(t,e,n,r){if(!0===e&&!0===r)throw new Ts(Os.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function yp(t){if(!Ws.Et(t))throw new Ts(Os.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function gp(t){if(Ws.Et(t))throw new Ts(Os.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function mp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":gs()}function bp(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ts(Os.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=mp(t);throw new Ts(Os.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function _p(t,e){if(e<=0)throw new Ts(Os.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var wp=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ts(Os.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ts(Os.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,vp("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),kp=new Map,Cp=function(){function t(t,e){this.w_="(lite)",this.E_=new wp({}),this.T_=!1,t instanceof Ps?(this.I_=t,this.m_=new Ms):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ts(Os.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ps(t.options.projectId)}(t),this.m_=new Ls(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Ts(Os.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Ts(Os.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new wp(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Ms;switch(t.type){case"gapi":var e=t.client;return ms(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Us(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Ts(Os.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=kp.get(this))&&(ds("ComponentProvider","Removing Datastore"),kp.delete(this),t.terminate()),Promise.resolve();var t},t}(),Ep=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Op(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Ip=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Op=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Zu(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(ls.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Ep(this.firestore,null,new Ws(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Ip);function Tp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ss&&(t=t._),dp("collection","path",e),t instanceof Cp)return gp(n=Bs.ct.apply(Bs,Object(ls.g)([e],r))),new Op(t,null,n);if(!(t instanceof Ep||t instanceof Op))throw new Ts(Os.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return gp(n=Bs.ct.apply(Bs,Object(ls.g)([t.path],r)).child(Bs.ct(e))),new Op(t.firestore,null,n)}function Ap(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ss&&(t=t._),1===arguments.length&&(e=ws.t()),dp("doc","path",e),t instanceof Cp)return yp(n=Bs.ct.apply(Bs,Object(ls.g)([e],r))),new Ep(t,null,new Ws(n));if(!(t instanceof Ep||t instanceof Op))throw new Ts(Os.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return yp(n=t.D_.child(Bs.ct.apply(Bs,Object(ls.g)([e],r)))),new Ep(t.firestore,t instanceof Op?t.v_:null,new Ws(n))}function Sp(t,e){return t instanceof Ss&&(t=t._),e instanceof Ss&&(e=e._),(t instanceof Ep||t instanceof Op)&&(e instanceof Ep||e instanceof Op)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function xp(t,e){return t instanceof Ss&&(t=t._),e instanceof Ss&&(e=e._),t instanceof Ip&&e instanceof Ip&&t.firestore===e.firestore&&ia(t.C_,e.C_)&&t.v_===e.v_}var jp=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ts(Os.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ts(Os.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return ks(this.x_,t.x_)||ks(this.N_,t.N_)},t}(),Np=/^__.*__$/,Dp=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new Ma(t,this.data,this.zt,e,this.fieldTransforms):new Ra(t,this.data,e,this.fieldTransforms)},t}(),Pp=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Ma(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Vp(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gs()}}var Rp=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return nv(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Vp(this.k_)&&Np.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Mp=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Ph(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Rp({k_:t,methodName:e,j_:n,path:Js.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Lp(t){var e=t.p_(),n=Ph(t.I_);return new Mp(t.I_,!!e.ignoreUndefinedProperties,n)}function Fp(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Xp("Data must be an object, but it was:",s,r);var u,a,c=Yp(r,s);if(o.merge)u=new Xs(s.zt),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=$p(e,h[f],n);if(!s.contains(d))throw new Ts(Os.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");rv(l,d)||l.push(d)}u=new Xs(l),a=s.fieldTransforms.filter((function(t){return u.It(t.field)}))}else u=null,a=s.fieldTransforms;return new Dp(new _u(c),u,a)}var Up=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ls.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(hp);function Hp(t,e,n){return new Rp({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var qp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ls.c)(e,t),e.prototype.z_=function(t){return new Oa(t.path,new ma)},e.prototype.isEqual=function(t){return t instanceof e},e}(hp),Gp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(ls.c)(e,t),e.prototype.z_=function(t){var e=Hp(this,t,!0),n=this.H_.map((function(t){return Zp(t,e)})),r=new ba(n);return new Oa(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(hp),zp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(ls.c)(e,t),e.prototype.z_=function(t){var e=Hp(this,t,!0),n=this.H_.map((function(t){return Zp(t,e)})),r=new wa(n);return new Oa(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(hp),Bp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(ls.c)(e,t),e.prototype.z_=function(t){var e=new Ca(t.Kt,da(t.Kt,this.J_));return new Oa(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(hp);function Kp(t,e,n,r){var i=t.G_(1,e,n);Xp("Data must be an object, but it was:",i,r);var o=[],s=new wu;Ys(r,(function(t,r){var u=ev(e,t,n);r instanceof Ss&&(r=r._);var a=i.U_(u);if(r instanceof Up)o.push(u);else{var c=Zp(r,a);null!=c&&(o.push(u),s.set(u,c))}}));var u=new Xs(o);return new Pp(s.yt(),u,i.fieldTransforms)}function Jp(t,e,n,r,i,o){var s=t.G_(1,e,n),u=[$p(e,r,n)],a=[i];if(o.length%2!=0)throw new Ts(Os.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push($p(e,o[c])),a.push(o[c+1]);for(var l=[],f=new wu,h=u.length-1;h>=0;--h)if(!rv(l,u[h])){var d=u[h],p=a[h];p instanceof Ss&&(p=p._);var v=s.U_(d);if(p instanceof Up)l.push(d);else{var y=Zp(p,v);null!=y&&(l.push(d),f.set(d,y))}}var g=new Xs(l);return new Pp(f.yt(),g,s.fieldTransforms)}function Wp(t,e,n,r){return void 0===r&&(r=!1),Zp(n,t.G_(r?4:3,e))}function Zp(t,e){if(t instanceof Ss&&(t=t._),Qp(t))return Xp("Unsupported field value:",e,t),Yp(t,e);if(t instanceof hp)return function(t,e){if(!Vp(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Zp(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Ss&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return da(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=qs.fromDate(t);return{timestampValue:Oc(e.Kt,n)}}if(t instanceof qs)return n=new qs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Oc(e.Kt,n)};if(t instanceof jp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof As)return{bytesValue:Tc(e.Kt,t.l)};if(t instanceof Ep){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:xc(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+mp(t))}(t,e)}function Yp(t,e){var n={};return Qs(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Ys(t,(function(t,r){var i=Zp(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Qp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof qs||t instanceof jp||t instanceof As||t instanceof Ep||t instanceof hp)}function Xp(t,e,n){if(!Qp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=mp(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function $p(t,e,n){if(e instanceof Ss&&(e=e._),e instanceof fp)return e.d_;if("string"==typeof e)return ev(t,e);throw nv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var tv=new RegExp("[~\\*/\\[\\]]");function ev(t,e,n){if(e.search(tv)>=0)throw nv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(fp.bind.apply(fp,Object(ls.g)([void 0],e.split("."))))).d_}catch(r){throw nv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function nv(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new Ts(Os.INVALID_ARGUMENT,(u+=". ")+t+a)}function rv(t,e){return t.some((function(t){return t.isEqual(e)}))}var iv=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(ls.b)(this,void 0,void 0,(function(){var e,n=this;return Object(ls.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Ts(Os.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Object(ls.d)(this,(function(a){switch(a.label){case 0:return n=bs(t),r=Rc(n.Kt)+"/documents",i={documents:e.map((function(t){return Nc(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){ms(!!e.found);var n=Dc(t,e.found.name),r=Sc(e.found.updateTime),i=new _u({mapValue:{fields:e.found.fields}});return new Eu(n,r,i,{})}(t,e):"missing"in e?function(t,e){ms(!!e.missing),ms(!!e.readTime);var n=Dc(t,e.missing),r=Sc(e.readTime);return new Iu(n,r)}(t,e):gs()}(n.Kt,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());ms(!!e),u.push(e)})),u)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Iu||t instanceof Eu?n.sf(t):gs()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new za(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(ls.b)(this,void 0,void 0,(function(){var t,e=this;return Object(ls.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Ws.ft(n);e.mutations.push(new Ba(r,e.Gt(r)))})),[4,function(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ls.d)(this,(function(o){switch(o.label){case 0:return n=bs(t),r=Rc(n.Kt)+"/documents",i={writes:e.map((function(t){return Uc(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Eu)e=t.version;else{if(!(t instanceof Iu))throw gs();e=Gs.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ts(Os.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Aa.updateTime(e):Aa.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Gs.min()))throw new Ts(Os.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Aa.updateTime(e)}return Aa.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),ov=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Vh(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Object(ls.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(ls.d)(this,(function(r){return t=new iv(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!ou(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ja(e)}return!1},t}(),sv=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Vs.UNAUTHENTICATED,this.clientId=ws.t(),this._f=function(){},this.N=new el,this.credentials.S((function(t){ds("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new Ts(Os.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new el;return this.fs.Tf((function(){return Object(ls.b)(t,void 0,void 0,(function(){var t,n;return Object(ls.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=dl(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function uv(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(ls.d)(this,(function(o){switch(o.label){case 0:return t.fs.Af(),ds("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.vo((function(){return Object(ls.b)(i,void 0,void 0,(function(){return Object(ls.d)(this,(function(t){switch(t.label){case 0:return[4,Jf(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Vo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function av(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r;return Object(ls.d)(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,cv(t)];case 1:return n=i.sent(),ds("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.vo((function(){return function(t,e){return Object(ls.b)(this,void 0,void 0,(function(){var n,r;return Object(ls.d)(this,(function(i){switch(i.label){case 0:return(n=bs(t)).fs.Af(),ds("RemoteStore","RemoteStore received new credentials"),r=Yh(n),n.Fh.add(3),[4,Gh(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,qh(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function cv(t){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(ds("FirestoreClient","Using default OfflineComponentProvider"),[4,uv(t,new sp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function lv(t){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(ds("FirestoreClient","Using default OnlineComponentProvider"),[4,av(t,new cp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function fv(t){return cv(t).then((function(t){return t.persistence}))}function hv(t){return cv(t).then((function(t){return t.Sh}))}function dv(t){return lv(t).then((function(t){return t.gl}))}function pv(t){return lv(t).then((function(t){return t.fa}))}function vv(t){return Object(ls.b)(this,void 0,void 0,(function(){var e,n;return Object(ls.d)(this,(function(r){switch(r.label){case 0:return[4,lv(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Sd.bind(null,e.fa),n.Jh=jd.bind(null,e.fa),n)]}}))}))}function yv(t,e,n){var r=this;void 0===n&&(n={});var i=new el;return t.fs.ys((function(){return Object(ls.b)(r,void 0,void 0,(function(){var r;return Object(ls.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new lp({next:function(o){e.ys((function(){return yd(t,s)}));var u=o.docs.has(n);!u&&o.fromCache?i.reject(new Ts(Os.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new Ts(Os.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new _d(Zu(n.path),o,{includeMetadataChanges:!0,sl:!0});return vd(t,s)},[4,vv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function gv(t,e,n){var r=this;void 0===n&&(n={});var i=new el;return t.fs.ys((function(){return Object(ls.b)(r,void 0,void 0,(function(){var r;return Object(ls.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new lp({next:function(n){e.ys((function(){return yd(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Ts(Os.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new _d(n,o,{includeMetadataChanges:!0,sl:!0});return vd(t,s)},[4,vv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var mv=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Vh(this,"async_queue_retry"),this.vf=function(){var e=Dh();e&&ds("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Dh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Dh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.vo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(ls.b)(this,void 0,void 0,(function(){var t,e=this;return Object(ls.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!ul(t=n.sent()))throw t;return ds("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,ps("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.mr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=hl.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&gs()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(ls.b)(this,void 0,void 0,(function(){var t;return Object(ls.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),bv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new mv,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(ls.c)(e,t),e.prototype.b_=function(){return this.Lf||wv(this),this.Lf.terminate()},e}(Cp);function _v(t){return t.Lf||wv(t),t.Lf.df(),t.Lf}function wv(t){var e=t.p_(),n=function(t,e,n){return new Ds(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new sv(t.m_,t.Mf,n)}function kv(t,e,n){var r=this,i=new el;return t.fs.enqueue((function(){return Object(ls.b)(r,void 0,void 0,(function(){var r;return Object(ls.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,uv(t,n)];case 1:return o.sent(),[4,av(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Os.FAILED_PRECONDITION||t.code===Os.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Cv(t){if(t.R_||t.P_)throw new Ts(Os.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ev=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),au(t)){case 0:return null;case 1:return t.booleanValue;case 2:return eu(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(nu(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw gs()}},t.prototype.jf=function(t,e){var n=this,r={};return Ys(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new jp(eu(t.latitude),eu(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return ru(n)?t(n):n}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(iu(t));default:return null}},t.prototype.Bf=function(t){var e=tu(t);return new qs(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Bs.ct(t);ms(tl(n));var r=new Ps(n.get(1),n.get(3)),i=new Ws(n.X(5));return r.isEqual(e)||ps("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Iv=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ep(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Ov(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Tv("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Ov=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ls.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Iv);function Tv(t,e){return"string"==typeof e?ev(t,e):e instanceof Ss?e._.d_:e.d_}function Av(t){if(Qu(t)&&0===t.Nt.length)throw new Ts(Os.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Sv=function(){};function xv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var jv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(ls.c)(e,t),e.prototype.Yf=function(t){var e=Lp(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new Ts(Os.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Lv(s,o);for(var a=[],c=0,l=s;c<l.length;c++)a.push(Mv(r,t,l[c]));u={arrayValue:{values:a}}}else u=Mv(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Lv(s,o),u=Wp(n,"where",s,"in"===o||"not-in"===o);var f=Nu.create(i,o,u);return function(t,e){if(e.xt()){var n=$u(t);if(null!==n&&!n.isEqual(e.field))throw new Ts(Os.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Xu(t);null!==r&&Fv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ts(Os.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Ip(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Ju(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Sv),Nv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(ls.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ts(Os.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ts(Os.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Gu(e,n);return function(t,e){if(null===Xu(t)){var n=$u(t);null!==n&&Fv(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Ip(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Ju(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Sv),Dv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(ls.c)(e,t),e.prototype.Yf=function(t){return new Ip(t.firestore,t.v_,ra(t.C_,this.nd,this.sd))},e}(Sv),Pv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(ls.c)(e,t),e.prototype.Yf=function(t){var e=Rv(t,this.type,this.rd,this.od);return new Ip(t.firestore,t.v_,function(t,e){return new Ju(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Sv),Vv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(ls.c)(e,t),e.prototype.Yf=function(t){var e=Rv(t,this.type,this.rd,this.od);return new Ip(t.firestore,t.v_,function(t,e){return new Ju(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Sv);function Rv(t,e,n,r){if(n[0]instanceof Ss&&(n[0]=n[0]._),n[0]instanceof Iv)return function(t,e,n,r,i){if(!r)throw new Ts(Os.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=ea(t);s<u.length;s++){var a=u[s];if(a.field.ht())o.push(pu(e,r.key));else{var c=r.field(a.field);if(ru(c))throw new Ts(Os.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.ot();throw new Ts(Os.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Hu(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Lp(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new Ts(Os.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.ht()){if("string"!=typeof c)throw new Ts(Os.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ta(t)&&-1!==c.indexOf("/"))throw new Ts(Os.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Bs.ct(c));if(!Ws.Et(l))throw new Ts(Os.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new Ws(l);u.push(pu(e,f))}else{var h=Wp(n,r,c);u.push(h)}}return new Hu(u,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Mv(t,e,n){if(n instanceof Ss&&(n=n._),"string"==typeof n){if(""===n)throw new Ts(Os.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ta(e)&&-1!==n.indexOf("/"))throw new Ts(Os.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Bs.ct(n));if(!Ws.Et(r))throw new Ts(Os.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return pu(t,new Ws(r))}if(n instanceof Ep)return pu(t,n.S_);throw new Ts(Os.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+mp(n)+".")}function Lv(t,e){if(!Array.isArray(t)||0===t.length)throw new Ts(Os.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ts(Os.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Fv(t,e,n){if(!n.isEqual(e))throw new Ts(Os.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Uv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function Hv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var qv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ls.c)(e,t),e.prototype.Uf=function(t){return new As(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Ep(this.firestore,null,e)},e}(Ev),Gv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),zv=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).zf=e,u.ad=e,u.metadata=o,u}return Object(ls.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Bv(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Tv("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Iv),Bv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ls.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(zv),Kv=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Gv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new Bv(n.zf,n.Hf,r.key,r,new Gv(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Ts(Os.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){return{type:"added",doc:new Bv(t.zf,t.Hf,e.doc.key,e.doc,new Gv(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Bv(t.zf,t.Hf,e.doc.key,e.doc,new Gv(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Jv(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function Jv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gs()}}function Wv(t,e){return t instanceof zv&&e instanceof zv?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Kv&&e instanceof Kv&&t.zf===e.zf&&xp(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Zv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ls.c)(e,t),e.prototype.Uf=function(t){return new As(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Ep(this.firestore,null,e)},e}(Ev);function Yv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=bp(t,Ep);var o=bp(t.firestore,bv),s=Lp(o);return e instanceof Ss&&(e=e._),Xv(o,[("string"==typeof e||e instanceof fp?Jp(s,"updateDoc",t.S_,e,n,r):Kp(s,"updateDoc",t.S_,e)).F_(t.S_,Aa.exists(!0))])}function Qv(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Ss&&(t=t._);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||Uv(i[u])||(s=i[u],u++);var a,c,l,f={includeMetadataChanges:s.includeMetadataChanges};if(Uv(i[u])){var h=i[u];i[u]=null===(e=h.next)||void 0===e?void 0:e.bind(h),i[u+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[u+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(t instanceof Ep)c=bp(t.firestore,bv),l=Zu(t.S_.path),a={next:function(e){i[u]&&i[u]($v(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=bp(t,Ip);c=bp(d.firestore,bv),l=d.C_;var p=new Zv(c);a={next:function(t){i[u]&&i[u](new Kv(c,p,d,t))},error:i[u+1],complete:i[u+2]},Av(t.C_)}return function(t,e,n,r){var i=this,o=new lp(r),s=new _d(e,o,n);return t.fs.ys((function(){return Object(ls.b)(i,void 0,void 0,(function(){var e;return Object(ls.d)(this,(function(n){switch(n.label){case 0:return e=vd,[4,vv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return Object(ls.b)(i,void 0,void 0,(function(){var e;return Object(ls.d)(this,(function(n){switch(n.label){case 0:return e=yd,[4,vv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(_v(c),l,f,a)}function Xv(t,e){return function(t,e){var n=this,r=new el;return t.fs.ys((function(){return Object(ls.b)(n,void 0,void 0,(function(){var n;return Object(ls.d)(this,(function(i){switch(i.label){case 0:return n=Nd,[4,pv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(_v(t),e)}function $v(t,e,n){var r=n.docs.get(e.S_),i=new Zv(t);return new zv(t,i,e.S_,r,new Gv(n.hasPendingWrites,n.fromCache),e.v_)}var ty=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Lp(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=ey(t,this.zf),i=Hv(r.v_,e,n),o=Fp(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,Aa.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=ey(t,this.zf);return e instanceof Ss&&(e=e._),o="string"==typeof e||e instanceof fp?Jp(this.wd,"WriteBatch.update",s.S_,e,n,r):Kp(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.F_(s.S_,Aa.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=ey(t,this.zf);return this.fd=this.fd.concat(new za(e.S_,Aa.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Ts(Os.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ey(t,e){if(t instanceof Ss&&(t=t._),t.firestore!==e)throw new Ts(Os.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var ny=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(ls.c)(e,t),e.prototype.get=function(e){var n=this,r=ey(e,this.zf),i=new Zv(this.zf);return t.prototype.get.call(this,e).then((function(t){return new zv(n.zf,i,r.S_,t.Jf,new Gv(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Lp(t)}return t.prototype.get=function(t){var e=this,n=ey(t,this.zf),r=new qv(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return gs();var i=t[0];if(i instanceof Iu)return new Iv(e.zf,r,n.S_,null,n.v_);if(i instanceof Eu)return new Iv(e.zf,r,i.key,i,n.v_);throw gs()}))},t.prototype.set=function(t,e,n){var r=ey(t,this.zf),i=Hv(r.v_,e,n),o=Fp(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=ey(t,this.zf);return e instanceof Ss&&(e=e._),o="string"==typeof e||e instanceof fp?Jp(this.wd,"Transaction.update",s.S_,e,n,r):Kp(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=ey(t,this.zf);return this.Td.delete(e.S_),this},t}()),ry=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Cv(t=bp(t,bv));var n=_v(t),r=t.p_(),i=new cp;return kv(n,i,new up(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Cv(t=bp(t,bv));var e=_v(t),n=t.p_(),r=new cp;return kv(e,r,new ap(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Ts(Os.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new el;return t.Mf.Tf((function(){return Object(ls.b)(e,void 0,void 0,(function(){var e;return Object(ls.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(ls.b)(this,void 0,void 0,(function(){return Object(ls.d)(this,(function(e){switch(e.label){case 0:return il.Wn()?[4,il.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Hf(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),iy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Ps||(i.md=e),i}return Object(ls.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&vs("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(ls.b)(e,void 0,void 0,(function(){var e,n;return Object(ls.d)(this,(function(r){switch(r.label){case 0:return[4,fv(t)];case 1:return e=r.sent(),[4,dv(t)];case 2:return n=r.sent(),[2,(e.po(!0),function(t){var e=bs(t);return e.Fh.delete(0),qh(e)}(n))]}}))}))}))}(_v(bp(this._,bv)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(ls.b)(e,void 0,void 0,(function(){var e,n;return Object(ls.d)(this,(function(r){switch(r.label){case 0:return[4,fv(t)];case 1:return e=r.sent(),[4,dv(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return Object(ls.b)(this,void 0,void 0,(function(){var e;return Object(ls.d)(this,(function(n){switch(n.label){case 0:return(e=bs(t)).Fh.add(0),[4,Gh(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(_v(bp(this._,bv)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&vp("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new el;return t.fs.ys((function(){return Object(ls.b)(e,void 0,void 0,(function(){var e;return Object(ls.d)(this,(function(r){switch(r.label){case 0:return e=Ld,[4,pv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(_v(bp(this._,bv)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new lp(e);return t.fs.ys((function(){return Object(ls.b)(n,void 0,void 0,(function(){var e;return Object(ls.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){bs(t).jh.add(e),e.next()},[4,vv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return Object(ls.b)(n,void 0,void 0,(function(){var e;return Object(ls.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){bs(t).jh.delete(e)},[4,vv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(_v(t=bp(t,bv)),Uv(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Ts(Os.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new gy(this,Tp(this._,t))}catch(t){throw cy(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ay(this,Ap(this._,t))}catch(t){throw cy(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new py(this,function(t,e){if(t=bp(t,Cp),dp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ts(Os.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ip(t,null,function(t){return new Ju(Bs.at(),t)}(e))}(this._,t))}catch(t){throw cy(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new el;return t.fs.ys((function(){return Object(ls.b)(n,void 0,void 0,(function(){var n;return Object(ls.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return lv(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new ov(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(_v(t),(function(n){return e(new ny(t,n))}))}(this._,(function(n){return t(new sy(e,n))}))},e.prototype.batch=function(){var t=this;return _v(this._),new uy(new ty(this._,(function(e){return Xv(t._,e)})))},e.prototype.loadBundle=function(t){throw new Ts(Os.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Ts(Os.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Ss),oy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ls.c)(e,t),e.prototype.Uf=function(t){return new Ns(new As(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return ay.Ad(e,this.firestore,null)},e}(Ev),sy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(ls.c)(e,t),e.prototype.get=function(t){var e=this,n=my(t);return this._.get(n).then((function(t){return new hy(e.zf,t)}))},e.prototype.set=function(t,e,n){var r=my(t);return n?(pp("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=my(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(ls.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=my(t);return this._.delete(e),this},e}(Ss),uy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ls.c)(e,t),e.prototype.set=function(t,e,n){var r=my(t);return n?(pp("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=my(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(ls.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=my(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Ss),ay=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new oy(e),r}return Object(ls.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new Ts(Os.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Ep(n._,r,new Ws(t)))},e.Ad=function(t,n,r){return new e(n,new Ep(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new gy(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new gy(this.firestore,Tp(this._,t))}catch(t){throw cy(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Ss&&(t=t._),t instanceof Ep&&Sp(this._,t)},e.prototype.set=function(t,e){e=pp("DocumentReference.set",e);try{return function(t,e,n){t=bp(t,Ep);var r=bp(t.firestore,bv),i=Hv(t.v_,e,n);return Xv(r,[Fp(Lp(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Aa.Wt())])}(this._,t,e)}catch(t){throw cy(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Yv(this._,t):Yv.apply(void 0,Object(ls.g)([this._,t,e],n))}catch(t){throw cy(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Xv(bp((t=this._).firestore,bv),[new za(t.S_,Aa.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ly(e),i=fy(e,(function(e){return new hy(t.firestore,new zv(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return Qv(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=bp(t,Ep);var e=bp(t.firestore,bv),n=_v(e),r=new Zv(e);return function(t,e){var n=this,r=new el;return t.fs.ys((function(){return Object(ls.b)(n,void 0,void 0,(function(){var n;return Object(ls.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ls.b)(this,void 0,void 0,(function(){var r,i;return Object(ls.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=bs(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof Eu?n.resolve(i):i instanceof Iu?n.resolve(null):n.reject(new Ts(Os.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=dl(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,hv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new zv(e,r,t.S_,n,new Gv(n instanceof Eu&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=bp(t,Ep);var e=bp(t.firestore,bv);return yv(_v(e),t.S_,{source:"server"}).then((function(n){return $v(e,t,n)}))}(this._):function(t){t=bp(t,Ep);var e=bp(t.firestore,bv);return yv(_v(e),t.S_).then((function(n){return $v(e,t,n)}))}(this._)).then((function(t){return new hy(e.firestore,new zv(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Ss);function cy(t,e,n){return t.message=t.message.replace(e,n),t}function ly(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Uv(r))return r}return{}}function fy(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Uv(t[0])?t[0]:Uv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var hy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(ls.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new ay(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Wv(this._,t._)},e}(Ss),dy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ls.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(hy),py=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new oy(e),r}return Object(ls.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,xv(this._,function(t,e,n){var r=e,i=Tv("where",t);return new jv(i,r,n)}(t,n,r)))}catch(t){throw cy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,xv(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Tv("orderBy",t);return new Nv(r,n)}(t,n)))}catch(t){throw cy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,xv(this._,function(t){return _p("limit",t),new Dv("limit",t,"F")}(t)))}catch(t){throw cy(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,xv(this._,function(t){return _p("limitToLast",t),new Dv("limitToLast",t,"L")}(t)))}catch(t){throw cy(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Pv("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw cy(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Pv("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw cy(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vv("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw cy(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vv("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw cy(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return xp(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=bp(t,Ip);var e=bp(t.firestore,bv),n=_v(e),r=new Zv(e);return function(t,e){var n=this,r=new el;return t.fs.ys((function(){return Object(ls.b)(n,void 0,void 0,(function(){var n;return Object(ls.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ls.b)(this,void 0,void 0,(function(){var r,i,o,s,u;return Object(ls.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,eh(t,e,!0)];case 1:return u=a.sent(),r=new Id(e,u.Pc),i=r.dl(u.documents),o=r.Ti(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=dl(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,hv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new Kv(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=bp(t,Ip);var e=bp(t.firestore,bv),n=_v(e),r=new Zv(e);return gv(n,t.C_,{source:"server"}).then((function(n){return new Kv(e,r,t,n)}))}(this._):function(t){t=bp(t,Ip);var e=bp(t.firestore,bv),n=_v(e),r=new Zv(e);return Av(t.C_),gv(n,t.C_).then((function(n){return new Kv(e,r,t,n)}))}(this._)).then((function(t){return new yy(e.firestore,new Kv(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ly(e),i=fy(e,(function(e){return new yy(t.firestore,new Kv(t.firestore._,t.Hf,t._,e.ud))}));return Qv(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Ss),vy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(ls.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new dy(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Ss),yy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(ls.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new py(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new dy(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new vy(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new dy(n.zf,r))}))},e.prototype.isEqual=function(t){return Wv(this._,t._)},e}(Ss),gy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(ls.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new ay(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ay(this.firestore,void 0===t?Ap(this._):Ap(this._,t))}catch(t){throw cy(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=bp(t.firestore,bv),r=Ap(t),i=Hv(t.v_,e);return Xv(n,[Fp(Lp(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Aa.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new ay(e.firestore,t)}))},e.prototype.isEqual=function(t){return Sp(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(py);function my(t){return t instanceof Ss&&(t=t._),bp(t,Ep)}var by=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(fp.bind.apply(fp,Object(ls.g)([void 0],e))))||this}return Object(ls.c)(e,t),e.documentId=function(){return new e(Js.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Ss&&(t=t._),t instanceof fp&&this._.d_.isEqual(t.d_)},e}(Ss),_y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ls.c)(e,t),e.serverTimestamp=function(){var t=new qp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Up("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gp("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zp("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Bp("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Ss);!function(){function t(){this.Pd={},this.yd=new el,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.Wl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var wy,ky=n("/6Yf"),Cy={Firestore:iy,GeoPoint:jp,Timestamp:qs,Blob:Ns,Transaction:sy,WriteBatch:uy,DocumentReference:ay,DocumentSnapshot:hy,Query:py,QueryDocumentSnapshot:dy,QuerySnapshot:yy,CollectionReference:gy,FieldPath:by,FieldValue:_y,setLogLevel:function(t){fs.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new ky.a("firestore",(function(t){return function(t,e){return new iy(t,new bv(t,e),new ry)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Cy)))})(wy=un.a),wy.registerVersion("@firebase/firestore","2.1.1");var Ey=n("XNiG"),Iy=n("VRyK"),Oy=n("l7GE"),Ty=n("51Dv"),Ay=n("ZUHj");function Sy(t,e){return"function"==typeof e?function(n){return n.pipe(Sy((function(n,r){return Object(ht.a)(t(n,r)).pipe(Object(lt.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new xy(t))}}var xy=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new jy(t,this.project))}}]),t}(),jy=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new Ty.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(Ay.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),n}(Oy.a),Ny=n("qgXg"),Dy=n("quSY"),Py=n("9ppp"),Vy=n("Ylt2"),Ry=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(t){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this._events.push(new My(this._getNow(),t)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new Py.a;if(this.isStopped||this.hasError?e=Dy.a.EMPTY:(this.observers.push(t),e=new Vy.a(this,t)),i&&t.add(t=new on.a(t,i)),n)for(var s=0;s<o&&!t.closed;s++)t.next(r[s]);else for(var u=0;u<o&&!t.closed;u++)t.next(r[u].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||Ny.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(Ey.a),My=function t(e,n){_classCallCheck(this,t),this.time=e,this.value=n};function Ly(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,u=t.refCount,a=t.scheduler,c=0,l=!1,f=!1;return function(t){c++,e&&!l||(l=!1,e=new Ry(i,s,a),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){f=!0,n=void 0,e.complete()}}));var r=e.subscribe(this);this.add((function(){c--,r.unsubscribe(),n&&!f&&u&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(r))}}var Fy=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Uy=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Hy=n("EY2u");function qy(t){return function(e){return 0===t?Object(Hy.a)():e.lift(new Gy(t))}}var Gy=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Uy}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new zy(t,this.total))}}]),t}(),zy=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(Ke.a);function By(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Ky(t))}}var Ky=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Jy(t,this.defaultValue))}}]),t}(),Jy=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(Ke.a);function Wy(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qy;return function(e){return e.lift(new Zy(t))}}var Zy=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Yy(t,this.errorFactory))}}]),t}(),Yy=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(wy){t=wy}this.destination.error(t)}}]),n}(Ke.a);function Qy(){return new Fy}var Xy=n("SpAZ");function $y(t,e){return e?Sy((function(){return t}),e):Sy((function(){return t}))}var tg,eg,ng=n("tf+s"),rg=new r.l("angularfire2.auth.use-emulator"),ig=new r.l("angularfire2.auth.settings"),og=new r.l("angularfire2.auth.tenant-id"),sg=new r.l("angularfire2.auth.langugage-code"),ug=new r.l("angularfire2.auth.use-device-language"),ag=new r.l("angularfire.auth.persistence"),cg=((eg=function t(e,r,i,o,s,u,a,c,l,f){_classCallCheck(this,t);var h=new Fe.d(o),d=Object(Fe.h)(h),p=new Ey.a,v=Object(He.a)(void 0).pipe(Object(on.b)(h.outsideAngular),Sy((function(){return o.runOutsideAngular((function(){return n.e(5).then(n.bind(null,"6nsN"))}))})),Object(lt.a)((function(){return Object(Fe.g)(e,o,r)})),Object(lt.a)((function(t){return o.runOutsideAngular((function(){var e=s,n=u;return Object(Fe.f)(t.name+".auth","AngularFireAuth",t,(function(){var r=o.runOutsideAngular((function(){return t.auth()}));return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),f&&r.setPersistence(f),r}),[e,a,c,l,n,f])}))})),Ly({bufferSize:1,refCount:!1}));if(I(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(He.a)(null);else{v.pipe(function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?en((function(e,n){return t(e,n,r)})):Xy.a,qy(1),n?By(e):Wy((function(){return new Fy})))}}()).subscribe();var y=v.pipe(Sy((function(t){return t.getRedirectResult().then((function(t){return t}),(function(){return null}))})),d,Ly({bufferSize:1,refCount:!1})),g=function(t){return new at.a((function(e){return{unsubscribe:o.runOutsideAngular((function(){return t(e)}))}}))},m=v.pipe(Sy((function(t){return g(t.onAuthStateChanged.bind(t))}))),b=v.pipe(Sy((function(t){return g(t.onIdTokenChanged.bind(t))})));this.authState=y.pipe($y(m),Object(ng.a)(h.outsideAngular),Object(on.b)(h.insideAngular)),this.user=y.pipe($y(b),Object(ng.a)(h.outsideAngular),Object(on.b)(h.insideAngular)),this.idToken=this.user.pipe(Sy((function(t){return t?Object(ht.a)(t.getIdToken()):Object(He.a)(null)}))),this.idTokenResult=this.user.pipe(Sy((function(t){return t?Object(ht.a)(t.getIdTokenResult()):Object(He.a)(null)}))),this.credential=Object(Iy.a)(y,p,this.authState.pipe(en((function(t){return!t})))).pipe(Object(lt.a)((function(t){return(null==t?void 0:t.user)?t:null})),Object(ng.a)(h.outsideAngular),Object(on.b)(h.insideAngular))}return Object(Fe.i)(this,v,o,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then((function(t){return p.next(t)}))}}})}).\u0275fac=function(t){return new(t||eg)(r.Gb(Fe.c),r.Gb(Fe.b,8),r.Gb(r.u),r.Gb(r.s),r.Gb(rg,8),r.Gb(ig,8),r.Gb(og,8),r.Gb(sg,8),r.Gb(ug,8),r.Gb(ag,8))},eg.\u0275prov=Object(r.wb)({factory:function(){return new eg(Object(r.Gb)(Fe.c),Object(r.Gb)(Fe.b,8),Object(r.Gb)(r.u),Object(r.Gb)(r.s),Object(r.Gb)(rg,8),Object(r.Gb)(ig,8),Object(r.Gb)(og,8),Object(r.Gb)(sg,8),Object(r.Gb)(ug,8),Object(r.Gb)(ag,8))},token:eg,providedIn:"any"}),eg),lg=((tg=function t(){_classCallCheck(this,t)}).\u0275mod=r.yb({type:tg}),tg.\u0275inj=r.xb({factory:function(t){return new(t||tg)},providers:[cg]}),tg);function fg(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue.a;return new at.a((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot({includeMetadataChanges:!0},n)})):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}}))}(t,e)}function hg(t,e){return fg(t,e).pipe(Object(lt.a)((function(t){return{payload:t,type:"query"}})))}function dg(t,e){return hg(t,e).pipe(Be(void 0),Je(),Object(lt.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=r.payload.docChanges(),o=i.map((function(t){return{type:t.type,payload:t}}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((function(t,e){var r=i.find((function(e){return e.doc.ref.isEqual(t.ref)})),s=null==n?void 0:n.payload.docs.find((function(e){return e.ref.isEqual(t.ref)}));r&&JSON.stringify(r.doc.metadata)===JSON.stringify(t.metadata)||!r&&s&&JSON.stringify(s.metadata)===JSON.stringify(t.metadata)||o.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})})),o})))}function pg(t,e,n){return dg(t,n).pipe(Ye((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return vg(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return vg(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return vg(t,e.oldIndex,1)}return t}(t,e))})),t}(t,n.map((function(t){return t.payload})),e)}),[]),(function(t){return t.lift(new $e(void 0,void 0))}),Object(lt.a)((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function vg(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];return r.splice.apply(r,[e,n].concat(o)),r}function yg(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var gg=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){var e=dg(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(lt.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})))),e.pipe(Be(void 0),Je(),en((function(t){var e=_slicedToArray(t,2),n=e[0];return e[1].length>0||!n})),Object(lt.a)((function(t){var e=_slicedToArray(t,2);e[0];return e[1]})),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Ye((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=yg(t);return pg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return hg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(lt.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(Object.assign({},e.data()),_defineProperty({},t.idField,e.id)):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(ht.a)(this.query.get(t)).pipe(Object(on.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new mg(this.ref.doc(t),this.afs)}}]),t}(),mg=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=Eg(this.ref.collection(t),e),r=n.ref,i=n.query;return new gg(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return fg(this.ref,this.afs.schedulers.outsideAngular).pipe(Be(void 0),Je(),Object(lt.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(lt.a)((function(e){var n=e.payload;return t.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},t.idField,n.id)):n.data()})))}},{key:"get",value:function(t){return Object(ht.a)(this.ref.get(t)).pipe(Object(on.b)(this.afs.schedulers.insideAngular))}}]),t}(),bg=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?dg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(lt.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),en((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):dg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Ye((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=yg(t);return pg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return hg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(lt.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(_defineProperty({},t.idField,e.id),e.data()):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(ht.a)(this.query.get(t)).pipe(Object(on.b)(this.afs.schedulers.insideAngular))}}]),t}(),_g=new r.l("angularfire2.enableFirestorePersistence"),wg=new r.l("angularfire2.firestore.persistenceSettings"),kg=new r.l("angularfire2.firestore.settings"),Cg=new r.l("angularfire2.firestore.use-emulator");function Eg(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var Ig,Og,Tg,Ag,Sg=((Ag=function(){function t(e,n,r,i,o,s,u,a,c){_classCallCheck(this,t),this.schedulers=new Fe.d(s),this.keepUnstableUntilFirst=Object(Fe.h)(this.schedulers);var l=Object(Fe.g)(e,s,n);!sn.a.auth&&c&&Object(Fe.j)();var f=a,h=_slicedToArray(Object(Fe.f)(l.name+".firestore","AngularFirestore",l,(function(){var t=s.runOutsideAngular((function(){return l.firestore()}));return i&&t.settings(i),f&&t.useEmulator.apply(t,_toConsumableArray(f)),r&&!I(o)?[t,s.runOutsideAngular((function(){try{return Object(ht.a)(t.enablePersistence(u||void 0).then((function(){return!0}),(function(){return!1})))}catch(wy){return"undefined"!=typeof console&&console.warn(wy),Object(He.a)(!1)}}))]:[t,Object(He.a)(!1)]}),[i,f,r]),2);this.firestore=h[0],this.persistenceEnabled$=h[1]}return _createClass(t,[{key:"collection",value:function(t,e){var n=Eg("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new gg(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new bg(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run((function(){return e}));return new mg(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||Ag)(r.Gb(Fe.c),r.Gb(Fe.b,8),r.Gb(_g,8),r.Gb(kg,8),r.Gb(r.u),r.Gb(r.s),r.Gb(wg,8),r.Gb(Cg,8),r.Gb(rg,8))},Ag.\u0275prov=Object(r.wb)({factory:function(){return new Ag(Object(r.Gb)(Fe.c),Object(r.Gb)(Fe.b,8),Object(r.Gb)(_g,8),Object(r.Gb)(kg,8),Object(r.Gb)(r.u),Object(r.Gb)(r.s),Object(r.Gb)(wg,8),Object(r.Gb)(Cg,8),Object(r.Gb)(rg,8))},token:Ag,providedIn:"any"}),Ag),xg=((Tg=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:_g,useValue:!0},{provide:wg,useValue:e}]}}}]),t}()).\u0275mod=r.yb({type:Tg}),Tg.\u0275inj=r.xb({factory:function(t){return new(t||Tg)},providers:[Sg]}),Tg),jg=((Og=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.afs=e,this.auth=n,this.chats=[],this.usuario={},this.auth.authState.subscribe((function(t){console.log(t),t&&(r.usuario.nombre=t.displayName,r.usuario.uid=t.uid)}))}return _createClass(t,[{key:"cargarMensajes",value:function(){var t=this;return this.chatCollection=this.afs.collection("chats",(function(t){return t.orderBy("fecha","desc").limit(5)})),this.chatCollection.valueChanges().pipe(Object(lt.a)((function(e){t.chats=[];var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.chats.unshift(i)}}catch(o){r.e(o)}finally{r.f()}return t.chats})))}},{key:"agregarMensaje",value:function(t){var e={nombre:this.usuario.nombre,mensaje:t,fecha:(new Date).getTime(),uid:this.usuario.uid};return this.chatCollection.add(e)}},{key:"login",value:function(){this.auth.signInWithPopup(new sn.a.auth.GoogleAuthProvider)}},{key:"logout",value:function(){this.usuario={},this.auth.signOut()}}]),t}()).\u0275fac=function(t){return new(t||Og)(r.Gb(Sg),r.Gb(cg))},Og.\u0275prov=r.wb({token:Og,factory:Og.\u0275fac,providedIn:"root"}),Og),Ng=((Ig=function(){function t(e){_classCallCheck(this,t),this._cs=e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ingresar",value:function(){this._cs.login()}}]),t}()).\u0275fac=function(t){return new(t||Ig)(r.Ab(jg))},Ig.\u0275cmp=r.ub({type:Ig,selectors:[["app-login"]],decls:6,vars:0,consts:[[1,"row"],[1,"col-md-12","text-center"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(t,e){1&t&&(r.Db(0,"div",0),r.Db(1,"div",1),r.Db(2,"p"),r.Rb(3,"Ingrese al chat con su cuenta favorita"),r.Cb(),r.Db(4,"button",2),r.Jb("click",(function(){return e.ingresar()})),r.Rb(5," Google "),r.Cb(),r.Cb(),r.Cb())},encapsulation:2}),Ig),Dg=function(t){return{"text-end":t}},Pg=function(t,e){return{"bg-primary":t,"bg-danger":e}};function Vg(t,e){if(1&t&&(r.Db(0,"div",3),r.Db(1,"span",4),r.Rb(2),r.Cb(),r.Db(3,"p"),r.Rb(4),r.Cb(),r.Cb()),2&t){var n=e.$implicit,i=r.Kb();r.Lb("ngClass",r.Mb(4,Dg,i._cs.usuario.uid==n.uid)),r.rb(1),r.Lb("ngClass",r.Nb(6,Pg,i._cs.usuario.uid==n.uid,i._cs.usuario.uid!=n.uid)),r.rb(1),r.Tb(" ",n.nombre," "),r.rb(2),r.Sb(n.mensaje)}}var Rg,Mg=((Rg=function(){function t(e){var n=this;_classCallCheck(this,t),this._cs=e,this.mensaje="",this._cs.cargarMensajes().subscribe((function(){setTimeout((function(){n.elemento.scrollTop=n.elemento.scrollHeight}),20)}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.elemento=document.getElementById("app-mensajes")}},{key:"enviar_mensaje",value:function(){var t=this;0!==this.mensaje.length&&this._cs.agregarMensaje(this.mensaje).then((function(){t.mensaje=""})).catch((function(t){console.log("Error al enviar ",t)}))}}]),t}()).\u0275fac=function(t){return new(t||Rg)(r.Ab(jg))},Rg.\u0275cmp=r.ub({type:Rg,selectors:[["app-chat"]],decls:6,vars:2,consts:[["id","app-mensajes",1,"app-mensajes"],[3,"ngClass",4,"ngFor","ngForOf"],["type","text","name","mensaje","placeholder","Enviar mensaje",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[3,"ngClass"],[1,"badge",3,"ngClass"]],template:function(t,e){1&t&&(r.Db(0,"h1"),r.Rb(1,"Chat"),r.Cb(),r.Bb(2,"hr"),r.Db(3,"div",0),r.Qb(4,Vg,5,9,"div",1),r.Cb(),r.Db(5,"input",2),r.Jb("ngModelChange",(function(t){return e.mensaje=t}))("keyup.enter",(function(){return e.enviar_mensaje()})),r.Cb()),2&t&&(r.rb(4),r.Lb("ngForOf",e._cs.chats),r.rb(1),r.Lb("ngModel",e.mensaje))},directives:[m,Ct,xt,Re,y],encapsulation:2}),Rg);function Lg(t,e){if(1&t){var n=r.Eb();r.Db(0,"div",4),r.Db(1,"button",5),r.Jb("click",(function(){return r.Ob(n),r.Kb()._cs.logout()})),r.Rb(2,"Salir"),r.Cb(),r.Cb()}}function Fg(t,e){1&t&&r.Bb(0,"app-login")}function Ug(t,e){1&t&&(r.Db(0,"div",6),r.Bb(1,"app-chat"),r.Cb())}var Hg,qg,Gg=((qg=function t(e){_classCallCheck(this,t),this._cs=e,this.title="chatfire"}).\u0275fac=function(t){return new(t||qg)(r.Ab(jg))},qg.\u0275cmp=r.ub({type:qg,selectors:[["app-root"]],decls:6,vars:3,consts:[[1,"container","main-container"],["class","col-md-12 text-center",4,"ngIf"],[4,"ngIf"],["class","chat-window",4,"ngIf"],[1,"col-md-12","text-center"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"chat-window"]],template:function(t,e){1&t&&(r.Db(0,"div",0),r.Db(1,"h1"),r.Rb(2," Firechat"),r.Cb(),r.Qb(3,Lg,3,0,"div",1),r.Qb(4,Fg,1,0,"app-login",2),r.Qb(5,Ug,2,0,"div",3),r.Cb()),2&t&&(r.rb(3),r.Lb("ngIf",e._cs.usuario.uid),r.rb(1),r.Lb("ngIf",!e._cs.usuario.uid),r.rb(1),r.Lb("ngIf",e._cs.usuario.uid))},directives:[_,Ng,Mg],styles:[""]}),qg),zg=((Hg=function t(){_classCallCheck(this,t)}).\u0275mod=r.yb({type:Hg,bootstrap:[Gg]}),Hg.\u0275inj=r.xb({factory:function(t){return new(t||Hg)},providers:[],imports:[[ut,Le,Fe.a.initializeApp(i),xg,lg]]}),Hg);Object(r.J)(),ot().bootstrapModule(zg).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);